{"version":3,"file":"index-Rc3pDdyN.js","sources":["../../src/transition/browserStorage.ts","../../src/transition/utilities.ts","../../src/services/matchObject/umo.ts","../../src/config/version.ts","../../src/transition/env.ts","../../src/transition/formatChangePossible.ts","../../src/functions/typeOf.js","../../src/functions/legacyRally.ts","../../src/transition/displayPointHistory.ts","../../src/transition/groupGames.ts","../../src/transition/modals.ts","../../src/transition/displayUpdate.ts","../../src/assets/icons/exportwhite.png","../../src/assets/icons/recycle.png","../../src/transition/modalExport.ts","../../src/transition/swipeList.ts","../../src/transition/events.ts","../../src/transition/UUID.ts","../../src/transition/loadMatch.ts","../../src/transition/displayMatchArchive.ts","../../src/transition/displayFormats.ts","../../src/transition/strokeSlider.ts","../../src/transition/touchManager.ts","../../node_modules/.pnpm/d3-array@1.2.1/node_modules/d3-array/src/ascending.js","../../node_modules/.pnpm/d3-array@1.2.1/node_modules/d3-array/src/bisector.js","../../node_modules/.pnpm/d3-array@1.2.1/node_modules/d3-array/src/bisect.js","../../node_modules/.pnpm/d3-array@1.2.1/node_modules/d3-array/src/range.js","../../node_modules/.pnpm/d3-array@1.2.1/node_modules/d3-array/src/ticks.js","../../node_modules/.pnpm/d3-axis@1.0.8/node_modules/d3-axis/src/array.js","../../node_modules/.pnpm/d3-axis@1.0.8/node_modules/d3-axis/src/identity.js","../../node_modules/.pnpm/d3-axis@1.0.8/node_modules/d3-axis/src/axis.js","../../node_modules/.pnpm/d3-dispatch@1.0.3/node_modules/d3-dispatch/src/dispatch.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/namespaces.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/namespace.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/creator.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selector.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/select.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selectorAll.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/selectAll.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/matcher.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/filter.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/sparse.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/enter.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/constant.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/data.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/exit.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/merge.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/order.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/sort.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/call.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/nodes.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/node.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/size.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/empty.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/each.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/attr.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/window.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/style.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/property.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/classed.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/text.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/html.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/raise.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/lower.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/append.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/insert.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/remove.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/clone.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/datum.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/on.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/dispatch.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/index.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/select.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/local.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selectAll.js","../../node_modules/.pnpm/d3-color@1.0.3/node_modules/d3-color/src/define.js","../../node_modules/.pnpm/d3-color@1.0.3/node_modules/d3-color/src/color.js","../../node_modules/.pnpm/d3-color@1.0.3/node_modules/d3-color/src/math.js","../../node_modules/.pnpm/d3-color@1.0.3/node_modules/d3-color/src/lab.js","../../node_modules/.pnpm/d3-color@1.0.3/node_modules/d3-color/src/cubehelix.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/constant.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/color.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/rgb.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/array.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/date.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/number.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/object.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/string.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/value.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/round.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/transform/decompose.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/transform/parse.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/transform/index.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/hcl.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/cubehelix.js","../../node_modules/.pnpm/d3-timer@1.0.7/node_modules/d3-timer/src/timer.js","../../node_modules/.pnpm/d3-timer@1.0.7/node_modules/d3-timer/src/timeout.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/schedule.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/interrupt.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/selection/interrupt.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/tween.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/interpolate.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/attr.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/attrTween.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/delay.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/duration.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/ease.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/filter.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/merge.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/on.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/remove.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/select.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/selectAll.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/selection.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/style.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/styleTween.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/text.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/transition.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/index.js","../../node_modules/.pnpm/d3-ease@1.0.3/node_modules/d3-ease/src/cubic.js","../../node_modules/.pnpm/d3-ease@1.0.3/node_modules/d3-ease/src/poly.js","../../node_modules/.pnpm/d3-ease@1.0.3/node_modules/d3-ease/src/back.js","../../node_modules/.pnpm/d3-ease@1.0.3/node_modules/d3-ease/src/elastic.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/selection/transition.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/selection/index.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/active.js","../../node_modules/.pnpm/d3-path@1.0.5/node_modules/d3-path/src/path.js","../../node_modules/.pnpm/d3-collection@1.0.4/node_modules/d3-collection/src/map.js","../../node_modules/.pnpm/d3-collection@1.0.4/node_modules/d3-collection/src/set.js","../../node_modules/.pnpm/d3-dsv@1.0.8/node_modules/d3-dsv/src/dsv.js","../../node_modules/.pnpm/d3-dsv@1.0.8/node_modules/d3-dsv/src/csv.js","../../node_modules/.pnpm/d3-dsv@1.0.8/node_modules/d3-dsv/src/tsv.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/add.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/cover.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/data.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/extent.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/quad.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/find.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/remove.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/root.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/size.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/visit.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/visitAfter.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/x.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/y.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/quadtree.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/formatDecimal.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/exponent.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/formatGroup.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/formatNumerals.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/formatDefault.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/formatPrefixAuto.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/formatRounded.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/formatTypes.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/formatSpecifier.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/identity.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/locale.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/defaultLocale.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/precisionFixed.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/precisionPrefix.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/precisionRound.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/adder.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/math.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/area.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/bounds.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/rotation.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/polygonContains.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/length.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/path/area.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/path/measure.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/transform.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/projection/equirectangular.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/count.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/each.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/sum.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/sort.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/path.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/descendants.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/leaves.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/links.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/index.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/treemap/dice.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/tree.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/treemap/slice.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/treemap/squarify.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/treemap/resquarify.js","../../node_modules/.pnpm/d3-queue@3.0.7/node_modules/d3-queue/src/array.js","../../node_modules/.pnpm/d3-queue@3.0.7/node_modules/d3-queue/src/queue.js","../../node_modules/.pnpm/d3-random@1.1.0/node_modules/d3-random/src/defaultSource.js","../../node_modules/.pnpm/d3-random@1.1.0/node_modules/d3-random/src/uniform.js","../../node_modules/.pnpm/d3-random@1.1.0/node_modules/d3-random/src/normal.js","../../node_modules/.pnpm/d3-random@1.1.0/node_modules/d3-random/src/logNormal.js","../../node_modules/.pnpm/d3-random@1.1.0/node_modules/d3-random/src/irwinHall.js","../../node_modules/.pnpm/d3-random@1.1.0/node_modules/d3-random/src/bates.js","../../node_modules/.pnpm/d3-random@1.1.0/node_modules/d3-random/src/exponential.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/array.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/ordinal.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/band.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/constant.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/number.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/continuous.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/tickFormat.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/linear.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/interval.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/millisecond.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/duration.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/second.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/minute.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/hour.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/day.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/week.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/month.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/year.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/utcMinute.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/utcHour.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/utcDay.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/utcWeek.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/utcMonth.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/utcYear.js","../../node_modules/.pnpm/d3-time-format@2.1.1/node_modules/d3-time-format/src/locale.js","../../node_modules/.pnpm/d3-time-format@2.1.1/node_modules/d3-time-format/src/defaultLocale.js","../../node_modules/.pnpm/d3-time-format@2.1.1/node_modules/d3-time-format/src/isoFormat.js","../../node_modules/.pnpm/d3-time-format@2.1.1/node_modules/d3-time-format/src/isoParse.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/colors.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/category10.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/category20b.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/category20c.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/category20.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/cubehelix.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/rainbow.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/viridis.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/constant.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/math.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/linear.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/point.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/line.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/noop.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/basis.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/bundle.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/cardinal.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/cardinalClosed.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/cardinalOpen.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/catmullRom.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/catmullRomClosed.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/catmullRomOpen.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/monotone.js","../../node_modules/.pnpm/d3-voronoi@1.1.2/node_modules/d3-voronoi/src/RedBlackTree.js","../../node_modules/.pnpm/d3-voronoi@1.1.2/node_modules/d3-voronoi/src/Edge.js","../../node_modules/.pnpm/d3-voronoi@1.1.2/node_modules/d3-voronoi/src/Cell.js","../../node_modules/.pnpm/d3-voronoi@1.1.2/node_modules/d3-voronoi/src/Circle.js","../../node_modules/.pnpm/d3-voronoi@1.1.2/node_modules/d3-voronoi/src/Beach.js","../../node_modules/.pnpm/d3-voronoi@1.1.2/node_modules/d3-voronoi/src/Diagram.js","../../node_modules/.pnpm/d3-zoom@1.7.1/node_modules/d3-zoom/src/transform.js","../../src/transition/simpleChart.ts","../../src/transition/updateStats.ts","../../src/transition/viewManager.ts","../../src/transition/gameFish.ts","../../src/transition/momentumChart.ts","../../src/transition/gameTree.ts","../../src/transition/ptsChart.ts","../../src/transition/configureViz.ts","../../src/config/setWindow.ts","../../src/config/initialState.ts","../../src/config/getJwtTokenStorageKey.ts","../../src/services/tmxTimer.js","../../src/transition/constants.ts","../../src/services/notifications/toaster.js","../../src/services/notifications/tmxToast.ts","../../src/transition/pulseCircle.ts","../../node_modules/.pnpm/engine.io-parser@5.2.1/node_modules/engine.io-parser/build/esm/commons.js","../../node_modules/.pnpm/engine.io-parser@5.2.1/node_modules/engine.io-parser/build/esm/encodePacket.browser.js","../../node_modules/.pnpm/engine.io-parser@5.2.1/node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js","../../node_modules/.pnpm/engine.io-parser@5.2.1/node_modules/engine.io-parser/build/esm/decodePacket.browser.js","../../node_modules/.pnpm/engine.io-parser@5.2.1/node_modules/engine.io-parser/build/esm/index.js","../../node_modules/.pnpm/@socket.io+component-emitter@3.1.0/node_modules/@socket.io/component-emitter/index.mjs","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/globalThis.browser.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/util.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/contrib/parseqs.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/transport.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/contrib/yeast.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/contrib/has-cors.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/transports/polling.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/transports/websocket.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/transports/webtransport.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/transports/index.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/contrib/parseuri.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/socket.js","../../node_modules/.pnpm/socket.io-client@4.7.4/node_modules/socket.io-client/build/esm/url.js","../../node_modules/.pnpm/socket.io-parser@4.2.4/node_modules/socket.io-parser/build/esm/is-binary.js","../../node_modules/.pnpm/socket.io-parser@4.2.4/node_modules/socket.io-parser/build/esm/binary.js","../../node_modules/.pnpm/socket.io-parser@4.2.4/node_modules/socket.io-parser/build/esm/index.js","../../node_modules/.pnpm/socket.io-client@4.7.4/node_modules/socket.io-client/build/esm/on.js","../../node_modules/.pnpm/socket.io-client@4.7.4/node_modules/socket.io-client/build/esm/socket.js","../../node_modules/.pnpm/socket.io-client@4.7.4/node_modules/socket.io-client/build/esm/contrib/backo2.js","../../node_modules/.pnpm/socket.io-client@4.7.4/node_modules/socket.io-client/build/esm/manager.js","../../node_modules/.pnpm/socket.io-client@4.7.4/node_modules/socket.io-client/build/esm/index.js","../../src/transition/coms.ts","../../node_modules/.pnpm/jwt-decode@4.0.0/node_modules/jwt-decode/build/esm/index.js","../../src/services/auth/validateToken.ts","../../src/services/auth/loginState.ts","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/bind.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/utils.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/core/AxiosError.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/null.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/toFormData.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/AxiosURLSearchParams.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/buildURL.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/core/InterceptorManager.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/defaults/transitional.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/platform/browser/classes/FormData.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/platform/browser/classes/Blob.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/platform/browser/index.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/platform/common/utils.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/platform/index.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/toURLEncodedForm.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/formDataToJSON.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/defaults/index.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/parseHeaders.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/core/AxiosHeaders.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/core/transformData.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/cancel/isCancel.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/cancel/CanceledError.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/core/settle.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/cookies.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/isAbsoluteURL.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/combineURLs.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/core/buildFullPath.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/isURLSameOrigin.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/parseProtocol.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/speedometer.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/adapters/xhr.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/adapters/adapters.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/core/dispatchRequest.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/core/mergeConfig.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/env/data.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/validator.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/core/Axios.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/cancel/CancelToken.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/spread.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/isAxiosError.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/helpers/HttpStatusCode.js","../../node_modules/.pnpm/axios@1.6.7/node_modules/axios/lib/axios.js","../../src/services/messaging/baseApi.ts","../../src/services/messaging/authApi.ts","../../src/services/helpers/setDev.ts","../../src/transition/updateTournamentDetails.ts","../../src/transition/updateMatchDetails.ts","../../src/transition/updateDetails.ts","../../src/transition/eventManager.ts","../../src/transition/broadcastScore.ts","../../src/transition/checkMatchEnd.ts","../../src/transition/strokeAction.ts","../../src/transition/updatePlayer.ts","../../src/transition/changeFormat.ts","../../src/transition/classAction.ts","../../src/transition/exportMatch.ts","../../src/transition/toggleChart.ts","../../src/assets/icons/emailblack.png","../../src/transition/modalShare.ts","../../src/transition/editPoint.ts","../../src/transition/editPlayer.ts","../../src/assets/icons/points.jpg","../../src/transition/modalHelp.ts","../../src/transition/modalInfo.ts","../../src/transition/enterKey.ts","../../src/transition/clickActions.ts","../../src/transition/registerEvents.ts","../../node_modules/.pnpm/clipboard@2.0.11/node_modules/clipboard/dist/clipboard.js","../../src/transition/init.ts","../../src/assets/images/courthive-transparent-logo.png","../../src/pages/courthive/default.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/constants.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/utils.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/Q.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/setLocationPath.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/matchPathToRegisteredRoutes.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/checkForDeprecationMethods.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/checkForForceOp.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/updateBrowserURL.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/checkForLeaveHook.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/checkForBeforeHook.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/callHandler.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/checkForAfterHook.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/checkForAlreadyHook.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/checkForNotFoundHandler.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/errorOut.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/flushCurrent.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/updateState.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/lifecycles.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/processMatches.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/waitingList.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/index.js","../../src/router/router.ts","../../src/main.ts"],"sourcesContent":["/**\n * Whether the current browser supports local storage as a way of storing data\n * @var {Boolean}\n */\nconst _hasLocalStorageSupport = (function () {\n  try {\n    return 'localStorage' in window && window['localStorage'] !== null;\n  } catch (e) {\n    return false;\n  }\n})();\n\n/**\n * @param {String} name The name of the property to read from this document's cookies\n * @return {?String} The specified cookie property's value (or null if it has not been set)\n */\nconst _readCookie = function (name: string) {\n  const nameEQ = name + '=';\n  const ca = document.cookie.split(';');\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i];\n    while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n    if (c.startsWith(nameEQ)) return c.substring(nameEQ.length, c.length);\n  }\n\n  return null;\n};\n\n/**\n * @param {String} name The name of the property to set by writing to a cookie\n * @param {String} value The value to use when setting the specified property\n * @param {int} [days] The number of days until the storage of this item expires\n */\nconst _writeCookie = function (name: string, value: string, days?: any) {\n  const expiration = (function () {\n    if (days) {\n      const date = new Date();\n      date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n      return '; expires=' + date.toUTCString();\n    } else {\n      return '';\n    }\n  })();\n\n  document.cookie = name + '=' + value + expiration + '; path=/';\n};\n\nexport const browserStorage = {\n  /**\n   * @param {String} name The name of the property to set\n   * @param {String} value The value to use when setting the specified property\n   * @param {int} [days] The number of days until the storage of this item expires (if storage of the provided item must fallback to using cookies)\n   */\n  set: function (name: string, value: string, days?: any) {\n    _hasLocalStorageSupport ? localStorage.setItem(name, value) : _writeCookie(name, value, days);\n  },\n\n  /**\n   * @param {String} name The name of the value to retrieve\n   * @return {?String} The value of the\n   */\n  get: function (name: string) {\n    return _hasLocalStorageSupport ? localStorage.getItem(name) : _readCookie(name);\n  },\n\n  /**\n   * @param {String} name The name of the value to delete/remove from storage\n   */\n  remove: function (name: string) {\n    _hasLocalStorageSupport ? localStorage.removeItem(name) : this.set(name, '', -1);\n  }\n};\n","export function isJSON(str: any) {\n  try {\n    JSON.parse(str);\n  } catch (e) {\n    return false;\n  }\n  return true;\n}\n\nexport function showModal(text: string, data?: any) {\n  const modalText = document.getElementById('modaltext');\n  if (modalText) modalText.innerHTML = text;\n  if (data) {\n    const c2c = document.getElementById('copy2clipboard');\n    if (c2c) c2c.setAttribute('data-clipboard-text', data);\n  }\n  const modal = document.getElementById('modal');\n  if (modal) modal.style.display = 'flex';\n}\n\nexport function firstAndLast(value: string) {\n  const parts = value.split(' ');\n  let display = parts[0];\n  if (parts.length > 1) display += ' ' + parts[parts.length - 1];\n  return display;\n}\n\nexport function getOpponents(match: any) {\n  const format = match.format;\n  const sides = match.sides;\n  return 'singles' === format\n    ? sides.map(function (e: any) {\n        return firstAndLast(e[0]);\n      })\n    : sides.map(teamName);\n}\n\nfunction teamName(side: any[]) {\n  return side[0].last_name + '/' + side[1].last_name;\n}\n\nexport function attemptJSONparse(data: string) {\n  if (!data) return undefined;\n  try {\n    return JSON.parse(data);\n  } catch (e) {\n    return undefined;\n  }\n}\n\nexport function formatDate(date: string, separator = '-', format = 'YMD') {\n  if (!date) return '';\n\n  const d = new Date(date);\n  let month = '' + (d.getMonth() + 1);\n  let day = '' + d.getDate();\n  const year = d.getFullYear();\n\n  if (month.length < 2) month = '0' + month;\n  if (day.length < 2) day = '0' + day;\n\n  if (format == 'DMY') return [day, month, year].join(separator);\n  if (format == 'MDY') return [month, day, year].join(separator);\n  if (format == 'YDM') return [year, day, month].join(separator);\n  if (format == 'DYM') return [day, year, month].join(separator);\n  if (format == 'MYD') return [month, year, day].join(separator);\n  return [year, month, day].join(separator);\n}\n\nexport function generateRange(start: number, end: number) {\n  return Array.from({ length: end - start }, (_, k) => k + start);\n}\n\nexport function findUpClass(el: any, class_name: string) {\n  while (el.parentNode) {\n    el = el.parentNode;\n    if (el.classList && Array.from(el.classList).indexOf(class_name) >= 0) return el;\n  }\n  return null;\n}\n","const umo: any = function () {};\n\n// these events will propagate to all objects created with factory functions\numo.addPoint_events = [];\numo.undo_events = [];\numo.reset_events = [];\n\numo.pointParser = defaultPointParser;\n\nconst formats = {\n  games: {\n    advantage: { description: 'Advantage Game', tiebreak: false, hasDecider: false, threshold: 4, minDiff: 2 },\n    noAdvantage: { description: 'No Advantage Game', tiebreak: false, hasDecider: true, threshold: 4, minDiff: 1 },\n    tiebreak7a: { description: 'Tiebreak to 7', tiebreak: true, hasDecider: false, threshold: 7, minDiff: 2 },\n    tiebreak10a: { description: 'Tiebreak to 10', tiebreak: true, hasDecider: false, threshold: 10, minDiff: 2 },\n    tiebreak12a: { description: 'Tiebreak to 10', tiebreak: true, hasDecider: false, threshold: 12, minDiff: 2 },\n    tiebreak9n: {\n      description: 'Tiebreak to 9, Golden Point',\n      tiebreak: true,\n      hasDecider: true,\n      threshold: 9,\n      minDiff: 1,\n    },\n  },\n  sets: {\n    AdSetsTo6tb7: {\n      description: 'Advantage, 6 games for set, Tiebreak to 7',\n      hasDecider: true,\n      threshold: 6,\n      minDiff: 2,\n      children: 'advantage',\n      decidingChild: 'tiebreak7a',\n    },\n    NoAdSetsTo6tb7: {\n      description: 'No-Ad, 6 games for set, Tiebreak to 7',\n      hasDecider: true,\n      threshold: 6,\n      minDiff: 2,\n      children: 'noAdvantage',\n      decidingChild: 'tiebreak7a',\n    },\n    NoAdSetsTo4tb7: {\n      description: 'No-Ad, 4 games for set, Tiebreak to 7',\n      hasDecider: true,\n      threshold: 4,\n      minDiff: 0,\n      children: 'noAdvantage',\n      decidingChild: 'tiebreak7a',\n    },\n    longSetTo6by2: {\n      description: 'Advantage, 6 games for set, win by 2 games',\n      hasDecider: false,\n      threshold: 6,\n      minDiff: 2,\n      children: 'advantage',\n      decidingChild: 'advantage',\n    },\n    supertiebreak: {\n      description: 'Supertiebreak',\n      hasDecider: true,\n      threshold: 1,\n      minDiff: 1,\n      children: 'tiebreak10a',\n      decidingChild: 'tiebreak10a',\n    },\n    pro10a12: {\n      description: '10 Game No Ad Pro Set; tiebreak to 12',\n      hasDecider: true,\n      threshold: 10,\n      minDiff: 2,\n      children: 'noAdvantage',\n      decidingChild: 'tiebreak12a',\n    },\n    pro8a7: {\n      description: '8 Game Pro Set; tiebreak to 7',\n      hasDecider: true,\n      threshold: 8,\n      minDiff: 2,\n      children: 'advantage',\n      decidingChild: 'tiebreak7a',\n    },\n    NoAdPro8a7: {\n      description: '8 Game Pro Set; tiebreak to 7',\n      hasDecider: true,\n      threshold: 8,\n      minDiff: 2,\n      children: 'noAdvantage',\n      decidingChild: 'tiebreak7a',\n    },\n    college6a7: {\n      description: '6 Game College Doubless Set; no advantage; tiebreak to 7',\n      hasDecider: true,\n      threshold: 6,\n      minDiff: 2,\n      children: 'noAdvantage',\n      decidingChild: 'tiebreak7a',\n    },\n  },\n  matches: {\n    '3_6a_7': {\n      name: 'Standard Advantage',\n      description: 'best of 3 sets, Advantage, 6 games for set, Tiebreak to 7',\n      hasDecider: true,\n      threshold: 2,\n      minDiff: 0,\n      children: 'AdSetsTo6tb7',\n      decidingChild: 'AdSetsTo6tb7',\n    },\n    '3_6n_7': {\n      name: 'Standard No-Advantage',\n      description: 'best of 3 sets, No Advantage, 6 games for set, Tiebreak to 7',\n      hasDecider: true,\n      threshold: 2,\n      minDiff: 0,\n      children: 'NoAdSetsTo6tb7',\n      decidingChild: 'NoAdSetsTo6tb7',\n    },\n    '3_4n_10': {\n      name: 'Standard Under 10',\n      description: 'best of 3 sets, No Advantage, 4 games for set, Tiebreak to 7, final set Supertiebreak',\n      hasDecider: true,\n      threshold: 2,\n      minDiff: 0,\n      children: 'NoAdSetsTo4tb7',\n      decidingChild: 'supertiebreak',\n    },\n    '1_4n_7': {\n      name: 'Under 10 Qualifying',\n      description: '4 games for set, No Advantage, Tiebreak to 7 at 3-3',\n      hasDecider: false,\n      threshold: 1,\n      minDiff: 0,\n      children: 'NoAdSetsTo4tb7',\n      decidingChild: 'NoAdSetsTo4tb7',\n    },\n    '3_6n_10': {\n      name: 'No-Ad, 3rd Set Supertiebreak',\n      description: 'best of 3 sets, No-Ad, 6 games for set, Tiebreak to 7, final set Supertiebreak',\n      hasDecider: true,\n      threshold: 2,\n      minDiff: 0,\n      children: 'NoAdSetsTo6tb7',\n      decidingChild: 'supertiebreak',\n    },\n    '5_6a_7': {\n      name: 'US Open Men',\n      description: 'best of 5 sets, Advantage, 6 games for set, Tiebreak to 7',\n      hasDecider: true,\n      threshold: 3,\n      minDiff: 0,\n      children: 'AdSetsTo6tb7',\n      decidingChild: 'AdSetsTo6tb7',\n    },\n    '5_6a_7_long': {\n      name: 'Grand Slam Men - Final Advantage Set',\n      description: 'best of 5 sets, Advantage, 6 games for set, Tiebreak to 7, final set by 2 games',\n      hasDecider: true,\n      threshold: 3,\n      minDiff: 0,\n      children: 'AdSetsTo6tb7',\n      decidingChild: 'longSetTo6by2',\n    },\n    '3_6a_7_long': {\n      name: 'Grand Slam Women - Final Advantage Set',\n      description: 'best of 5 sets, Advantage, 6 games for set, Tiebreak to 7, final set by 2 games',\n      hasDecider: true,\n      threshold: 2,\n      minDiff: 0,\n      children: 'AdSetsTo6tb7',\n      decidingChild: 'longSetTo6by2',\n    },\n    '1_8a_7': {\n      name: '8 Game Pro Set',\n      description: '1 set, Advantage, 8 games for set, Tiebreak to 7',\n      hasDecider: true,\n      threshold: 1,\n      minDiff: 0,\n      children: 'pro8a7',\n      decidingChild: 'pro8a7',\n    },\n    '1_8n_7': {\n      name: '8 Game Pro Set - No Advantage',\n      description: '1 set, Advantage, 8 games for set, Tiebreak to 7',\n      hasDecider: true,\n      threshold: 1,\n      minDiff: 0,\n      children: 'NoAdPro8a7',\n      decidingChild: 'NoAdPro8a7',\n    },\n    '1_6a_7': {\n      name: '6 Game College Doubles Set',\n      description: '1 set, No Advantage, 6 games for set, Tiebreak to 7',\n      hasDecider: true,\n      threshold: 1,\n      minDiff: 0,\n      children: 'college6a7',\n      decidingChild: 'college6a7',\n    },\n  },\n};\n\numo.formats = () => formats;\numo.newFormat = ({ type, code, description, tiebreak, hasDecider, threshold, minDiff, children, decidingChild }) => {\n  const hasType = Object.keys(formats).indexOf(type) >= 0;\n  const hasCode = hasType && Object.keys(formats[type]).indexOf(code) >= 0;\n  if (hasType && hasCode) return false;\n  formats[type][code] = { description, tiebreak, hasDecider, threshold, minDiff, children, decidingChild };\n  return true;\n};\n\numo.stateObject = ({ index, object, parent_object, child, format, common = umo.common() }) => {\n  const so: any = {};\n  so.child = child;\n  so.format = format;\n  so.child_attributes = ['hasDecider', 'threshold', 'minDiff', 'tiebreak', 'code', 'description'];\n\n  (so.reset = (format?: any) => {\n    so.children = [];\n    so.local_history = [];\n    so.counter = [0, 0];\n    so.first_service = 0;\n    if (!parent_object) {\n      common.metadata.reset();\n      common.metadata.resetStats();\n      common.history = [];\n      common.perspective_score = false;\n      common.events.reset().forEach((fx) => fx());\n    }\n    if (!parent_object && format) {\n      so.format.singles(true);\n      so.format.type(format);\n    }\n  })();\n\n  so.set = {\n    index(value) {\n      if (!arguments.length) return index;\n      if (!isNaN(value)) index = value;\n      return so.set;\n    },\n    liveStats(value) {\n      if (!arguments.length) return common.live_stats;\n      if ([true, false].indexOf(value) < 0) return false;\n      if (value && !common.live_stats && so.history.points().length) {\n        common.metadata.resetStats();\n        common.stats.counters();\n      }\n      if (!value && common.live_stats) common.metadata.resetStats();\n      common.live_stats = value;\n      return so.set;\n    },\n    perspectiveScore(value) {\n      if (!arguments.length) return common.perspective_score;\n      if (so.history.points().length) return false;\n      if ([true, false].indexOf(value) >= 0) common.perspective_score = value;\n      return so.set;\n    },\n    firstService(value) {\n      if (!arguments.length) return so.first_service;\n      if (common.metadata.serviceOrder().indexOf(value) < 0) return false;\n      so.first_service = value;\n      return so.set;\n    },\n  };\n\n  so.history = {};\n  so.history.local = () => so.local_history;\n  so.history.action = (action) => common.history.filter((episode) => episode.action == action);\n  so.history.points = (set) => {\n    let points = common.history.filter((episode) => episode.action == 'addPoint').map((episode) => episode.point);\n    if (set != undefined) points = points.filter((point) => point.set == set);\n    return points;\n  };\n  so.history.score = () => {\n    if (object == 'Game') return so.history.points().map((point) => point.score);\n    return [].concat(...so.children.map((child) => child.history.score()));\n  };\n  so.history.games = () =>\n    object == 'Set' ? so.local_history : [].concat(...so.children.map((child) => child.history.games()));\n  so.history.lastPoint = () => {\n    const point_history = so.history.points();\n    return point_history[point_history.length - 1] || { score: '0-0' };\n  };\n  so.history.common = () => common.history;\n\n  so.score = () => {\n    const counters: any = {\n      local: so.counter,\n    };\n    counters.points =\n      object == 'Game'\n        ? so.complete()\n          ? [0, 0]\n          : so.counter\n        : so.lastChild()\n          ? so.lastChild().score().counters.points\n          : [0, 0];\n    counters.games =\n      object == 'Set'\n        ? so.complete()\n          ? [0, 0]\n          : so.counter\n        : object == 'Match'\n          ? so.lastChild()\n            ? so.lastChild().score().counters.games\n            : [0, 0]\n          : undefined;\n    counters.sets = object == 'Match' ? so.counter : undefined;\n    const score: any = { counters };\n    score.points =\n      object == 'Game'\n        ? so.complete()\n          ? '0-0'\n          : so.scoreboard()\n        : so.lastChild()\n          ? so.lastChild().score().points\n          : '0-0';\n    score.games =\n      object == 'Set'\n        ? so.complete()\n          ? '0-0'\n          : so.perspectiveScore().join('-')\n        : so.lastChild()\n          ? so.lastChild().score().games\n          : '0-0';\n    score.sets =\n      object == 'Match'\n        ? so.complete()\n          ? '0-0'\n          : so.perspectiveScore().join('-')\n        : so.lastChild()\n          ? so.lastChild().score().sets\n          : '0-0';\n    score.components = {};\n    if (object == 'Match' && so.children.length) {\n      score.components.sets = so.children.map((set) => {\n        const map: any = { games: set.score().counters.local };\n        if (set.lastChild()?.format.tiebreak()) map.tiebreak = set.lastChild().score().counters.local;\n        return map;\n      });\n    }\n    score.display = {};\n    return score;\n  };\n\n  so.accessChildren = () => so.children;\n  so.lastChild = () => so.children[so.children.length - 1];\n  so.scoreDifference = () => Math.abs(so.counter[0] - so.counter[1]);\n  so.thresholdMet = () => Math.max(...so.counter) >= so.format.threshold();\n  so.minDifferenceMet = () => so.scoreDifference() >= so.format.minDiff();\n  so.singleThresholdMet = () =>\n    Math.max(...so.counter) >= so.format.threshold() && Math.min(...so.counter) < so.format.threshold();\n  so.winner = () => (so.complete() ? (so.counter[0] > so.counter[1] ? 0 : 1) : undefined);\n  so.reverseScore = () => common.perspective_score && so.nextTeamServing() % 2 == 1;\n  so.nextTeamServing = () =>\n    common.metadata\n      .teams()\n      .map((team: any) => team.indexOf(so.nextService()) >= 0)\n      .indexOf(true);\n  so.nextTeamReceiving = () =>\n    common.metadata\n      .teams()\n      .map((team: any) => team.indexOf(so.nextService()) >= 0)\n      .indexOf(false);\n  so.perspectiveScore = (counter = so.counter, force: boolean) => {\n    if (force != undefined) return force ? counter.slice().reverse() : counter;\n    return so.reverseScore() ? counter.slice().reverse() : counter;\n  };\n  so.complete = () => {\n    function beyondDoubleThreshold() {\n      return so.counter[0] >= so.format.threshold() && so.counter[1] >= so.format.threshold();\n    }\n    return !!(\n      (so.thresholdMet() && so.minDifferenceMet()) ||\n      (beyondDoubleThreshold() && so.scoreDifference() && so.format.hasDecider())\n    );\n  };\n  so.nextService = () => {\n    if (so.complete()) return false;\n    let last_child = so.lastChild();\n\n    if (common.metadata.serviceOrder().indexOf(so.first_service) < 0) {\n      // this would imply that #players decreased from 4 to 2\n      // so, if at the beginning of a game the next team should be 1 - last team\n      console.log('PROBLEM');\n    }\n\n    if (object == 'Game') {\n      if (!so.format.tiebreak()) return so.first_service;\n      return common.nextTiebreakService(so.local_history, so.first_service);\n    }\n\n    if (!last_child) return so.first_service;\n    if (last_child.complete()) {\n      let descendent = last_child.lastChild();\n      while (descendent) {\n        last_child = descendent;\n        descendent = last_child.lastChild();\n      }\n      const last_first_service = last_child.set.firstService();\n      return common.advanceService(last_first_service);\n    }\n    return last_child.nextService();\n  };\n\n  so.currentChild = () => {\n    if (so.complete()) return false;\n    const last_child = so.lastChild();\n    if (last_child && !last_child.complete()) return last_child;\n    return so.newChild();\n  };\n\n  so.newChild = () => {\n    let last_child = so.lastChild();\n    let next_first_service;\n    if (!last_child) {\n      next_first_service = so.first_service;\n    } else {\n      let descendent = last_child.lastChild();\n      while (descendent) {\n        last_child = descendent;\n        descendent = last_child.lastChild();\n      }\n      next_first_service = common.advanceService(last_child.set.firstService());\n    }\n\n    const threshold = so.format.threshold();\n    const min_diff = so.format.minDiff();\n    const countersAtValue = (value: any) => so.counter[0] == value && so.counter[1] == value;\n    const deciding_child_required =\n      (countersAtValue(threshold) && (so.format.hasDecider() || min_diff == 1)) ||\n      (countersAtValue(threshold - 1) && min_diff == 0);\n    const code = deciding_child_required ? so.format.decidingChild.settings().code : so.format.children.settings().code;\n    const total_children = so.children.length;\n\n    const new_child = umo[so.child.object]({ index: total_children, parent_object: so, type: code, common: common });\n    new_child.set.firstService(next_first_service);\n\n    if (!code) {\n      const source_format = deciding_child_required ? so.format.decidingChild : so.format.children;\n      copyAttributes(source_format, new_child.format, so.child_attributes);\n      if (source_format.children) {\n        copyAttributes(source_format.children, new_child.format.children, so.child_attributes);\n        copyAttributes(source_format.decidingChild, new_child.format.decidingChild, so.child_attributes);\n      }\n    }\n\n    so.children.push(new_child);\n    return new_child;\n\n    function copyAttributes(source, target, attributes) {\n      attributes.forEach((attribute: any) => {\n        if (typeof source[attribute] == 'function') {\n          const value = source[attribute]();\n          target[attribute](value);\n        }\n      });\n    }\n  };\n\n  const addPoint = (value: any) => {\n    if (so.complete()) return { result: false };\n\n    const server = so.nextService();\n    const point = common.pointParser(\n      value,\n      server,\n      so.history.lastPoint(),\n      so.format,\n      common.metadata.teams(),\n      so.set.perspectiveScore(),\n      so.score(),\n    );\n    if (!point) return { result: false };\n    so.counter[point.winner] += 1;\n\n    const attributes: any = {\n      points: so.counter.slice(),\n      score: so.scoreboard(),\n      number: so.local_history.filter((episode: any) => episode.winner != undefined).length,\n      index: so.history.points().length,\n      [object.toLowerCase()]: index,\n    };\n\n    const points_to_game = so.pointsToGame();\n    const has_game_point = points_to_game ? points_to_game.indexOf(1) : undefined;\n    const breakpoint = has_game_point >= 0 && has_game_point == 1 - common.metadata.playerTeam(server);\n\n    if (breakpoint) attributes.breakpoint = true;\n    if (so.format.tiebreak()) attributes.tiebreak = true;\n    if (common.metadata.timestamps() && !point.uts) attributes.uts = new Date().valueOf();\n    Object.assign(point, attributes);\n    so.local_history.push(point);\n\n    const episode = {\n      action: 'addPoint',\n      result: true,\n      complete: so.complete(),\n      point: point,\n      needed: { points_to_game },\n    };\n\n    common.history.push(episode);\n    return episode;\n  };\n\n  so.addPoint = (value: any) => {\n    if (Array.isArray(value)) return false;\n    if (object == 'Game') return addPoint(value);\n\n    const child = so.currentChild();\n    if (!child) return { result: false };\n    const episode = child.addPoint(value);\n    if (!episode.result) return episode;\n\n    if (child.complete()) {\n      so.counter[episode.point.winner] += 1;\n      so.local_history.push({\n        winner: episode.point.winner,\n        [so.child.plural]: so.counter.slice(),\n        index: child.set.index(),\n      });\n    }\n    episode.complete = so.complete();\n    episode.next_service = so.nextService();\n    const points_to_set = so.pointsNeeded ? so.pointsNeeded() : undefined;\n    if (points_to_set) episode.needed = Object.assign({}, episode.needed, points_to_set);\n    episode.point[so.child.label] = child.set.index();\n    episode[so.child.label] = {\n      complete: child.complete(),\n      winner: child.winner(),\n      [so.child.plural]: so.counter.slice(),\n      index: child.set.index(),\n    };\n    if (!parent_object) common.addStatPoint(episode);\n    if (!parent_object) common.events.addPoint().forEach((fx) => fx(episode));\n    return episode;\n  };\n\n  so.addPoints = (values = []) => so.addMultiple({ values });\n\n  so.addScore = (value: any) => {\n    const episode = so.addPoint(value);\n    if (episode.result) return episode;\n    const last_point = so.history.lastPoint();\n    const last_points = !last_point || last_point.score == '0-0' ? [0, 0] : last_point.points;\n    const attempt = so.change.pointScore(value);\n    if (attempt.result) {\n      so.undo();\n      const new_points = attempt.pointChange.to;\n      // let new_total = new_points.reduce((a, b) => a + b);\n      const change = new_points\n        .map((p, i) => {\n          return { diff: p - last_points[i], i };\n        })\n        .filter((f) => f.diff);\n      if (change.length == 1 && change[0].diff > 0) {\n        let result;\n        const player = change[0].i;\n        const points_to_player = change[0].diff;\n        for (let p = 0; p < points_to_player; p++) {\n          result = so.addPoint(player);\n          if (!result.result) return result;\n          if (result.game.complete) return result;\n        }\n        return result;\n      }\n    }\n    return { result: false };\n  };\n\n  so.addScores = (values = []) => so.addMultiple({ values, fx: so.addScore });\n\n  so.addMultiple = ({ values = [], fx = so.addPoint }: { values: any; fx: any }) => {\n    if (typeof values == 'string') values = values.match(/[01A-Za-z][*#@]*/g);\n    const added = [];\n    let rejected: any[] = [];\n    while (values.length) {\n      const value = values.shift();\n      const episode = fx(value);\n      if (episode.result) {\n        added.push(episode);\n      } else {\n        values.unshift(value);\n        rejected = values.slice();\n        values = [];\n      }\n    }\n    return { result: added.length, added, rejected };\n  };\n\n  so.decoratePoint = (point, attributes) => {\n    const indices = common.history\n      .map((episode, i) => {\n        if (episode.action === 'addPoint' && episode.point.index == point.index) return i;\n      })\n      .filter((index) => index !== undefined);\n    if (!indices.length) return false;\n    const episode = common.history[indices[0]];\n    episode.point = Object.assign({}, episode.point, attributes);\n  };\n\n  so.change = {};\n  so.change.points = (values) => {\n    if (!numbersArray(values) || values.length != 2) return false;\n    if (object == 'Game') {\n      const past_threshold = Math.max(...values) > so.format.threshold();\n      const value_difference = Math.abs(values[0] - values[1]);\n      if (past_threshold && value_difference > so.format.minDiff()) return false;\n      if (so.complete()) return { result: false };\n      const episode = { action: 'changePoints', result: true, pointChange: { from: so.counter, to: values } };\n      so.local_history.push(episode);\n      common.history.push(episode);\n      so.counter = values;\n      if (so.complete()) {\n        const winner = parseInt(so.winner());\n        parent_object.counter[winner] += 1;\n        parent_object.local_history.push({ winner: winner, games: parent_object.counter.slice(), index: index });\n      }\n      return episode;\n    }\n    return so.propagatePointChange(values, 'points');\n  };\n  so.change.pointScore = (value) => {\n    if (value == '0-0') return so.change.points([0, 0]);\n    if (object == 'Game') {\n      if (so.format.tiebreak()) return so.change.points(value.split('-').map((v) => parseInt(v)));\n      value = value\n        .replace(':', '-')\n        .split('-')\n        .map((m) => m.trim())\n        .join('-')\n        .split('D')\n        .join('40');\n      const progression = Object.assign({}, adProgression);\n      if (so.format.hasDecider())\n        Object.keys(noAdProgression).forEach((key) => (progression[key] = noAdProgression[key]));\n      const valid_values = [].concat(...Object.keys(progression).map((key) => progression[key]));\n      if (valid_values.indexOf(value) < 0) return false;\n      const point_value = ['0', '15', '30', '40', 'A', 'G'];\n      const values = value.split('-').map((v) => point_value.indexOf(v));\n\n      // correct for advantage games that don't reach deuce\n      if (values[0] == 5 && values[1] != 3) values[0] = 4;\n      if (values[1] == 5 && values[0] != 3) values[1] = 4;\n      return so.change.points(values);\n    }\n    return so.propagatePointChange(value, 'pointScore');\n  };\n  so.propagatePointChange = (values, fx) => {\n    const last_child = so.lastChild();\n    if (!last_child) {\n      if (object == 'Match') {\n        return so.newChild().newChild().change[fx](values);\n      }\n      if (object == 'Set') {\n        return so.newChild().change[fx](values);\n      }\n    }\n    if (!parent_object && so.complete()) return { result: false };\n    if (last_child.complete()) {\n      return so.newChild().change[fx](values);\n    }\n    return last_child.change[fx](values);\n  };\n  so.change.games = (values) => {\n    if (!numbersArray(values) || values.length != 2) return false;\n    if (object == 'Game') return { result: false };\n    if (object == 'Set') {\n      if (so.complete()) return { result: false };\n      const episode = { action: 'changeGames', result: true, gameChange: { from: so.counter, to: values } };\n      so.local_history.push(episode);\n      common.history.push(episode);\n      so.counter = values;\n      return episode;\n    }\n    const last_child = so.lastChild();\n    if (!last_child && object == 'Match') {\n      return so.newChild().change.games(values);\n    }\n    if (!parent_object && so.complete()) return { result: false };\n    if (last_child.complete()) {\n      return so.newChild().change.games(values);\n    }\n    return last_child.change.games(values);\n  };\n\n  so.undo = (count = 1) => {\n    if (isNaN(count)) return false;\n    if (object != 'Game' && !so.children.length && !so.local_history.length) return false;\n    if (!common.history.length) return false;\n    const undo = () => {\n      const action = common.history[common.history.length - 1].action;\n      return undo_actions[action]();\n    };\n    const undone = [...Array(count).keys()].map(() => undo());\n    common.events.undo().forEach((fx) => fx(undone));\n    return count == 1 ? undone[0] : undone;\n  };\n\n  const undo_actions: any = {};\n  undo_actions.addPoint = () => {\n    if (object == 'Game') {\n      // clean up local and common histories\n      so.local_history.pop();\n      const common_episode = common.history.pop();\n      so.counter[common_episode.point.winner] -= 1;\n      common.removeStatPoint(common_episode);\n      // common.events.undo().forEach(fx => fx(common_episode.point));\n      return common_episode.point;\n    }\n    return so.propagateUndo();\n  };\n  undo_actions.changePoints = () => {\n    if (object == 'Game') {\n      // clean up local and common histories\n      so.local_history.pop();\n      const common_episode = common.history.pop();\n      so.counter = common_episode.pointChange.from;\n      return common_episode;\n    }\n    return so.propagateUndo();\n  };\n  undo_actions.changeGames = () => {\n    if (object == 'Set') {\n      // clean up local and common histories\n      so.local_history.pop();\n      const common_episode = common.history.pop();\n      so.counter = common_episode.gameChange.from;\n      return common_episode;\n    }\n    return so.propagateUndo();\n  };\n\n  so.propagateUndo = () => {\n    const last_child = so.lastChild();\n    const last_child_complete = last_child.complete();\n    const episode = last_child.undo();\n\n    // remove the last history event and decrement the counter\n    if (last_child_complete) {\n      // pop history of non-game object\n      const episode = so.local_history.pop();\n      if (episode && episode.winner != undefined) so.counter[episode.winner] -= 1;\n    }\n\n    if (!last_child.history.local().length && last_child.lastChild() == undefined) so.children.pop();\n    return episode;\n  };\n  return so;\n};\n\numo.Match = (params: any) => {\n  const { index, type, common = umo.common() } = params ?? {};\n  const child = { object: 'Set', label: 'set', plural: 'sets' };\n  const format = umo.matchFormat({ type, common });\n  const match = umo.stateObject({ index, object: 'Match', format, child, common });\n\n  match.scoreboard = (perspective) => {\n    if (!match.children.length) return '0-0';\n    if (perspective == undefined) perspective = match.set.perspectiveScore() ? match.nextService() : undefined;\n    return match.children.map((child) => child.scoreboard(perspective)).join(', ');\n  };\n\n  return {\n    set: match.set,\n    reset: match.reset,\n    format: match.format,\n    events: common.events,\n    assignParser: common.assignParser,\n    metadata: common.metadata,\n    nextService: match.nextService,\n    nextTeamServing: match.nextTeamServing,\n    nextTeamReceiving: match.nextTeamReceiving,\n    change: match.change,\n    undo: match.undo,\n    addPoint: match.addPoint,\n    addPoints: match.addPoints,\n    decoratePoint: match.decoratePoint,\n    addScore: match.addScore,\n    addScores: match.addScores,\n    complete: match.complete,\n    winner: match.winner,\n    score: match.score,\n    scoreboard: match.scoreboard,\n    [match.child.plural]: match.accessChildren,\n    history: match.history,\n    stats: common.stats,\n  };\n};\n\numo.Set = ({ index, parent_object, type, common = umo.common() }) => {\n  const child = { object: 'Game', label: 'game', plural: 'games' };\n  const format = umo.setFormat({ type, common });\n  const set = umo.stateObject({ index, parent_object, object: 'Set', format, child, common });\n\n  set.pointsNeeded = () => {\n    const threshold = set.format.threshold();\n    if (set.complete()) {\n      const points_to_set = [];\n      points_to_set[set.winner()] = 0;\n      const loser = 1 - set.winner();\n      const pts = set.history\n        .action('addPoint')\n        .filter((episode) => episode.point.set == index)\n        .map((episode) => episode.needed.points_to_set)\n        .filter((f) => f);\n      points_to_set[loser] = Math.max(...pts.map((p) => p[loser]));\n      return { points_to_set };\n    }\n    const deciding_game = set.format.hasDecider();\n    const score_difference = set.scoreDifference();\n    const min_diff = set.format.minDiff();\n    const deciding_game_format_required = [false, false];\n    const games_to_set = set.counter.map((player_score, player) => {\n      const opponent_score = set.counter[1 - player];\n      if (player_score > opponent_score) {\n        if (opponent_score == threshold && deciding_game) return 0;\n        if (player_score >= threshold && score_difference >= min_diff) return 0;\n        if (player_score >= threshold - 1) return 1;\n        return threshold - player_score;\n      } else if (opponent_score > player_score) {\n        deciding_game_format_required[player] = deciding_game && threshold == opponent_score;\n        if (player_score == threshold && deciding_game) return 0;\n        if (opponent_score >= threshold && score_difference >= min_diff) return 0;\n        if (deciding_game_format_required[player]) return score_difference + 1;\n        if (opponent_score >= threshold - 1) return score_difference + min_diff;\n        return threshold - player_score;\n      } else {\n        deciding_game_format_required[player] =\n          (deciding_game && threshold == player_score && threshold == opponent_score) ||\n          (min_diff == 1 && threshold == player_score && threshold == opponent_score) ||\n          (min_diff == 0 && threshold - 1 == player_score && threshold - 1 == opponent_score);\n        if (deciding_game_format_required[player]) return 1;\n        if (player_score >= threshold - 1) return min_diff;\n        return threshold - player_score;\n      }\n    });\n\n    const last_game = set.lastChild();\n    const points_to_set = games_to_set.map((player_games_to_set, player) => {\n      let points_needed = 0;\n      if (last_game && !last_game.complete()) {\n        points_needed += last_game.pointsToGame()[player];\n        player_games_to_set -= 1;\n      }\n      if (!player_games_to_set) return points_needed;\n\n      if (deciding_game_format_required[player]) {\n        points_needed += set.format.decidingChild.threshold();\n        player_games_to_set -= 1;\n      }\n\n      for (let i = player_games_to_set; i; i--) {\n        points_needed += set.format.children.threshold();\n      }\n      return points_needed;\n    });\n\n    return { points_to_set, games_to_set };\n  };\n\n  // let formatScore = ([p0score, p1score], [t0score, t1score], tiebreak_to) => {\n  const formatScore = ([p0score, p1score], [t0score, t1score]) => {\n    if (t0score || t1score) {\n      if (t0score > t1score) p1score += `(${t1score})`;\n      if (t1score > t0score) p0score += `(${t0score})`;\n    }\n    return `${p0score}-${p1score}`;\n  };\n\n  set.scoreboard = (perspective) => {\n    const last_game = set.lastChild();\n    const score = set.perspectiveScore(set.counter, perspective);\n    if (!last_game) return score.join('-');\n    const tiebreak = last_game.format.tiebreak() === true;\n    if (last_game.complete() && !tiebreak) return score.join('-');\n    if (!last_game.complete()) return `${score.join('-')} (${last_game.scoreboard(perspective)})`;\n    const last_game_score = last_game.score().counters.local;\n    const tiebreak_score = set.perspectiveScore(last_game_score, perspective);\n    if (tiebreak && set.complete() && set.children.length == 1) return tiebreak_score.join('-');\n    // let tiebreak_to = last_game.format.threshold();\n    // return formatScore(score, tiebreak_score, tiebreak_to);\n    return formatScore(score, tiebreak_score);\n  };\n\n  return {\n    set: set.set,\n    reset: set.reset,\n    format: set.format,\n    events: common.events,\n    assignParser: common.assignParser,\n    metadata: common.metadata,\n    nextService: set.nextService,\n    nextTeamServing: set.nextTeamServing,\n    nextTeamReceiving: set.nextTeamReceiving,\n    change: set.change,\n    undo: set.undo,\n    addPoint: set.addPoint,\n    addPoints: set.addPoints,\n    decoratePoint: set.decoratePoint,\n    addScore: set.addScore,\n    addScores: set.addScores,\n    complete: set.complete,\n    winner: set.winner,\n    score: set.score,\n    scoreboard: set.scoreboard,\n    [set.child.plural]: set.accessChildren,\n    children: set.accessChildren,\n    lastChild: set.lastChild,\n    newChild: set.newChild,\n    history: set.history,\n    pointsNeeded: set.pointsNeeded,\n  };\n};\n\numo.Game = ({ index, parent_object, type, common = umo.common() }) => {\n  const child = { object: 'Point', label: 'point', plural: 'points' };\n  const format = umo.gameFormat({ type, common });\n  const game = umo.stateObject({ index, object: 'Game', parent_object, format, child, common });\n\n  game.pointsToGame = () => {\n    if (game.complete()) return undefined;\n    const threshold = game.format.threshold();\n    const deciding_point = game.format.hasDecider();\n    const score_difference = game.scoreDifference();\n    const min_diff = game.format.minDiff();\n    return game.counter.map((player_score, player) => {\n      const opponent_score = game.counter[1 - player];\n      if (player_score > opponent_score) {\n        if (opponent_score == threshold && deciding_point) return 0;\n        if (player_score >= threshold && score_difference >= min_diff) return 0;\n        if (player_score >= threshold - 1) return 1;\n        return threshold - player_score;\n      } else if (opponent_score > player_score) {\n        if (player_score == threshold && deciding_point) return 0;\n        if (opponent_score >= threshold && score_difference >= min_diff) return 0;\n        if (opponent_score == threshold && deciding_point) return score_difference + 1;\n        if (opponent_score >= threshold - 1) return score_difference + min_diff;\n        return threshold - player_score;\n      } else {\n        if (deciding_point && threshold == player_score && threshold == opponent_score) return 1;\n        if (player_score >= threshold - 1) return min_diff;\n        return threshold - player_score;\n      }\n    });\n  };\n\n  game.scoreboard = (perspective) => {\n    let scoreboard;\n    const threshold = game.format.threshold();\n    const min_diff = game.format.minDiff();\n    const score = game.perspectiveScore(game.counter, perspective);\n    const tiebreak = threshold != 4 || game.format.tiebreak();\n    if (tiebreak) return score.join('-');\n    if (\n      !game.thresholdMet() ||\n      (game.singleThresholdMet() && game.minDifferenceMet()) ||\n      (game.singleThresholdMet() && game.format.hasDecider() && min_diff == 1)\n    ) {\n      const progression = ['0', '15', '30', '40', 'G', 'G'];\n      scoreboard = score.map((points) => progression[points]).join('-');\n    } else {\n      scoreboard = score\n        .map((points, player) => {\n          const opponent_points = score[1 - player];\n          const point = points - threshold;\n          const opponent_point = opponent_points - threshold;\n          if (point > opponent_point && game.minDifferenceMet()) return 'G';\n          return point > opponent_point ? 'A' : '40';\n        })\n        .join('-');\n    }\n    return scoreboard.indexOf('G') >= 0 ? '0-0' : scoreboard;\n  };\n\n  return {\n    set: game.set,\n    reset: game.reset,\n    format: game.format,\n    events: common.events,\n    assignParser: common.assignParser,\n    metadata: common.metadata,\n    nextService: game.nextService,\n    nextTeamServing: game.nextTeamServing,\n    nextTeamReceiving: game.nextTeamReceiving,\n    change: game.change,\n    undo: game.undo,\n    addPoint: game.addPoint,\n    addPoints: game.addPoints,\n    decoratePoint: game.decoratePoint,\n    addScore: game.addScore,\n    addScores: game.addScores,\n    complete: game.complete,\n    winner: game.winner,\n    score: game.score,\n    scoreboard: game.scoreboard,\n    history: game.history,\n    lastChild: game.lastChild,\n    pointsToGame: game.pointsToGame,\n  };\n};\n\n// necessary to define it this way so that hoisting works!\numo.defaultPointParser = defaultPointParser;\nfunction defaultPointParser(value, server, last_point, format, teams, perspective, score_object) {\n  if (value == undefined) return false;\n  if (value.toString().length == 1 && !isNaN(value)) {\n    const code = +value == server ? 'S' : 'R';\n    return [0, 1].indexOf(+value) < 0 ? false : { winner: +value, server: server, code: code };\n  }\n\n  let winning_team;\n  const serving_team = teams.map((team) => team.indexOf(server) >= 0).indexOf(true);\n  const point: any = { server: server };\n\n  if (typeof value == 'object') {\n    if (value.winner != undefined && [0, 1].indexOf(+value.winner) >= 0) {\n      value.winner = parseInt(value.winner);\n      value.code = !value.code ? (value.winner == server ? 'S' : 'R') : value.code;\n      // lowercase indicates that point was played on second serve\n      if (value.first_serve) value.code = value.code.toLowerCase();\n      return Object.assign({}, value, point);\n    }\n    if (value.code && parseCode(value.code)) return Object.assign({}, value, point);\n  }\n\n  if (typeof value == 'string') {\n    if (parseScore(value)) return point;\n    if (parseCode(value)) return point;\n  }\n\n  function parseCode(code) {\n    let upper_code = code.toUpperCase().match(/[A-Za-z]/g);\n    let modifier = code.match(/[*#@]/g);\n    if (upper_code) upper_code = upper_code.join('');\n    if (modifier) modifier = modifier.join('');\n    if ('SAQDRP'.split('').indexOf(String(upper_code)) >= 0) {\n      if (['S', 'A', 'Q'].indexOf(upper_code) >= 0) {\n        winning_team = serving_team;\n      }\n      if (['D', 'R', 'P'].indexOf(upper_code) >= 0) {\n        winning_team = 1 - serving_team;\n      }\n      if (['Q', 'P'].indexOf(upper_code) >= 0) {\n        point.result = 'Penalty';\n      }\n      if (upper_code == 'A') point.result = 'Ace';\n      if (upper_code == 'D') {\n        point.first_serve = { error: 'Error', serves: ['0e'] };\n        point.result = 'Double Fault';\n      }\n      if (modifier && !point.result) {\n        if (modifier == '*') point.result = 'Winner';\n        if (modifier == '#') point.result = 'Forced Error';\n        if (modifier == '@') point.result = 'Unforced Error';\n      }\n      point.code = code;\n      point.winner = parseInt(winning_team);\n      if (code === code.toLowerCase()) point.first_serve = { error: 'Error', serves: ['0e'] };\n      return point;\n    }\n  }\n\n  function parseScore(value) {\n    value = value\n      .replace(':', '-')\n      .split('-')\n      .map((m) => m.trim())\n      .join('-')\n      .split('D')\n      .join('40');\n    if (value.split('-').length != 2) return false;\n    let last_score = score_object.points;\n    const combinedTotal = (score) => score.reduce((a, b) => a + b);\n    if (format.tiebreak()) {\n      const values = value.split('-').map((m) => parseInt(m));\n      const last_values = last_score.split('-').map((m) => parseInt(m));\n      if (!numbersArray(values) || values.length != 2) return false;\n      if (combinedTotal(last_values) + 1 != combinedTotal(values)) return false;\n      const change = [Math.abs(values[0] - last_values[0]), Math.abs(values[1] - last_values[1])];\n      point.winner = change.indexOf(1);\n      return point;\n    }\n    const progression = Object.assign({}, adProgression);\n    if (format.hasDecider()) Object.keys(noAdProgression).forEach((key) => (progression[key] = noAdProgression[key]));\n\n    if (value == '0-0' && progression[last_score].join('-').indexOf('G') >= 0) {\n      // one player had game point.  assign winner based on which player has greater # of points.\n      point.winner = last_point.points.indexOf(Math.max(...last_point.points));\n      return point;\n    }\n    // after a tiebreak, for instance...\n    if (progression[last_score] == undefined) last_score = '0-0';\n    let winner = progression[last_score] ? progression[last_score].indexOf(value) : false;\n    if (winner >= 0) {\n      if (perspective && server) winner = 1 - winner;\n      point.winner = winner;\n      return point;\n    }\n  }\n}\n\nconst noAdProgression = { '40-40': ['G-40', '40-G'] };\nconst adProgression = {\n  '0-0': ['15-0', '0-15'],\n  '0-15': ['15-15', '0-30'],\n  '0-30': ['15-30', '0-40'],\n  '0-40': ['15-40', '0-G'],\n  '15-0': ['30-0', '15-15'],\n  '15-15': ['30-15', '15-30'],\n  '15-30': ['30-30', '15-40'],\n  '15-40': ['30-40', '15-G'],\n  '30-0': ['40-0', '30-15'],\n  '30-15': ['40-15', '30-30'],\n  '30-30': ['40-30', '30-40'],\n  '30-40': ['40-40', '30-G'],\n  '40-0': ['G-0', '40-15'],\n  '40-15': ['G-15', '40-30'],\n  '40-30': ['G-30', '40-40'],\n  '40-40': ['A-40', '40-A'],\n  'A-40': ['G-40', '40-40'],\n  '40-A': ['40-40', '40-G'],\n};\n\numo.matchFormat = ({ type = '3_6a_7', common }) => {\n  const mf = umo.formatObject({ plural: 'matches', common });\n  mf.children = umo.setFormat({ common });\n  mf.decidingChild = umo.setFormat({ common });\n  mf.init(type);\n\n  return {\n    description: mf.description,\n    singles: mf.singles,\n    doubles: mf.doubles,\n    settings: mf.settings,\n    type: mf.type,\n    types: mf.types,\n    threshold: mf.threshold,\n    hasDecider: mf.hasDecider,\n    minDiff: mf.minDiff,\n    children: mf.children,\n    decidingChild: mf.decidingChild,\n  };\n};\n\numo.setFormat = ({ type = 'AdSetsTo6tb7', common }) => {\n  const sf = umo.formatObject({ plural: 'sets', common });\n  sf.children = umo.gameFormat({ common });\n  sf.decidingChild = umo.gameFormat({ common, type: 'tiebreak7a' });\n  sf.init(type);\n\n  return {\n    description: sf.description,\n    singles: sf.singles,\n    doubles: sf.doubles,\n    settings: sf.settings,\n    type: sf.type,\n    types: sf.types,\n    threshold: sf.threshold,\n    hasDecider: sf.hasDecider,\n    minDiff: sf.minDiff,\n    children: sf.children,\n    decidingChild: sf.decidingChild,\n  };\n};\n\numo.gameFormat = ({ type = 'advantage', common }) => {\n  const gf = umo.formatObject({ plural: 'games', common });\n  gf.init(type);\n\n  return {\n    description: gf.description,\n    settings: gf.settings,\n    singles: gf.singles,\n    doubles: gf.doubles,\n    type: gf.type,\n    types: gf.types,\n    threshold: gf.threshold,\n    hasDecider: gf.hasDecider,\n    minDiff: gf.minDiff,\n    tiebreak: gf.tiebreak,\n  };\n};\n\numo.formatObject = ({ plural, common = umo.common() }) => {\n  const fo = {\n    values: { plural: plural },\n    singles: common.singles,\n    doubles: common.doubles,\n    init(format_type) {\n      if (fo.types(fo.values.plural).indexOf(format_type) >= 0) {\n        fo.type(format_type);\n        fo.values.initial_code = format_type;\n      }\n    },\n    types(object = fo.values.plural) {\n      return Object.keys(formats[object]);\n    },\n    type(format_type) {\n      if (!fo.values.plural) return false;\n      if (format_type === true && fo.values.initial_code) format_type = fo.values.initial_code;\n      if (fo.types(fo.values.plural).indexOf(format_type) >= 0) {\n        const f = formats[fo.values.plural][format_type];\n\n        fo.hasDecider(f.hasDecider).minDiff(f.minDiff).threshold(f.threshold);\n        if (f.tiebreak != undefined) fo.tiebreak(f.tiebreak);\n\n        // must be set after all other attributes!\n        fo.name(f.name);\n        fo.description(f.description);\n        fo.values.code = format_type;\n\n        if (f.children) fo.children.type(f.children);\n        if (f.decidingChild) fo.decidingChild.type(f.decidingChild);\n        return true;\n      }\n    },\n    settings(params?: any) {\n      const { name, description, code, players, threshold, has_decider, min_diff, tiebreak } = params ?? {};\n      if (code) {\n        fo.type(code);\n      } else if (!threshold || !has_decider || !min_diff || !tiebreak) {\n        const number_of_players = typeof common.singles == 'function' ? (common.singles() ? 2 : 4) : '';\n        return {\n          name: fo.values.name,\n          description: fo.values.description,\n          code: fo.values.code,\n          players: number_of_players,\n          threshold: fo.values.threshold,\n          has_decider: fo.values.has_decider,\n          min_diff: fo.values.min_diff,\n          tiebreak: fo.values.tiebreak,\n        };\n      } else {\n        // TODO: propagate these settings down to unfinished sets/games\n        fo.tiebreak(tiebreak);\n        fo.threshold(threshold);\n        fo.minDiff(min_diff);\n        fo.hasDecider(has_decider);\n        if (description) fo.description(description);\n        if (name) fo.name(name);\n        if (players) {\n          if (players == 4) {\n            fo.doubles();\n          } else {\n            fo.singles();\n          }\n        }\n      }\n    },\n    name(value) {\n      if (!arguments.length) return fo.values.name;\n      if (typeof value == 'string') fo.values.name = value;\n      return fo;\n    },\n    description(value) {\n      if (!arguments.length) return fo.values.description;\n      if (typeof value == 'string') fo.values.description = value;\n      return fo;\n    },\n    tiebreak(value) {\n      if (!arguments.length) return fo.values.tiebreak;\n      fo.values.description = fo.values.code = undefined;\n      if ([true, false].indexOf(value) >= 0) fo.values.tiebreak = value;\n      return fo;\n    },\n    threshold(value) {\n      if (!arguments.length) return fo.values.threshold;\n      fo.values.description = fo.values.code = undefined;\n      if (!isNaN(value)) fo.values.threshold = value;\n      return fo;\n    },\n    minDiff(value) {\n      if (!arguments.length) return fo.values.min_diff;\n      fo.values.description = fo.values.code = undefined;\n      if (!isNaN(value)) fo.values.min_diff = value;\n      return fo;\n    },\n    hasDecider(value) {\n      if (!arguments.length) return fo.values.has_decider;\n      fo.values.description = fo.values.code = undefined;\n      if ([true, false].indexOf(value) >= 0) fo.values.has_decider = value;\n      return fo;\n    },\n  };\n  return fo;\n};\n\numo.common = () => {\n  let number_of_players = 2;\n  let addPoint_events = umo.addPoint_events.slice();\n  let undo_events = umo.undo_events.slice();\n  let reset_events = umo.reset_events.slice();\n  let metadata: any = {};\n\n  let stat_points;\n  let last_episode;\n  let filtered_stats;\n\n  const accessors = {\n    resetStats() {\n      stat_points = undefined;\n      last_episode = undefined;\n      filtered_stats = undefined;\n    },\n    reset() {\n      metadata = {\n        players: [],\n        teams: [],\n        service_order: [0, 1],\n        receive_order: [1, 0],\n        tournament: {},\n        match: {},\n        timestamps: false,\n        charter: undefined,\n      };\n    },\n    timestamps(value) {\n      if (!arguments.length) return metadata.timestamps;\n      if ([true, false].indexOf(value) >= 0) metadata.timestamps = value;\n      return accessors;\n    },\n    serviceOrder(order?: any) {\n      if (!arguments.length) return metadata.service_order.slice();\n      return changeOrder(order, 'service_order', 'receive_order');\n    },\n    doublesServiceChange() {\n      if (number_of_players != 4) return false;\n      // FIXME: Not allowed if not the end of a set; how to determine within common?\n    },\n    receiveOrder(order) {\n      if (!arguments.length) return metadata.receive_order.slice();\n      return changeOrder(order, 'receive_order', 'service_order');\n    },\n    teams() {\n      const teams = [];\n      teams[0] = metadata.service_order.filter((_, i: number) => (i + 1) % 2).sort();\n      teams[1] = metadata.service_order.filter((_, i: number) => i % 2).sort();\n      teams.sort();\n      return teams;\n    },\n    playerTeam(player) {\n      return accessors\n        .teams()\n        .map((team) => team.indexOf(player) >= 0)\n        .indexOf(true);\n    },\n    teamPlayers() {\n      return accessors.teams().map((team) => team.map((i) => accessors.players(i).name));\n    },\n    players(index?: number) {\n      if (!arguments.length) {\n        if (metadata.players.length > metadata.service_order.length) return metadata.players;\n        return metadata.service_order.map((i) => accessors.players(i));\n      }\n      if (isNaN(index) || index < 0 || index > 3) return false;\n      if (metadata.players[index]) return metadata.players[index];\n      return { name: `Player ${['One', 'Two', 'Three', 'Four'][index]}` };\n    },\n    definePlayer(params?: any) {\n      const { name, birth, playerId, hand, seed, rank, age, entry, ioc, draw_position, team, wtn, utr, id } =\n        params ?? {};\n      let index = params?.index;\n      if (index == undefined) index = metadata.players.length;\n      const player = metadata.players[index] || {};\n      if ((!name && !player.name) || isNaN(index) || index > 3) return false;\n      const definition = {\n        name,\n        birth,\n        playerId,\n        hand,\n        team,\n        seed,\n        rank,\n        age,\n        entry,\n        ioc,\n        draw_position,\n        wtn,\n        utr,\n        id,\n      };\n      Object.keys(definition).forEach((key) => {\n        if (definition[key]) player[key] = definition[key];\n      });\n      metadata.players[index] = player;\n      return { index, player };\n    },\n    defineTournament(params?: any) {\n      const { name, tuid, start_date, tour, rank, surface, in_out, draw, draw_size, round, level } = params ?? {};\n      const definition = { name, tuid, start_date, tour, rank, surface, in_out, draw, draw_size, round, level };\n      Object.keys(definition).forEach((key) => {\n        if (definition[key]) metadata.tournament[key] = definition[key];\n      });\n      return metadata.tournament;\n    },\n    defineMatch(params?: any) {\n      const { muid, date, gender, year, court, start_time, end_time, duration, status, umpire, official_score } =\n        params ?? {};\n      const definition = {\n        muid,\n        date,\n        gender,\n        year,\n        court,\n        start_time,\n        end_time,\n        duration,\n        status,\n        umpire,\n        official_score,\n      };\n      Object.keys(definition).forEach((key) => {\n        if (definition[key]) metadata.match[key] = definition[key];\n      });\n      return metadata.match;\n    },\n    showTiebreakOrder(first_service) {\n      return calcTiebreakService(12, first_service);\n    },\n  };\n\n  function changeOrder(order, submitted, counterpart) {\n    const sameOrder = (a, b) => !a.filter((o, i) => o != b[i]).length;\n    const notXinY = (x, y) => y.filter((n) => x.indexOf(n) != -1).length != y.length;\n    if (\n      !Array.isArray(order) ||\n      order.length != number_of_players ||\n      notXinY(order, [0, 1]) ||\n      notXinY([0, 1, 2, 3], order)\n    )\n      return false;\n\n    const no_format_change = order.length == metadata[submitted].length;\n    if (sameOrder(order, metadata[submitted]) && no_format_change) return accessors;\n\n    const teams = accessors.teams();\n    metadata[submitted] = order;\n    const new_teams = accessors.teams();\n\n    if (\n      order.length == 4 &&\n      sameOrder(teams[0], new_teams[0]) &&\n      no_format_change &&\n      serviceToOpponent(metadata[submitted], metadata[counterpart], new_teams)\n    )\n      return accessors;\n\n    metadata[counterpart] = order.map((o) => order.length - 1 - o);\n    return accessors;\n  }\n\n  function serviceToOpponent(players, opponents, teams) {\n    const sameTeam = (p, o) =>\n      teams.filter((team) => team.filter((player) => [p, o].indexOf(player) >= 0).length > 1).length;\n    return !players.filter((s, i) => sameTeam(s, opponents[i])).length;\n  }\n\n  function calcTiebreakService(number, first_service) {\n    const progression = [];\n    return [...Array(number).keys()].map(() => {\n      const result = calcNext(progression, first_service);\n      progression.push(result);\n      return result;\n    });\n  }\n\n  function calcNext(progression, first_service) {\n    const last_position = pos(progression.length);\n    const next_position = (progression.length + 1) % 4 < 2;\n    const last_score = progression[progression.length - 1];\n    const last_service =\n      last_score != undefined ? last_score : first_service != undefined ? first_service : metadata.service_order[0];\n    return next_position == last_position ? last_service : pub.advanceService(last_service);\n  }\n\n  function pos(number) {\n    const iterations = [true].concat([...Array(number).keys()].map((i) => (i + 1) % 4 < 2));\n    return iterations[number];\n  }\n\n  function setServiceOrder() {\n    if (number_of_players == 2) {\n      const existing_order = pub.metadata.serviceOrder();\n      if (existing_order.length == 2) return;\n      pub.metadata.serviceOrder(existing_order.filter((f) => [0, 1].indexOf(f) >= 0));\n    } else {\n      const existing_order = pub.metadata.serviceOrder();\n      if (existing_order.length == 4) return;\n      const new_order = existing_order.slice();\n      existing_order.forEach((o) => new_order.push(o + 2));\n      pub.metadata.serviceOrder(new_order);\n    }\n  }\n\n  const addEvent = (add_event) => {\n    if (!add_event) return addPoint_events;\n    if (typeof add_event == 'function') {\n      if (addPoint_events.indexOf(add_event) < 0) addPoint_events.push(add_event);\n    } else if (Array.isArray(add_event)) {\n      console.log({ add_event });\n      /*\n      add_event.foreach((e, c) => {\n        if (typeof e == 'function') addPoint_events.push(c);\n      });\n      */\n    }\n  };\n\n  const undoEvent = (undo_event) => {\n    if (!undo_event) return undo_events;\n    if (typeof undo_event == 'function') {\n      if (undo_events.indexOf(undo_event) < 0) undo_events.push(undo_event);\n    } else if (Array.isArray(undo_event)) {\n      console.log({ undo_event });\n      /*\n      undo_event.foreach(e)((e) => {\n        if (typeof e == 'function') undo_events.push(c);\n      });\n      */\n    }\n  };\n\n  const resetEvent = (reset_event) => {\n    if (!reset_event) return reset_events;\n    if (typeof reset_event == 'function') {\n      if (reset_events.indexOf(reset_event) < 0) reset_events.push(reset_event);\n    } else if (Array.isArray(reset_event)) {\n      console.log({ reset_event });\n      /*\n      reset_event.foreach(e)((e) => {\n        if (typeof e == 'function') reset_events.push(c);\n      });\n      */\n    }\n  };\n\n  const clearEvents = () => {\n    addPoint_events = [];\n    undo_events = [];\n    reset_events = [];\n  };\n\n  const pub = {\n    metadata: accessors,\n    pointParser: umo.pointParser,\n    events: { addPoint: addEvent, undo: undoEvent, clearEvents, reset: resetEvent },\n    history: [],\n    live_stats: false,\n    perspective_score: false,\n    assignParser(parser) {\n      pub.pointParser = parser;\n    },\n    advanceService(service) {\n      const index = metadata.service_order.indexOf(service) + 1;\n      return metadata.service_order[index < accessors.players().length ? index : 0];\n    },\n    nextTiebreakService(history, first_service) {\n      const so = calcTiebreakService(history.length + 1, first_service);\n      return so[so.length - 1];\n    },\n    singles(value) {\n      if (!arguments.length) return number_of_players == 2 ? true : false;\n      number_of_players = value ? 2 : 4;\n      setServiceOrder();\n      return pub;\n    },\n    doubles(value) {\n      if (!arguments.length) return number_of_players == 4 ? true : false;\n      number_of_players = value ? 4 : 2;\n      setServiceOrder();\n      return pub;\n    },\n    stats: {\n      calculated(set_filter) {\n        return calculatedStats(pub.stats.counters(set_filter));\n      },\n      counters(set_filter) {\n        if (\n          (set_filter != undefined && filtered_stats != set_filter) ||\n          (set_filter == undefined && filtered_stats != undefined)\n        ) {\n          accessors.resetStats();\n        }\n        if (!stat_points) {\n          pub.live_stats = true;\n          let episodes = pub.history.filter((episode) => episode.action === 'addPoint');\n          if (set_filter != undefined) {\n            episodes = episodes.filter((episode) => episode.point.set === set_filter);\n            filtered_stats = set_filter;\n          }\n          episodes.forEach((episode) => pub.addStatPoint(episode));\n        }\n        return stat_points;\n      },\n    },\n    addStatPoint(episode) {\n      if (!pub.live_stats) return;\n      const point = episode.point;\n      if (!stat_points) stat_points = { players: {}, teams: {} };\n      const server_team = accessors.playerTeam(point.server);\n      const team_winner = accessors.playerTeam(point.winner);\n      const team_loser = 1 - team_winner;\n\n      addStat({ player: point.server, episode, stat: 'pointsServed' });\n      addStat({ team: team_winner, episode, stat: 'pointsWon' });\n      if (point.result && point.hand) {\n        const player = point.result == 'Winner' ? team_winner : team_loser;\n        addStat({ player, episode, stat: point.hand });\n      }\n      if (point.result == 'Ace') addStat({ player: point.server, episode, stat: 'aces' });\n      if (point.result == 'Double Fault') addStat({ player: point.server, episode, stat: 'doubleFaults' });\n      if (point.result == 'Winner') addStat({ player: point.winner, episode, stat: 'winners' });\n\n      if (point.result == 'Unforced Error') addStat({ team: team_loser, episode, stat: 'unforcedErrors' });\n      if (point.result == 'Forced Error') addStat({ team: team_loser, episode, stat: 'forcedErrors' });\n\n      if (!point.first_serve) addStat({ player: point.server, episode, stat: 'serves1stIn' });\n      if (!point.first_serve && point.winner == server_team) {\n        addStat({ player: point.server, episode, stat: 'serves1stWon' });\n        addStat({ team: team_loser, undefined, stat: 'received1stWon' });\n        addStat({ team: team_loser, undefined, stat: 'received2ndWon' });\n      }\n      if (!point.first_serve && point.winner != server_team)\n        addStat({ team: team_winner, episode, stat: 'received1stWon' });\n      if (point.first_serve && point.result != 'Double Fault')\n        addStat({ player: point.server, episode, stat: 'serves2ndIn' });\n      if (point.first_serve && point.result != 'Double Fault' && point.winner == point.server) {\n        addStat({ player: point.server, episode, stat: 'serves2ndWon' });\n        addStat({ team: team_loser, undefined, stat: 'received1stWon' });\n        addStat({ team: team_loser, undefined, stat: 'received2ndWon' });\n      }\n      if (point.first_serve && point.result != 'Double Fault' && point.winner != server_team) {\n        addStat({ team: team_winner, episode, stat: 'received2ndWon' });\n      }\n      if (point.breakpoint) {\n        addStat({ player: point.server, undefined, stat: 'breakpointsSaved' });\n        addStat({ player: point.server, episode, stat: 'breakpointsFaced' });\n      }\n      if (last_episode && last_episode.point.breakpoint && last_episode.point.server == point.winner) {\n        addStat({ player: point.server, episode, stat: 'breakpointsSaved' });\n      }\n\n      if (episode.game && episode.game.complete) {\n        addStat({ team: team_winner, episode, stat: 'gamesWon' });\n      }\n      last_episode = episode;\n    },\n    removeStatPoint(episode) {\n      if (!pub.live_stats) return;\n      Object.keys(stat_points).forEach((grouping) => {\n        Object.keys(stat_points[grouping]).forEach((group) => {\n          Object.keys(stat_points[grouping][group]).forEach((stat) => {\n            if (stat_points[grouping][group][stat].length) {\n              stat_points[grouping][group][stat] = stat_points[grouping][group][stat].filter(\n                (f) => f.point.index != episode.point.index,\n              );\n            }\n          });\n        });\n      });\n      const points = pub.history.filter((episode) => episode.action == 'addPoint');\n      last_episode = points.length ? points[points.length - 1] : undefined;\n    },\n  };\n  accessors.reset();\n  return pub;\n\n  function calculatedStats(stats) {\n    if (!stats || !stats.teams) return [];\n\n    // prefix of '-' indicates that value for opposing team should be used\n    // '*' indicates that value is optional\n    const calculated_stats = {\n      Aces: { numerators: ['aces'], calc: 'number' },\n      'Double Faults': { numerators: ['doubleFaults'], calc: 'number' },\n      'First Serve %': { numerators: ['serves1stIn'], denominators: ['pointsServed'], calc: 'percentage' },\n      'Unforced Errors': { numerators: ['unforcedErrors'], calc: 'number' },\n      'Forced Errors': { numerators: ['forcedErrors'], calc: 'number' },\n      Winners: { numerators: ['winners'], calc: 'number' },\n      'Total Points Won': { numerators: ['pointsWon'], calc: 'number' },\n      'Max Pts/Row': { numerators: ['pointsWon'], calc: 'maxConsecutive', attribute: 'index' },\n      'Max Games/Row': { numerators: ['gamesWon'], calc: 'maxConsecutive', attribute: 'game' },\n      'Points Won 1st': { numerators: ['serves1stWon'], denominators: ['serves1stIn'], calc: 'percentage' },\n      'Points Won 2nd': { numerators: ['serves2ndWon'], denominators: ['serves2ndIn'], calc: 'percentage' },\n      'Points Won Receiving': {\n        numerators: ['received1stWon', 'received2ndWon'],\n        denominators: ['-pointsServed'],\n        calc: 'percentage',\n      },\n      'Breakpoints Saved': {\n        numerators: ['breakpointsSaved'],\n        denominators: ['breakpointsFaced'],\n        calc: 'percentage',\n      },\n      'Breakpoints Converted': {\n        numerators: ['-breakpointsSaved'],\n        denominators: ['-breakpointsFaced'],\n        calc: 'difference',\n      },\n      'Aggressive Margin': {\n        calc: 'aggressiveMargin',\n        numerators: ['*doubleFaults', '*unforcedErrors'],\n        denominators: ['*aces', '*winners', '-*forcedErrors'],\n      },\n    };\n\n    const reduceComponents = (components, teams, team) => {\n      if (!components) return undefined;\n      const values = components.map((component) => {\n        const counter = component.split('-').reverse()[0].split('*').join('');\n        const component_team = teams[component.indexOf('-') == 0 ? 1 - team : team];\n        return component_team && component_team[counter] ? component_team[counter].length : 0;\n      });\n      return [].concat(0, 0, ...values).reduce((a, b) => a + b);\n    };\n\n    const numeratorDenominator = (stat_obj, teams, team) => {\n      const numerator = reduceComponents(stat_obj.numerators, teams, team);\n      const denominator = reduceComponents(stat_obj.denominators, teams, team);\n      return { numerator, denominator };\n    };\n\n    const displayPct = (numerator, denominator) => {\n      const pct = Math.round((numerator / denominator) * 100);\n      return { value: pct, display: `${pct}% (${numerator}/${denominator})` };\n    };\n\n    const stat_calcs = {\n      number(stat_obj, teams, team) {\n        // ({ numerator, denominator } = numeratorDenominator(stat_obj, teams, team));\n        const { numerator } = numeratorDenominator(stat_obj, teams, team);\n        return { display: numerator, value: numerator, numerators: stat_obj.numerators };\n      },\n      maxConsecutive(stat_obj, teams, team) {\n        const stat = stat_obj.numerators[0];\n        const attribute = stat_obj.attribute;\n        const episodes = teams[team][stat];\n        if (!episodes) return { value: 0, display: 0 };\n        let current = undefined;\n        let max_consecutive = 0;\n        let consecutive = episodes.length ? 1 : 0;\n        episodes.forEach((episode) => {\n          if (current + 1 == episode.point[attribute]) {\n            consecutive += 1;\n          } else {\n            if (consecutive > max_consecutive) max_consecutive = consecutive;\n            consecutive = 1;\n          }\n          current = episode.point[attribute];\n        });\n        if (consecutive > max_consecutive) max_consecutive = consecutive;\n        return { display: max_consecutive, value: max_consecutive };\n      },\n      percentage(stat_obj, teams, team) {\n        const { numerator, denominator } = numeratorDenominator(stat_obj, teams, team);\n        if (numerator == undefined || !denominator) return { value: 0, display: 0 };\n        return Object.assign(displayPct(numerator, denominator), { numerators: stat_obj.numerators });\n      },\n      difference(stat_obj, teams, team) {\n        const { numerator, denominator } = numeratorDenominator(stat_obj, teams, team);\n        if (numerator == undefined || !denominator) return { value: 0, display: 0 };\n        const diff = Math.abs(denominator - numerator);\n        return Object.assign(displayPct(diff, denominator), { numerators: stat_obj.numerators });\n      },\n      aggressiveMargin(stat_obj, teams, team) {\n        const { numerator, denominator } = numeratorDenominator(stat_obj, teams, team);\n        const diff = denominator - numerator;\n        const point_counts = Object.keys(teams).map((team) =>\n          teams[team].pointsWon ? teams[team].pointsWon.length : 0,\n        );\n        const total_points = [].concat(0, 0, ...point_counts).reduce((a, b) => a + b);\n        return Object.assign(displayPct(diff, total_points), { numerators: stat_obj.numerators });\n      },\n    };\n\n    const teams_counters = [].concat(...Object.keys(stats.teams).map((team) => Object.keys(stats.teams[team])));\n    return Object.keys(calculated_stats)\n      .map((stat) => {\n        const stat_obj = calculated_stats[stat];\n        if (!stat_obj.denominators) stat_obj.denominators = [];\n        // must remove any '-' indicators to invert\n        let required_counters = []\n          .concat(...stat_obj.numerators, ...stat_obj.denominators)\n          .map((m) => m.split('-').reverse()[0]);\n        required_counters = required_counters.filter((counter) => counter.indexOf('*') < 0);\n        const counters_exist =\n          required_counters.map((counter) => teams_counters.indexOf(counter) < 0).filter((f) => f).length < 1;\n        if (!counters_exist) return false;\n        const team_stats = [0, 1].map((team) => {\n          return stat_calcs[stat_obj.calc](stat_obj, stats.teams, team);\n        });\n        return { name: stat, team_stats };\n      })\n      .filter((f) => f);\n  }\n\n  function addStat(params?: any) {\n    const { player, episode, stat } = params ?? {};\n    let team = params?.team;\n    // stat object is created even if there is no episode to add (=0)\n    if (player != undefined) {\n      if (!stat_points.players[player]) stat_points.players[player] = {};\n      if (!stat_points.players[player][stat]) stat_points.players[player][stat] = [];\n      if (episode) stat_points.players[player][stat].push(episode);\n      team = accessors.playerTeam(player);\n    }\n    if (team != undefined) {\n      if (!stat_points.teams[team]) stat_points.teams[team] = {};\n      if (!stat_points.teams[team][stat]) stat_points.teams[team][stat] = [];\n      if (episode) stat_points.teams[team][stat].push(episode);\n    }\n  }\n};\n\nfunction numbersArray(values) {\n  if (!Array.isArray(values)) return false;\n  return values.map((value) => !isNaN(value)).indexOf(false) >= 0;\n}\n\n/*\nif (typeof define === 'function' && define.amd) define(umo);\nelse if (typeof module === 'object' && module.exports) module.exports = umo;\nthis.umo = umo;\n*/\n\nexport const mo = umo;\nexport default umo;\n","export const version = '@VERSION@';\n","import { browserStorage } from './browserStorage';\nimport { firstAndLast } from './utilities';\nimport { mo } from '../services/matchObject/umo';\nimport { version } from '../config/version';\n\nexport const charts: any = {};\nconst match = mo.Match();\n\nexport const app: any = {\n  broadcast: undefined,\n  user_uuid: undefined,\n};\n\nexport const settings: any = {\n  track_shot_types: undefined,\n  audible_clicks: undefined,\n  display_gamefish: undefined,\n  auto_swap_sides: undefined,\n  point_buttons: undefined,\n};\n\nexport const env: any = {\n  lets: 0,\n  rally: 0,\n  undone: [],\n  view: 'entry',\n  serve2nd: false,\n  rally_mode: false,\n  edit_player: undefined,\n  match_swap: false, // automatic swap\n  swap_sides: false, // user initiated swap\n  orientation: 'vertical',\n  serving: match.nextTeamServing(),\n  receiving: match.nextTeamReceiving(),\n  edit_point_index: undefined,\n  provider: undefined,\n  match,\n};\n\nconst c1 = 'rgb(64, 168, 75)';\nconst c2 = 'rgb(255, 116, 51)';\nconst c3 = 'rgb(221, 56, 48)';\nexport const buttons: any = {\n  first_serve: { color: c1, type: 'toggle' },\n  second_serve: { color: c2, type: 'toggle' },\n  double_fault: { color: c3, type: 'flash' },\n  penalty: { color: c3, type: 'flash' },\n  first_ace: { color: c1, type: 'flash' },\n  second_ace: { color: c2, type: 'flash' },\n  server_winner: { color: c1, type: 'flash' },\n  server_unforced: { color: c3, type: 'flash' },\n  server_forced: { color: c2, type: 'flash' },\n  receiving_winner: { color: c1, type: 'flash' },\n  receiving_unforced: { color: c3, type: 'flash' },\n  receiving_forced: { color: c2, type: 'flash' },\n};\nexport const options = {\n  user_swap: false,\n  highlight_better_stats: true,\n  vertical_view: browserStorage.get('vertical_view') || 'vblack',\n  horizontal_view: browserStorage.get('horizontal_view') || 'hblack',\n};\n\nexport const device: any = {\n  isStandalone: 'standalone' in window.navigator && window.navigator.standalone,\n  isIDevice: /iphone|ipod|ipad/i.test(window.navigator.userAgent),\n  isMobile: typeof window.orientation !== 'undefined',\n  geoposition: {},\n};\n\nexport const default_players = ['Player One', 'Player Two'];\n\nexport function clearActionEvents() {\n  match.events.clearEvents();\n}\n\nexport function updatePositions() {\n  const left_side = env.swap_sides ? 1 : 0;\n  const right_side = env.swap_sides ? 0 : 1;\n  // var server_side = env.swap_sides ? 1 - env.serving : env.serving;\n  // var receiver_side = env.swap_sides ? 1 - env.receiving : env.receiving;\n\n  updateMatchArchive();\n\n  const player_names = match.metadata.players();\n  // var display_position = Array.from(document.getElementsByClassName(\"position_display\"));\n  // display_position[0].value = firstAndLast(player_names[left_side].name);\n  // display_position[1].value = firstAndLast(player_names[right_side].name);\n  const p1 = document.getElementById('playerone');\n  const p2 = document.getElementById('playertwo');\n  if (p1) p1.innerHTML = firstAndLast(player_names[left_side].name);\n  if (p2) p2.innerHTML = firstAndLast(player_names[right_side].name);\n\n  // new way\n  const display_player_0 = Array.from(document.querySelectorAll('.display_player_0'));\n  display_player_0.forEach((element) => (element.innerHTML = player_names[left_side].name));\n  const display_player_1 = Array.from(document.querySelectorAll('.display_player_1'));\n  display_player_1.forEach((element) => (element.innerHTML = player_names[right_side].name));\n}\n\nexport function updateMatchArchive(force?: boolean) {\n  const points = match.history.points();\n\n  // var match_id = match.metadata.defineMatch().muid;\n  const match_id = browserStorage.get('current_match');\n  if (!match_id) return;\n  const players = match.metadata.players();\n  const save =\n    force || points.length || (players[0].name != default_players[0] && players[1].name != default_players[1]);\n  if (!save) return;\n\n  // add key for current match\n  const match_archive = JSON.parse(browserStorage.get('match_archive') || '[]');\n\n  if (match_archive.indexOf(match_id) < 0) {\n    match_archive.push(match_id);\n    browserStorage.set('match_archive', JSON.stringify(match_archive));\n  }\n\n  const match_object = {\n    ch_version: version,\n    players: players,\n    first_service: match.set.firstService(),\n    match: match.metadata.defineMatch(),\n    format: match.format.settings(),\n    tournament: match.metadata.defineTournament(),\n    points: points,\n    scoreboard: match.scoreboard(),\n  };\n  browserStorage.set(match_id, JSON.stringify(match_object));\n}\n\nexport function restoreAppState() {\n  const app_settings = browserStorage.get('CH_AppSettings');\n  if (app_settings) Object.assign(settings, JSON.parse(app_settings));\n  Object.keys(settings).forEach((key) => {\n    const em: any = document.getElementById(key);\n    if (em) em.checked = settings[key];\n  });\n  const app_state = browserStorage.get('CH_AppState');\n  if (app_state) Object.assign(app, JSON.parse(app_state));\n}\n\nexport function updateAppState() {\n  Object.keys(settings).forEach((key) => {\n    const em: any = document.getElementById(key);\n    if (em) settings[key] = em.checked;\n  });\n  browserStorage.set('CH_AppSettings', JSON.stringify(settings));\n  browserStorage.set('CH_AppState', JSON.stringify(app));\n}\n\nexport function setOrientation() {\n  if (device.isMobile) {\n    env.orientation = window.screen.orientation.type == 'landscape-primary' ? 'landscape' : 'portrait';\n  } else {\n    env.orientation = window.innerWidth > window.innerHeight ? 'landscape' : 'portrait';\n  }\n}\n","import { env } from './env';\n\nexport function formatChangePossible() {\n  const advantages = env.match.history\n    .score()\n    .flatMap((s) => s.split('-'))\n    .includes('A');\n  if (advantages) return false;\n  const common = env.match.history.common();\n  if (common.length == 0) return true;\n  const last = common[common.length - 1];\n  return last.set.complete;\n\n  // TODO: implement when umo can propagate changes to children...\n  /*\n      scores = points.map(point=>point.score);\n      var games = match.score().counters.games.reduce((a, b) => a + b);\n      var advantages = scores.map(m=>m.indexOf('A') >= 0).filter(f=>f);\n      if (games < 1 && advantages < 1) return true;\n      */\n}\n","export function isFunction(fx) {\n  return typeof fx === 'function';\n}\nexport function isString(item) {\n  return typeof item === 'string';\n}\nexport function isArray(item) {\n  return Array.isArray(item);\n}\nexport function isObject(item) {\n  return typeof item === 'object' && !Array.isArray(item);\n}\nexport function isNumeric(value) {\n  return !isNaN(parseFloat(value));\n}\n","import { isNumeric, isString } from './typeOf';\n\nexport function legacyRally(rally) {\n  if (Array.isArray(rally)) return rally;\n  if (isString(rally)) return new Array(rally);\n  return [];\n}\n\nexport function rallyCount(rally) {\n  if (Array.isArray(rally)) return rally.length;\n  if (isString(rally)) return parseInt(rally);\n  if (isNumeric(rally)) return rally;\n  return 0;\n}\n","import { rallyCount } from '../functions/legacyRally';\nimport { env } from './env';\n\nexport function displayPointHistory() {\n  const games = groupGames();\n  const players = env.match.metadata.players();\n  let html = '';\n  if (!games.length) return false;\n  games.forEach((game: any) => {\n    if (game.points && game.points.length) html += gameEntry(game, players);\n  });\n  html += `\n    <div class=\"flexrows ph_game\">\n      <div class='ph_margin' style='width: 100%'>\n          <div class='flexcenter' style='width: 100%'>Duration ${matchDuration()}</div>\n      </div>\n    </div>\n  `;\n\n  const phFrame = document.getElementById('ph_frame');\n  if (phFrame) phFrame.innerHTML = html;\n}\n\nfunction groupGames() {\n  const point_episodes = env.match.history.action('addPoint');\n  const games: any = [{ points: [] }];\n  let game_counter = 0;\n  let current_game = 0;\n  point_episodes.forEach((episode: any) => {\n    const point = episode.point;\n    if (point.game != current_game) {\n      game_counter += 1;\n      current_game = point.game;\n      games[game_counter] = { points: [] };\n    }\n    games[game_counter].points.push(point);\n    games[game_counter].index = game_counter;\n    games[game_counter].set = episode.set.index;\n    games[game_counter].score = episode.game.games;\n    games[game_counter].complete = episode.game.complete;\n    if (episode.game.complete) games[game_counter].winner = point.winner;\n    if (episode.set.complete) games[game_counter].last_game = true;\n  });\n  return games;\n  // if (set != undefined) games = games.filter(function(game) { return game.set == set });\n}\n\nfunction gameEntry(game: any, players: any[]) {\n  const last_point = game.points[game.points.length - 1];\n  const game_score = game.complete ? game.score.join('-') : undefined;\n  const tiebreak = last_point.tiebreak;\n  const server = tiebreak ? 'Tiebreak' : players[last_point.server].name;\n  const service = tiebreak ? '' : last_point.server ? 'playertwo' : 'playerone';\n  const servergame = tiebreak ? '' : last_point.server == last_point.winner ? 'won' : 'lost';\n  let html = `\n         <div class=\"flexrows ph_game\">\n            <div class='ph_margin flexrows'>\n               <div class=\"ph_server ${service}\">${server}</div>\n               <div class=\"ph_action flexcenter\"> \n                  <div class='viewGameFish ph_fish iconfish' gameIndex='${game.index}'></div>\n               </div>\n               <div class='viewGameFish ph_rally ph_${servergame}' gameIndex=\"${game.index}\"'>\n                  <b class=\"viewGameFish\" gameIndex=\"${game.index}\">${game_score || ''}</b>\n               </div>\n            </div>\n         </div>\n      `;\n  game.points.forEach((point: any) => {\n    html += pointEntry(\n      point,\n      players,\n      // game.complete && index == game.points.length - 1 ? game.score.join('-') : undefined\n    );\n  });\n  return html;\n}\n\nfunction pointEntry(point: any, players: any[]) {\n  const evenodd = point.index % 2 ? 'even' : 'odd';\n  let point_score = !point.tiebreak && point.server ? point.score.split('-').reverse().join('-') : point.score;\n  let player_initials;\n  if (point.result) {\n    let shot_by;\n    if (['Ace', 'Winner'].indexOf(point.result) >= 0) {\n      shot_by = players[point.winner].name;\n    } else {\n      shot_by = players[1 - point.winner].name;\n    }\n    player_initials = shot_by\n      .split(' ')\n      .map((name: string) => name[0])\n      .join('');\n  }\n  const point_hand = point.hand ? point.hand + ' ' : '';\n  const point_result = point.result || '';\n  const point_description = !point_result ? '' : `${player_initials}: ${point_hand}${point_result}`;\n  point_score = point_score == '0-0' ? 'GAME' : point_score;\n  if (point.tiebreak) {\n    if (point.server) point_score = `&nbsp;${point_score}*`;\n    if (!point.server) point_score = `*${point_score}&nbsp;`;\n  }\n  const rally = point.rally ? rallyCount(point.rally) + 1 : '';\n  return `\n    <div class='flexrows ph_episode' pointIndex=\"${point.index}\">\n        <div class='ph_point_${evenodd} flexrows'>\n          <div class='viewEditPoint ph_result'>${point_description}</div>\n          <div class='viewEditPoint ph_score'>${point_score} </div>\n          <div class='viewEditPoint ph_score'>${rally}</div>\n        </div>\n    </div>\n    `;\n}\n\nfunction matchDuration() {\n  const timestamps = env.match.history.points().map((p: any) => p.uts);\n  const start = Math.min(...timestamps);\n  const end = Math.max(...timestamps);\n  const seconds = (end - start) / 1000.0;\n  return HHMMSS(seconds);\n}\n\nfunction HHMMSS(s: any) {\n  const sec_num = parseInt(s, 10); // don't forget the second param\n  let hours: any = Math.floor(sec_num / 3600);\n  let minutes: any = Math.floor((sec_num - hours * 3600) / 60);\n  let seconds: any = sec_num - hours * 3600 - minutes * 60;\n\n  if (hours < 10) {\n    hours = '0' + hours;\n  }\n  if (minutes < 10) {\n    minutes = '0' + minutes;\n  }\n  if (seconds < 10) {\n    seconds = '0' + seconds;\n  }\n  return hours + ':' + minutes + ':' + seconds;\n}\n","import { env } from './env';\n\nexport function groupGames(point_episodes?: any[]) {\n  point_episodes = point_episodes || env.match.history.action('addPoint');\n  const games: any = [{ points: [] }];\n  let game_counter = 0;\n  let current_game = 0;\n  point_episodes?.forEach((episode: any) => {\n    const point = episode.point;\n    if (point.game != current_game) {\n      game_counter += 1;\n      current_game = point.game;\n      games[game_counter] = { points: [] };\n    }\n    games[game_counter].points.push(point);\n    games[game_counter].index = game_counter;\n    games[game_counter].set = episode.set.index;\n    games[game_counter].score = episode.game.games;\n    games[game_counter].complete = episode.game.complete;\n    if (episode.game.complete) games[game_counter].winner = point.winner;\n    if (episode.set.complete) games[game_counter].last_game = true;\n  });\n  return games;\n  // if (set != undefined) games = games.filter(function(game) { return game.set == set });\n}\n","export function closeModal() {\n  Array.from(document.querySelectorAll('.ch_modal')).forEach((modal: any) => (modal.style.display = 'none'));\n}\n","import { env, options, settings, updateMatchArchive, updatePositions } from './env';\nimport { browserStorage } from './browserStorage';\nimport { groupGames } from './groupGames';\nimport { closeModal } from './modals';\n\nexport function updateScore() {\n  const score = env.match.score();\n  const sets_counter = score.counters.sets;\n  const games_counter = score.counters.games;\n  const points = score.points.split('-');\n  const left_side = env.swap_sides ? 1 : 0;\n  const right_side = env.swap_sides ? 0 : 1;\n\n  // old way\n  const point_fields: any = Array.from(document.getElementsByClassName('points'));\n  point_fields.forEach((field: any, index: number) => {\n    field.value = points[env.swap_sides ? 1 - index : index];\n  });\n\n  // new way\n  const display_point_0 = Array.from(document.querySelectorAll('.display_points_0'));\n  display_point_0.forEach((element) => (element.innerHTML = points[left_side]));\n  const display_point_1 = Array.from(document.querySelectorAll('.display_points_1'));\n  display_point_1.forEach((element) => (element.innerHTML = points[right_side]));\n\n  const display_game_0 = Array.from(document.querySelectorAll('.display_games_0'));\n  display_game_0.forEach((element) => (element.innerHTML = games_counter[left_side]));\n  const display_game_1 = Array.from(document.querySelectorAll('.display_games_1'));\n  display_game_1.forEach((element) => (element.innerHTML = games_counter[right_side]));\n\n  const display_set_0 = Array.from(document.querySelectorAll('.display_sets_0'));\n  display_set_0.forEach((element) => (element.innerHTML = sets_counter[left_side]));\n  const display_set_1 = Array.from(document.querySelectorAll('.display_sets_1'));\n  display_set_1.forEach((element) => (element.innerHTML = sets_counter[right_side]));\n\n  const sets = score.components.sets;\n  const threshold = env.match.format.threshold();\n  const max_games = threshold == 1 ? 0 : threshold > 2 ? 4 : 2;\n  [0, 1, 2, 3, 4].forEach((index) => {\n    if (!sets || (sets && !sets[index])) {\n      // old way\n      const set_fields = Array.from(document.getElementsByClassName('games' + index));\n      set_fields.forEach((field: any) => (field.value = '-'));\n      // new way\n      const player0_games = Array.from(document.getElementsByClassName('display_set_' + index + '_games_0'));\n      player0_games.forEach((field) => (field.innerHTML = index > max_games ? ' ' : '-'));\n      const player1_games = Array.from(document.getElementsByClassName('display_set_' + index + '_games_1'));\n      player1_games.forEach((field) => (field.innerHTML = index > max_games ? ' ' : '-'));\n    }\n  });\n\n  if (!sets) return;\n\n  sets.forEach((set: any, index: number) => {\n    // old way\n    const set_fields: any = Array.from(document.getElementsByClassName('games' + index));\n    set_fields.forEach((field: any, index: number) => (field.value = set.games[env.swap_sides ? 1 - index : index]));\n    // new way\n    const player0_games = Array.from(document.getElementsByClassName('display_set_' + index + '_games_0'));\n    player0_games.forEach((field) => (field.innerHTML = set.games[env.swap_sides ? 1 : 0]));\n    const player1_games = Array.from(document.getElementsByClassName('display_set_' + index + '_games_1'));\n    player1_games.forEach((field) => (field.innerHTML = set.games[env.swap_sides ? 0 : 1]));\n  });\n}\n\nexport function loadDetails() {\n  const players = env.match.metadata.players();\n  players.forEach((player: any, index: number) => {\n    const attributes = ['hand', 'entry', 'seed', 'draw_position', 'ioc', 'rank'];\n    attributes.forEach((detail) => {\n      const target_id = `player${index}_${detail}`;\n      const target: any = document.getElementById(target_id);\n      if (target) target.value = player[detail] || '';\n    });\n  });\n\n  const match_details = env.match.metadata.defineMatch();\n  const m_attrs = ['court', 'umpire'];\n  m_attrs.forEach((attribute) => {\n    const target_id = `match_${attribute}`;\n    const tid: any = document.getElementById(target_id);\n    if (tid) tid.value = match_details[attribute] || '';\n  });\n\n  const tournament = env.match.metadata.defineTournament();\n  const t_attrs = ['name', 'start_date', 'tour', 'rank', 'surface', 'in_out', 'draw', 'draw_size', 'round'];\n  t_attrs.forEach((attribute) => {\n    const target_id = `tournament_${attribute}`;\n    const tid: any = document.getElementById(target_id);\n    if (tid) tid.value = tournament[attribute] || '';\n  });\n}\n\nexport function stateChangeEvent() {\n  updateMatchArchive();\n  env.serve2nd = false;\n  env.rally_mode = false;\n  updateState();\n  updateScore();\n  visibleButtons();\n}\n\nexport function visibleButtons() {\n  const points = env.match.history.action('addPoint');\n  const match_archive = JSON.parse(browserStorage.get('match_archive') || '[]');\n  Array.from(document.querySelectorAll('.view_stats')).forEach(\n    (div: any) => (div.style.display = points.length > 0 ? 'inline' : 'none'),\n  );\n  Array.from(document.querySelectorAll('.change_server')).forEach(\n    (div: any) => (div.style.display = points.length == 0 ? 'inline' : 'none'),\n  );\n  Array.from(document.querySelectorAll('.view_archive')).forEach(\n    (div: any) => (div.style.display = points.length == 0 && match_archive.length ? 'inline' : 'none'),\n  );\n  Array.from(document.querySelectorAll('.view_settings')).forEach(\n    (div: any) => (div.style.display = points.length == 0 && !match_archive.length ? 'inline' : 'none'),\n  );\n  Array.from(document.querySelectorAll('.view_history')).forEach(\n    (div: any) => (div.style.display = points.length > 0 ? 'inline' : 'none'),\n  );\n  Array.from(document.querySelectorAll('.undo')).forEach((div: any) => {\n    div.style.display = points.length > 0 || env.serve2nd || env.rally_mode ? 'flex' : 'none';\n  });\n  Array.from(document.querySelectorAll('.redo')).forEach((div: any) => {\n    div.style.display = env.undone.length ? 'flex' : 'none';\n  });\n  const last_point = points.length ? points[points.length - 1] : undefined;\n  const status_message = statusMessage();\n  env.match.status = status_message;\n  Array.from(document.querySelectorAll('.status_message')).forEach((div) => (div.innerHTML = status_message));\n\n  function statusMessage() {\n    if (last_point) {\n      if (last_point.needed.points_to_set && Math.min(...last_point.needed.points_to_set) == 1) return 'SET POINT';\n      if (last_point.point.breakpoint) return 'BREAK POINT';\n      if (last_point.needed.points_to_game && last_point.needed.points_to_game[last_point.point.server] == 1)\n        return 'GAME POINT';\n    }\n    if (env.lets) return `Lets: ${env.lets}`;\n    return '';\n  }\n}\n\nexport function updateState() {\n  if (env.match.nextTeamServing() != env.serving) setTimeout(() => swapServer(), 400);\n  resetButtons();\n  updatePositions();\n}\n\nexport function resetButtons() {\n  const server_side = env.swap_sides ? 1 - env.serving : env.serving;\n  const receiver_side = env.swap_sides ? 1 - env.receiving : env.receiving;\n\n  Array.from(document.querySelectorAll('.fault')).forEach((div) => (div.innerHTML = 'Fault'));\n\n  const server_mode = `.modeaction_player${server_side}`;\n  Array.from(document.querySelectorAll(server_mode)).forEach((div) => (div.innerHTML = 'Serve'));\n\n  const server_fault = `.modeerr_player${server_side}`;\n  Array.from(document.querySelectorAll(server_fault)).forEach((div) => (div.innerHTML = 'Fault'));\n  const server_ace = `.modewin_player${server_side}`;\n  Array.from(document.querySelectorAll(server_ace)).forEach((div) => (div.innerHTML = 'Ace'));\n  const server_let = `.modeforce_player${server_side}`;\n  Array.from(document.querySelectorAll(server_let)).forEach((div) => (div.innerHTML = 'Let'));\n\n  const receiver_mode = `.modeaction_player${receiver_side}`;\n  Array.from(document.querySelectorAll(receiver_mode)).forEach((div) => (div.innerHTML = 'Return'));\n\n  const receiver_ufe = `.modeerr_player${receiver_side}`;\n  Array.from(document.querySelectorAll(receiver_ufe)).forEach((div) => (div.innerHTML = 'UFE'));\n  const receiver_winner = `.modewin_player${receiver_side}`;\n  Array.from(document.querySelectorAll(receiver_winner)).forEach((div) => (div.innerHTML = 'Winner'));\n  const receiver_forced = `.modeforce_player${receiver_side}`;\n  Array.from(document.querySelectorAll(receiver_forced)).forEach((div) => (div.innerHTML = 'Forced'));\n\n  Array.from(document.querySelectorAll('.vs_point_button')).forEach(\n    (div: any) => (div.style.display = settings.point_buttons ? 'flex' : 'none'),\n  );\n\n  Array.from(document.querySelectorAll('.rally')).forEach((div) => (div.innerHTML = 'Rally'));\n}\n\nexport function swapServer() {\n  env.serving = env.match.nextTeamServing();\n  env.receiving = env.match.nextTeamReceiving();\n\n  if (settings.auto_swap_sides) {\n    const games = groupGames();\n    let game_number: number = games.length;\n    if (games[games.length - 1].complete) game_number += 1;\n    env.match_swap = swapSides(game_number);\n  } else {\n    env.match_swap = false;\n  }\n  setCourtSide();\n\n  const server_side = env.swap_sides ? 1 - env.serving : env.serving;\n  const receiver_side = env.swap_sides ? 1 - env.receiving : env.receiving;\n\n  /**\n  let div = document.getElementById(server_side ? 'player_receiving' : 'player_serving');\n  div.parentNode.insertBefore(div, document.getElementById('team_two'));\n  div = document.getElementById(server_side ? 'player_serving' : 'player_receiving');\n  div.parentNode.insertBefore(div, document.getElementById('entry_end'));\n  */\n\n  changeTextColor(`.indicate_serve.display_player_${server_side}`, 'yellow');\n  changeTextColor(`.indicate_serve.display_player_${receiver_side}`, 'white');\n\n  /**\n  document.getElementById(\"team_one_role\").innerHTML = server_side ? 'Receiving:' : 'Serving:';\n  document.getElementById(\"team_two_role\").innerHTML = server_side ? 'Serving:' : 'Receiving:';\n  */\n\n  if (server_side) {\n    changeClassDisplay('.display_0_serving', 'none');\n    changeClassDisplay('.display_1_serving', 'flex');\n  } else {\n    changeClassDisplay('.display_0_serving', 'flex');\n    changeClassDisplay('.display_1_serving', 'none');\n  }\n\n  const point_fields = Array.from(document.getElementsByClassName('points'));\n  point_fields.forEach((field: any, index) => {\n    const player = env.swap_sides ? 1 - index : index;\n    field.style.backgroundColor = player == env.serving ? '#FBF781' : '#D1FBFB';\n  });\n  resetButtons();\n}\n\nfunction swapSides(number: number) {\n  const iterations = [true].concat([...Array(number).keys()].map((i) => (i + 1) % 4 < 2));\n  return !iterations[number];\n}\n\nexport function setCourtSide() {\n  env.swap_sides = env.match_swap;\n  if (options.user_swap) env.swap_sides = !env.swap_sides;\n  stateChangeEvent();\n}\n\nfunction changeTextColor(classes: string, value: any) {\n  const objs = Array.from(document.querySelectorAll(classes));\n  objs.forEach((obj: any) => (obj.style.color = value));\n}\n\nfunction changeClassDisplay(className: string, display: string) {\n  const elements = Array.from(document.querySelectorAll(className));\n  elements.forEach((element: any) => (element.style.display = display));\n}\n\nexport function checkPlayerName(keypress: any) {\n  if (keypress.keyCode == 13 || keypress.code == 9) {\n    const player_hand = document.getElementById('player_hand');\n    if (player_hand) player_hand.focus();\n    changePlayerName();\n  }\n}\n\nexport function changePlayerName() {\n  const player_name: any = document.getElementById('playername');\n  const team: any = document.getElementById('team');\n  const id: any = document.getElementById('playerid');\n  if (player_name) {\n    const update: any = {\n      index: env.edit_player,\n      name: player_name.value,\n    };\n    if (team) update.team = team.value;\n    if (id) update.id = id.value;\n    env.match.metadata.definePlayer(update);\n  }\n  updatePositions();\n}\n\nexport function editMatchDetails() {\n  closeModal();\n  const matchDetails = document.getElementById('matchdeets');\n  if (matchDetails) matchDetails.style.display = 'flex';\n  const detailContent = document.getElementById('matchdetail_content');\n  if (detailContent) detailContent.scrollTop = 0;\n}\n","export default \"__VITE_ASSET__P0JBwVya__\"","export default \"__VITE_ASSET__86LiX4v4__\"","import { browserStorage } from './browserStorage';\nimport { showModal } from './utilities';\nimport { device } from './env';\n\nexport function modalExport(match_id: any) {\n  match_id = match_id || browserStorage.get('current_match');\n  Array.from(document.querySelectorAll('.mh_export')).forEach((selector: any) => (selector.style.display = 'none'));\n  const match_data = browserStorage.get(match_id);\n  const header = `\n   <p>&nbsp;</p>\n   <h1>Export Options</h1>\n   <p>Supported by your device</p>\n`;\n  const save = `\n   <div matchId=\"${match_id}\" class=\"exportMatch flexcenter\">\n      <div matchId=\"${match_id}\" class='exportMatch export_action action_icon iconsave'></div>\n   </div>\n`;\n  const copy = `\n   <div class=\"flexcenter\">\n      <button id='copy2clipboard' class=\"flexcenter c2c\" data-clipboard-text=\"\"> \n         <div class='export_action action_icon iconclipboard'></div> \n      </button>\n   </div> \n`;\n  const modaltext = `<div>${header}<div class=\"flexrows flexcenter\">${\n    !device.isIDevice ? save : ''\n  }${copy}</div></div>`;\n  const export_data = match_data;\n  showModal(modaltext, export_data);\n}\n","const util = {\n  hasClass: function (e: Element, c: string) {\n    const re = new RegExp('(^|\\\\s)' + c + '(\\\\s|$)');\n    return re.test(e.className);\n  },\n  addClass: function (e: Element, c: string) {\n    if (this.hasClass(e, c)) {\n      return;\n    }\n    const newclass = e.className.split(' ');\n    newclass.push(c);\n    e.className = newclass.join(' ');\n  },\n  removeClass: function (e: Element, c: string) {\n    if (!this.hasClass(e, c)) {\n      return;\n    }\n    const re = new RegExp('(^|\\\\s)' + c + '(\\\\s|$)', 'g');\n    e.className = e.className.replace(re, '');\n  }\n};\n\nexport const SwipeList = {\n  init: (opt: any) => {\n    let swipeLeft = 0;\n    let swipeRight = 0;\n    opt.buttons.forEach((b: any) => {\n      if (b.side == 'right') swipeLeft += b.width || 0;\n      if (b.side == 'left') swipeRight += b.width || 0;\n    });\n\n    const instances = Array.from(document.querySelectorAll(opt.container));\n    instances.forEach((instance) => {\n      let moveX = 0;\n      let moveY = 0;\n      let moveStart: any = null;\n\n      // Button DIVs\n      let leftpx = 0;\n      let rightpx = 0;\n      opt.buttons.forEach((button: any) => {\n        const btn = document.createElement('div');\n        btn.textContent = button.text;\n        btn.className = button.class;\n        if (button.side == 'right') {\n          leftpx += button.width || 0;\n          btn.style.right = -1 * leftpx + 'px';\n        }\n        if (button.side == 'left') {\n          rightpx += button.width || 0;\n          btn.style.left = -1 * rightpx + 'px';\n        }\n        const abtn = instance.appendChild(btn);\n\n        // options image instead of text\n        if (button.image) {\n          const img = document.createElement('img');\n          img.src = button.image;\n          img.className = button.image_class;\n          abtn.appendChild(img);\n        }\n      });\n\n      // Hardware Acceleration\n      instance.style.webkitTransform = 'translateZ(0)';\n      instance.style.transform = 'translateZ(0)';\n\n      // Slide Start\n      instance.addEventListener(\n        'touchstart',\n        function (event: any) {\n          // Reset Animation Time\n          instance.style.transitionDuration = '0ms';\n\n          // Close other items\n          instances.forEach((inst) => {\n            if (util.hasClass(inst, 'move-out-click') && inst != instance) {\n              inst.style.transitionDuration = '325ms';\n              inst.style.webkitTransform = 'translateX(0px)';\n              inst.style.transform = 'translateX(0px)';\n              util.removeClass(inst, 'move-out-click');\n            }\n          });\n\n          // Save slide position\n          const touches = event.changedTouches;\n          moveStart = {\n            x: touches[0].pageX,\n            y: touches[0].pageY\n          };\n        },\n        true\n      );\n\n      // Sliding Animation\n      instance.addEventListener(\n        'touchmove',\n        function (event: any) {\n          // Limit to one instance\n          if (moveStart === null) {\n            return;\n          }\n\n          const touches = event.changedTouches;\n          const nowX = touches[0].pageX;\n          const nowY = touches[0].pageY;\n          moveX = nowX - moveStart.x;\n          moveY = nowY - moveStart.y;\n\n          // Left/Right swipes\n          if (Math.abs(moveX) > Math.abs(moveY)) {\n            if (moveX > 0) {\n              if (util.hasClass(instance, 'move-out-click')) {\n                const x = moveX > swipeLeft ? 0 : -swipeLeft + moveX;\n                instance.style.transform = 'translateX(' + x + 'px)';\n              } else if (swipeRight) {\n                const x = Math.abs(moveX) > swipeLeft ? swipeLeft : moveX;\n                instance.style.transform = 'translateX(' + x + 'px)';\n              }\n            }\n            if (moveX < 0) {\n              if (!util.hasClass(instance, 'move-out-click')) {\n                const x = Math.abs(moveX) > swipeLeft ? -swipeLeft : moveX;\n                instance.style.transform = 'translateX(' + x + 'px)';\n              } else if (swipeRight) {\n                const x = Math.abs(moveX) > swipeLeft ? swipeLeft : moveX;\n                instance.style.transform = 'translateX(' + x + 'px)';\n              }\n            }\n          }\n        },\n        true\n      );\n\n      // Finish Sliding Action\n      instance.addEventListener(\n        'touchend',\n        function () {\n          // Limit to one instance\n          if (moveStart === null) {\n            return;\n          }\n\n          // Slower Animation\n          instance.style.transitionDuration = '125ms';\n\n          // If swipe active\n          if (util.hasClass(instance, 'move-out-click')) {\n            if (moveX > 0 && swipeLeft) {\n              const x = moveX > 10 ? 0 : -swipeLeft;\n              instance.style.transform = 'translateX(' + x + 'px)';\n              if (x === 0) {\n                util.removeClass(instance, 'move-out-click');\n              }\n            } else if (swipeRight) {\n              const x = moveX < -10 ? 0 : swipeLeft;\n              instance.style.transform = 'translateX(' + x + 'px)';\n              if (x === 0) {\n                util.removeClass(instance, 'move-out-click');\n              }\n            }\n          } else {\n            if (moveX < 0 && swipeLeft) {\n              const x = Math.abs(moveX) > swipeLeft / 2 ? -swipeLeft : 0;\n              instance.style.transform = 'translateX(' + x + 'px)';\n              if (x !== 0) {\n                util.addClass(instance, 'move-out-click');\n              }\n            } else if (swipeRight) {\n              const x = Math.abs(moveX) > swipeLeft / 2 ? swipeLeft : 0;\n              instance.style.transform = 'translateX(' + x + 'px)';\n              if (x !== 0) {\n                util.addClass(instance, 'move-out-click');\n              }\n            }\n          }\n\n          // Restore initial position\n          moveStart = null;\n          moveX = 0;\n        },\n        true\n      );\n\n      // Cancel\n      instance.addEventListener(\n        'touchcancel',\n        function () {\n          instance.style.transitionDuration = '225ms';\n          instance.style.webkitTransform = 'translateX(0px)';\n          instance.style.transform = 'translateX(0px)';\n          util.removeClass(instance, 'move-out-click');\n          moveStart = null;\n          moveX = 0;\n        },\n        true\n      );\n    });\n  }\n};\n","import { stateChangeEvent, swapServer } from './displayUpdate';\nimport { buttons, env, updatePositions } from './env';\n\nexport function defineActionEvents() {\n  env.match.events.addPoint(stateChangeEvent);\n  env.match.events.undo(stateChangeEvent);\n  env.match.events.reset(resetEvent);\n}\n\nexport function resetEvent() {\n  env.match.set.perspectiveScore(false);\n  env.match.set.liveStats(true);\n  env.match.metadata.timestamps(true);\n  env.match.metadata.defineMatch({ date: null });\n\n  env.serve2nd = false;\n  env.rally_mode = false;\n  env.serving = env.match.nextTeamServing();\n  env.receiving = env.match.nextTeamReceiving();\n  env.undone = [];\n  env.rally = 0;\n  env.lets = 0;\n\n  resetStyles();\n  updatePositions();\n  swapServer();\n  stateChangeEvent();\n}\n\nexport function resetStyles() {\n  Object.keys(buttons).forEach((id) => resetButton(id));\n}\n\nexport function resetButton(id: string) {\n  const button = document.getElementById(id);\n  if (!button) return;\n  if (buttons?.[id]?.color) {\n    button.style.backgroundColor = 'white';\n    button.style.color = buttons[id].color;\n    button.style.borderColor = buttons[id].color;\n  }\n}\n","export function UUID() {\n  const lut: string[] = [];\n\n  for (let i = 0; i < 256; i++) {\n    lut[i] = (i < 16 ? '0' : '') + i.toString(16);\n  }\n\n  const d0 = (Math.random() * 0xffffffff) | 0;\n  const d1 = (Math.random() * 0xffffffff) | 0;\n  const d2 = (Math.random() * 0xffffffff) | 0;\n  const d3 = (Math.random() * 0xffffffff) | 0;\n  // eslint-disable-next-line no-mixed-operators\n  return (\n    lut[d0 & 0xff] +\n    lut[(d0 >> 8) & 0xff] +\n    lut[(d0 >> 16) & 0xff] +\n    lut[(d0 >> 24) & 0xff] +\n    '-' +\n    // eslint-disable-next-line no-mixed-operators\n    lut[d1 & 0xff] +\n    lut[(d1 >> 8) & 0xff] +\n    '-' +\n    lut[((d1 >> 16) & 0x0f) | 0x40] +\n    lut[(d1 >> 24) & 0xff] +\n    '-' +\n    // eslint-disable-next-line no-mixed-operators\n    lut[(d2 & 0x3f) | 0x80] +\n    lut[(d2 >> 8) & 0xff] +\n    '-' +\n    lut[(d2 >> 16) & 0xff] +\n    lut[(d2 >> 24) & 0xff] +\n    // eslint-disable-next-line no-mixed-operators\n    lut[d3 & 0xff] +\n    lut[(d3 >> 8) & 0xff] +\n    lut[(d3 >> 16) & 0xff] +\n    lut[(d3 >> 24) & 0xff]\n  );\n}\n\n/**\n * UUID prepended with 'u_' which is safe for html attribute ids\n */\nexport function safeUUID() {\n  return `u_${UUID()}`;\n}\n","import { loadDetails, stateChangeEvent, updateScore } from './displayUpdate';\nimport { clearActionEvents, env, updatePositions } from './env';\nimport { browserStorage } from './browserStorage';\nimport { defineActionEvents } from './events';\nimport { viewManager } from './viewManager';\nimport { isJSON } from './utilities';\nimport { UUID } from './UUID';\n\nexport function loadMatch(match_id: string, view = 'entry') {\n  if (!match_id) {\n    viewManager('entry');\n    return;\n  }\n  env.match.reset();\n  const json = browserStorage.get(match_id);\n  const match_data = json && isJSON(json) && match_id ? JSON.parse(browserStorage.get(match_id) ?? '[]') : undefined;\n  if (!match_data) {\n    // newMatch(); ??\n    // insure match_id is not in match_archive ??\n    viewManager('entry');\n    return;\n  }\n\n  // reduce overhead by turning off matchObject state change events;\n  clearActionEvents();\n  browserStorage.set('current_match', match_id);\n  if (match_data.match) {\n    if (!match_data.match.muid) {\n      match_data.match.muid = UUID();\n      browserStorage.remove(match_id);\n    }\n    env.match.metadata.defineMatch(match_data.match);\n  }\n  if (match_data.first_service) env.match.set.firstService(match_data.first_service);\n  if (match_data.tournament) env.match.metadata.defineTournament(match_data.tournament);\n  if (match_data.format) {\n    env.match.format.settings(match_data.format);\n    const mdFormat = document.getElementById('md_format');\n    if (mdFormat) mdFormat.innerHTML = match_data.format.name;\n  }\n\n  if (!match_data.version) {\n    match_data.points.forEach((point: any) => env.match.addPoint(point));\n  }\n\n  // turn on timestamps *after* loading all points\n  env.match.metadata.timestamps(true);\n\n  if (match_data.players) {\n    match_data.players.forEach((player: any, index: number) => {\n      player.index = index;\n      env.match.metadata.definePlayer(player);\n    });\n  }\n  updatePositions();\n  updateScore();\n  loadDetails();\n  stateChangeEvent();\n  defineActionEvents();\n  viewManager(view);\n}\n","import { loadDetails, stateChangeEvent, updateScore } from './displayUpdate';\nimport exportImage from '../assets/icons/exportwhite.png';\nimport recycleImage from '../assets/icons/recycle.png';\nimport { findUpClass, firstAndLast } from './utilities';\nimport { browserStorage } from './browserStorage';\nimport { modalExport } from './modalExport';\nimport { viewManager } from './viewManager';\nimport { SwipeList } from './swipeList';\nimport { loadMatch } from './loadMatch';\nimport { UUID } from './UUID';\nimport { env } from './env';\n\nexport function displayMatchArchive(params?: any) {\n  const active = params?.active;\n  let html = `<div class='swipe-panel no-top'>`;\n  // archive used to sort by match.date when match_id was timestamp...\n  // need a fix for this...\n  const match_archive: string[] = JSON.parse(browserStorage.get('match_archive') || '[]')\n    .filter((item: any, i: number, s: any) => s.lastIndexOf(item) == i)\n    .reverse();\n  if (!match_archive.length) {\n    newMatch();\n    return;\n  }\n  if (active) return;\n\n  match_archive.forEach((match_id: string) => {\n    const match_data = match_id && JSON.parse(browserStorage.get(match_id) ?? '[]');\n    if (match_data) {\n      html += archiveEntry(match_id, match_data);\n    } else {\n      browserStorage.remove(match_id);\n    }\n  });\n  html += '</div>';\n  const ma_elem = document.getElementById('matcharchiveList');\n  if (ma_elem) ma_elem.innerHTML = html;\n\n  SwipeList.init({\n    container: '.swipe-item',\n    buttons: [\n      {\n        class: 'img_export swipe_img',\n        image_class: 'export_icon',\n        image: exportImage,\n        side: 'right',\n        width: 60\n      },\n      {\n        class: 'img_recycle swipe_img',\n        image_class: 'recycle_icon',\n        image: recycleImage,\n        side: 'right',\n        width: 60\n      }\n    ]\n  });\n\n  if (ma_elem) {\n    ma_elem.addEventListener('click', function (e: any) {\n      const p = findUpClass(e.target, 'swipe-item');\n      const muid = p?.getAttribute('muid');\n      const selected_match = findUpClass(e.target, 'mh_match');\n      if (selected_match) {\n        return loadMatch(muid);\n      }\n\n      if (e?.target?.className?.indexOf('img_export') >= 0 || e.target.className == 'export_icon') {\n        p.classList.remove('move-out-click');\n        p.style.webkitTransitionDuration = '125ms';\n        p.style.transitionDuration = '125ms';\n        p.style.webkitTransform = 'translateX(0px)';\n        p.style.transform = 'translateX(0px)';\n        modalExport(muid);\n      }\n      if (e.target.className.indexOf('img_recycle') >= 0 || e.target.className == 'recycle_icon') {\n        deleteMatch(muid);\n        p.remove();\n      }\n    });\n  }\n\n  return match_archive;\n}\n\nfunction deleteMatch(match_id: string) {\n  /*\n  if (broadcasting()) {\n    const match_data = JSON.parse(browserStorage.get(match_id));\n    const data: any = { muid: match_id };\n    const tournament = (match_data && match_data.tournament) || {};\n    data.tuid = tournament.tuid || tournament.name;\n    // coms.socket.emit('delete match', data);\n  }\n  */\n\n  browserStorage.remove(match_id);\n  const current_match_id = browserStorage.get('current_match');\n  let match_archive = JSON.parse(browserStorage.get('match_archive') || '[]');\n  match_archive = match_archive.filter((archive_id: string) => match_id != archive_id);\n  browserStorage.set('match_archive', JSON.stringify(match_archive));\n  if (match_id == current_match_id) {\n    resetMatch();\n  }\n  displayMatchArchive({ active: true });\n}\n\nexport function resetMatch(muid?: string) {\n  env.match.reset();\n  loadDetails();\n  updateScore();\n  const date = new Date().valueOf();\n  muid = muid || UUID();\n  env.match.metadata.defineMatch({ muid, date });\n  browserStorage.set('current_match', muid);\n  stateChangeEvent();\n}\n\nexport function newMatch(force_format?: boolean) {\n  resetMatch();\n  viewManager(force_format ? 'entry' : 'matchformat');\n}\n\nconst months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nfunction archiveEntry(match_id: string, match_data: any) {\n  const date = new Date(match_data.match.date);\n  const display_date = [date.getDate(), months[date.getMonth()], date.getFullYear()].join('-');\n  const players = match_data.players;\n  const display_players = `\n         <span class='nowrap'>${firstAndLast(players[0].name)}</span>\n         <span> v. </span>\n         <span class='nowrap'>${firstAndLast(players[1].name)}</span>\n         `;\n  const match_score = match_data.scoreboard;\n  const match_format = match_data.format.name;\n  return `\n      <div id='match_${match_id}' muid='${match_id}' class='flexcenter mh_swipe swipe-item'>\n         <div class='flexcols mh_match'>\n            <div class='mh_players'>${display_players}</div>\n            <div class='mh_details'>\n               <div>${display_date}</div>\n               <div class='mh_format'>${match_format}</div>\n            </div>\n            <div class='mh_score'>${match_score}</div>\n         </div>\n      </div>`;\n}\n","import { mo } from '../services/matchObject/umo';\nimport { env } from './env';\n\nexport function displayFormats() {\n  const format_types = env.match.format.types();\n  const current = env.match.format.settings().code;\n  let html = '';\n  if (!format_types.length) return false;\n  format_types.forEach((format: any) => {\n    html += formatEntry(format, format === current);\n  });\n  const matchFormatList = document.getElementById('matchformatlist');\n  if (matchFormatList) matchFormatList.innerHTML = html;\n}\n\nfunction formatEntry(format: any, isCurrent: boolean) {\n  const { name, description } = mo.formats().matches[format];\n  const color = isCurrent ? 'lightgreen' : 'white';\n  return `\n  <div class='changeFormat flexjustifystart mf_format' newFormat=\"${format}\" style=\"background-color: ${color}\">\n      <div class='changeFormat flexcols'>\n        <div class='changeFormat mf_name'> <b class='changeFormat'>${name || ''}</b> </div>\n        <div class='changeFormat mf_description'> ${description} </div>\n      </div>\n  </div>\n  `;\n}\n","export function strokeSlider(show?: string) {\n  const width = window.innerWidth;\n  const stroke_slider = document.getElementById('stroke_slider');\n  const slideRight = document.getElementById('slideright');\n  const slideLeft = document.getElementById('slideleft');\n\n  const hideSlide = () => {\n    if (stroke_slider) stroke_slider.style.display = 'none';\n  };\n\n  if (show) {\n    if (stroke_slider) {\n      stroke_slider.style.display = 'flex';\n      stroke_slider.style.left = show == 'left' ? width * -1 + 'px' : width * 1.5 + 'px';\n    }\n    if (slideLeft) slideLeft.style.display = show == 'right' ? 'flex' : 'none';\n    if (slideRight) slideRight.style.display = show == 'left' ? 'flex' : 'none';\n\n    stroke_slider.style.left = show === 'left' ? '0px' : width * 0.5 + 'px';\n    stroke_slider.style.animation = show === 'left' ? 'slideInLeft 0.7s' : 'slideInRight 0.7s';\n  } else {\n    setTimeout(() => hideSlide(), 100);\n  }\n}\n","// Test via a getter in the options object to see if the passive property is accessed\nlet supportsPassive = false;\ntry {\n  const opts = Object.defineProperty({}, 'passive', {\n    get: () => {\n      supportsPassive = true;\n      return true;\n    }\n  });\n  window.addEventListener('test', null, opts);\n} catch (e) {\n  console.log(e);\n}\n\nconst behaviors: any = {\n  orientation: undefined,\n  time_threshold: 200,\n  diff_threshold: 130,\n  press_hold_threshold: 400,\n  prevent_touch: true,\n  prevent_double_tap: false,\n  addSwipeTarget(target) {\n    target.addEventListener('touchstart', handleTouchStart, supportsPassive ? { passive: true } : false);\n    target.addEventListener('touchmove', handleTouchMove, supportsPassive ? { passive: true } : false);\n    target.addEventListener('touchend', swipeTouchEnd, false);\n\n    target.addEventListener('mousedown', handleTouchStart, false);\n    target.addEventListener('mousemove', handleTouchMove, false);\n    target.addEventListener('mouseup', swipeTouchEnd, false);\n  },\n  addPressAndHold(target) {\n    target.addEventListener('touchstart', handleTouchStart, supportsPassive ? { passive: true } : false);\n    target.addEventListener('mousedown', handleTouchStart, false);\n    target.addEventListener('touchend', pressAndHoldEnd, false);\n    target.addEventListener('mouseup', pressAndHoldEnd, false);\n  },\n  disableDrag() {\n    document.addEventListener('touchmove', preventDrag, false);\n    document.addEventListener('touchend', preventDoubleTap, false);\n    document.addEventListener('mousemove', preventDrag, false);\n    document.addEventListener('mouseup', preventDoubleTap, false);\n  }\n};\n\n/* to make it appear more like a native app disable dragging and double tap */\nfunction preventDrag(evt) {\n  if (behaviors.prevent_touch && (window.innerHeight > 450 || behaviors.orientation == 'landscape'))\n    evt.preventDefault();\n}\n\nfunction preventDoubleTap(evt) {\n  const now = new Date().getTime();\n  if (behaviors.prevent_double_tap && now - last_touch < 500) evt.preventDefault();\n  last_touch = now;\n}\n\nlet xDown = null;\nlet yDown = null;\nlet xDiff = null;\nlet yDiff = null;\nlet timeDown = null;\nlet touch_target = null;\nlet last_touch = new Date().getTime();\n\nfunction handleTouchMove(evt) {\n  if (!xDown || !yDown) return;\n  let xUp: number, yUp: number;\n  if (evt.type == 'mousemove') {\n    xUp = evt.clientX;\n    yUp = evt.clientY;\n  } else {\n    xUp = evt.touches[0].clientX;\n    yUp = evt.touches[0].clientY;\n  }\n  xDiff = xDown - xUp;\n  yDiff = yDown - yUp;\n}\n\n/**\nfunction containsClassName(evntarget, classArr) {\n  for (let i = classArr.length - 1; i >= 0; i--) {\n    if (evntarget.classList.contains(classArr[i])) return true;\n  }\n}\n*/\n\nfunction handleTouchStart(evt) {\n  touch_target = evt.target;\n  timeDown = Date.now();\n  if (evt.type == 'mousedown') {\n    xDown = evt.clientX;\n    yDown = evt.clientY;\n  } else {\n    xDown = evt.touches[0].clientX;\n    yDown = evt.touches[0].clientY;\n  }\n  xDiff = 0;\n  yDiff = 0;\n}\n\nfunction findAncestor(el, cls) {\n  if (el.classList.contains(cls)) return el;\n  while ((el = el.parentNode && el.classList && !el.classList.contains(cls)));\n  return el;\n}\n\nfunction swipeTouchEnd() {\n  const timeDiff = Date.now() - timeDown;\n  if (\n    (Math.abs(xDiff) > behaviors.diff_threshold || Math.abs(yDiff) > behaviors.diff_threshold) &&\n    timeDiff < behaviors.time_threshold\n  ) {\n    if (Math.abs(xDiff) > Math.abs(yDiff)) {\n      if (xDiff > 0) {\n        if (typeof behaviors.swipeLeft == 'function') behaviors.swipeLeft(findAncestor(touch_target, 'swipe'));\n      } else if (typeof behaviors.swipeRight == 'function') {\n        behaviors.swipeRight(findAncestor(touch_target, 'swipe'));\n      }\n    } else if (yDiff > 0) {\n      if (typeof behaviors.swipeUp == 'function') behaviors.swipeUp(findAncestor(touch_target, 'swipe'));\n    } else if (typeof behaviors.swipeDown == 'function') {\n      behaviors.swipeDown(findAncestor(touch_target, 'swipe'));\n    }\n  }\n  xDown = null;\n  yDown = null;\n  timeDown = null;\n}\n\nfunction pressAndHoldEnd() {\n  const timeDiff = Date.now() - timeDown;\n  if (timeDiff > behaviors.press_hold_threshold && typeof behaviors.pressAndHold == 'function')\n    behaviors.pressAndHold(findAncestor(touch_target, 'pressAndHold'));\n  xDown = null;\n  yDown = null;\n  timeDown = null;\n}\n\nexport const touchManager = behaviors;\nexport default behaviors;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"#000\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"#000\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"#000\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter\n            : \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter);\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\n\nfunction selection_cloneDeep() {\n  return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar Kn = 18,\n    Xn = 0.950470, // D65 standard referent\n    Yn = 1,\n    Zn = 1.088830,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var b = rgb2xyz(o.r),\n      a = rgb2xyz(o.g),\n      l = rgb2xyz(o.b),\n      x = xyz2lab((0.4124564 * b + 0.3575761 * a + 0.1804375 * l) / Xn),\n      y = xyz2lab((0.2126729 * b + 0.7151522 * a + 0.0721750 * l) / Yn),\n      z = xyz2lab((0.0193339 * b + 0.1191920 * a + 0.9503041 * l) / Zn);\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    y = Yn * lab2xyz(y);\n    x = Xn * lab2xyz(x);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      xyz2rgb( 3.2404542 * x - 1.5371385 * y - 0.4985314 * z), // D65 -> sRGB\n      xyz2rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z),\n      xyz2rgb( 0.0556434 * x - 0.2040259 * y + 1.0572252 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction xyz2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2xyz(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + Kn * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - Kn * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTING) throw new Error(\"too late; already started\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      // Dispatch the interrupt event.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions. No interrupt event is dispatched\n      // because the cancelled transitions never started. Note that this also\n      // removes this transition from the pending list!\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(null, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    if (active) schedule.on.call(\"interrupt\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttribute(name);\n    value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value + \"\"));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrTweenNS(fullname, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttributeNS(fullname.space, fullname.local, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttribute(name, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleRemove(name, interpolate) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name),\n        value1 = (this.style.removeProperty(name), style(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nfunction styleRemoveEnd(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name),\n        value1 = value(this);\n    if (value1 == null) value1 = (this.style.removeProperty(name), style(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n          .styleTween(name, styleRemove(name, i))\n          .on(\"end.style.\" + name, styleRemoveEnd(name))\n      : this.styleTween(name, typeof value === \"function\"\n          ? styleFunction(name, i, tweenValue(this, \"style.\" + name, value))\n          : styleConstant(name, i, value + \"\"), priority);\n}\n","function styleTween(name, value, priority) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.style.setProperty(name, i(t), priority);\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease\n};\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return t * t * ((s + 1) * t - s);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((s + 1) * t + s) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import {Transition} from \"./transition/index\";\nimport {SCHEDULED} from \"./transition/schedule\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon)) {}\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    })).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(text) {\n    return text == null ? \"\"\n        : reFormat.test(text += \"\") ? \"\\\"\" + text.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : text;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatRows: formatRows\n  };\n}\n","import dsv from \"./dsv\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatRows = csv.formatRows;\n","import dsv from \"./dsv\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatRows = tsv.formatRows;\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, inherit the existing extent.\n  if (x1 < x0) x0 = this._x0, x1 = this._x1;\n  if (y1 < y0) y0 = this._y0, y1 = this._y1;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else if (x0 > x || x > x1 || y0 > y || y > y1) {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    switch (i = (y < (y0 + y1) / 2) << 1 | (x < (x0 + x1) / 2)) {\n      case 0: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x1 = x0 + z, y1 = y0 + z, x > x1 || y > y1);\n        break;\n      }\n      case 1: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x0 = x1 - z, y1 = y0 + z, x0 > x || y > y1);\n        break;\n      }\n      case 2: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x1 = x0 + z, y0 = y1 - z, x > x1 || y0 > y);\n        break;\n      }\n      case 3: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x0 = x1 - z, y0 = y1 - z, x0 > x || y0 > y);\n        break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  // If the quadtree covers the point already, just return.\n  else return this;\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","import Quad from \"./quad\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\nimport tree_y, {defaultY} from \"./y\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","export default function(x, p) {\n  x = x.toPrecision(p);\n\n  out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (x[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      case \"e\": break out;\n      default: if (i0 > 0) i0 = 0; break;\n    }\n  }\n\n  return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDefault from \"./formatDefault\";\nimport formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"\": formatDefault,\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","import formatTypes from \"./formatTypes\";\n\n// [[fill]align][sign][symbol][0][width][,][.precision][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n  var match,\n      fill = match[1] || \" \",\n      align = match[2] || \">\",\n      sign = match[3] || \"-\",\n      symbol = match[4] || \"\",\n      zero = !!match[5],\n      width = match[6] && +match[6],\n      comma = !!match[7],\n      precision = match[8] && +match[8].slice(1),\n      type = match[9] || \"\";\n\n  // The \"n\" type is an alias for \",g\".\n  if (type === \"n\") comma = true, type = \"g\";\n\n  // Map invalid types to the default format.\n  else if (!formatTypes[type]) type = \"\";\n\n  // If zero fill is specified, padding goes after sign and before digits.\n  if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n  this.fill = fill;\n  this.align = align;\n  this.sign = sign;\n  this.symbol = symbol;\n  this.zero = zero;\n  this.width = width;\n  this.comma = comma;\n  this.precision = precision;\n  this.type = type;\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + this.type;\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        type = specifier.type;\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = !type || /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? (type ? 6 : 12)\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nexport default function() {\n  return new Adder;\n}\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","import adder from \"./adder\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nexport var areaRingSum = adder();\n\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnolis\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import adder from \"./adder\";\nimport {areaStream, areaRingSum} from \"./area\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian\";\nimport {abs, degrees, epsilon, radians} from \"./math\";\nimport stream from \"./stream\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum = adder(),\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360) % 360, except that we want\n// the distance between 180 to be 360.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import compose from \"./compose\";\nimport {asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import adder from \"./adder\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian\";\nimport {asin, atan2, cos, epsilon, pi, quarterPi, sin, tau} from \"./math\";\n\nvar sum = adder();\n\nexport default function(polygon, point) {\n  var lambda = point[0],\n      phi = point[1],\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = point0[0],\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = point1[0],\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n}\n","import adder from \"./adder\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nvar lengthSum = adder(),\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum.reset();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import adder from \"../adder\";\nimport {abs} from \"../math\";\nimport noop from \"../noop\";\n\nvar areaSum = adder(),\n    areaRingSum = adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum.reset();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import adder from \"../adder\";\nimport {sqrt} from \"../math\";\nimport noop from \"../noop\";\n\nvar lengthSum = adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import projection from \"./index\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(callback) {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      callback(node), children = node.children;\n      if (children) for (i = 0, n = children.length; i < n; ++i) {\n        next.push(children[i]);\n      }\n    }\n  } while (next.length);\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], children, i;\n  while (node = nodes.pop()) {\n    callback(node), children = node.children;\n    if (children) for (i = children.length - 1; i >= 0; --i) {\n      nodes.push(children[i]);\n    }\n  }\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], next = [], children, i, n;\n  while (node = nodes.pop()) {\n    next.push(node), children = node.children;\n    if (children) for (i = 0, n = children.length; i < n; ++i) {\n      nodes.push(children[i]);\n    }\n  }\n  while (node = next.pop()) {\n    callback(node);\n  }\n  return this;\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  var nodes = [];\n  this.each(function(node) {\n    nodes.push(node);\n  });\n  return nodes;\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","import node_count from \"./count\";\nimport node_each from \"./each\";\nimport node_eachBefore from \"./eachBefore\";\nimport node_eachAfter from \"./eachAfter\";\nimport node_sum from \"./sum\";\nimport node_sort from \"./sort\";\nimport node_path from \"./path\";\nimport node_ancestors from \"./ancestors\";\nimport node_descendants from \"./descendants\";\nimport node_leaves from \"./leaves\";\nimport node_links from \"./links\";\n\nexport default function hierarchy(data, children) {\n  var root = new Node(data),\n      valued = +data.value && (root.value = data.value),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  if (children == null) children = defaultChildren;\n\n  while (node = nodes.pop()) {\n    if (valued) node.value = +node.data.value;\n    if ((childs = children(node.data)) && (n = childs.length)) {\n      node.children = new Array(n);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction defaultChildren(d) {\n  return d.children;\n}\n\nfunction copyData(node) {\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy\n};\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import {Node} from \"./hierarchy/index\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice\";\nimport treemapSlice from \"./slice\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import treemapDice from \"./dice\";\nimport treemapSlice from \"./slice\";\nimport {phi, squarifyRatio} from \"./squarify\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, y0 += (y1 - y0) * row.value / value);\n        else treemapSlice(row, x0, y0, x0 += (x1 - x0) * row.value / value, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","export var slice = [].slice;\n","import {slice} from \"./array\";\n\nvar noabort = {};\n\nfunction Queue(size) {\n  this._size = size;\n  this._call =\n  this._error = null;\n  this._tasks = [];\n  this._data = [];\n  this._waiting =\n  this._active =\n  this._ended =\n  this._start = 0; // inside a synchronous task callback?\n}\n\nQueue.prototype = queue.prototype = {\n  constructor: Queue,\n  defer: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"defer after await\");\n    if (this._error != null) return this;\n    var t = slice.call(arguments, 1);\n    t.push(callback);\n    ++this._waiting, this._tasks.push(t);\n    poke(this);\n    return this;\n  },\n  abort: function() {\n    if (this._error == null) abort(this, new Error(\"abort\"));\n    return this;\n  },\n  await: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"multiple await\");\n    this._call = function(error, results) { callback.apply(null, [error].concat(results)); };\n    maybeNotify(this);\n    return this;\n  },\n  awaitAll: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"multiple await\");\n    this._call = callback;\n    maybeNotify(this);\n    return this;\n  }\n};\n\nfunction poke(q) {\n  if (!q._start) {\n    try { start(q); } // let the current task complete\n    catch (e) {\n      if (q._tasks[q._ended + q._active - 1]) abort(q, e); // task errored synchronously\n      else if (!q._data) throw e; // await callback errored synchronously\n    }\n  }\n}\n\nfunction start(q) {\n  while (q._start = q._waiting && q._active < q._size) {\n    var i = q._ended + q._active,\n        t = q._tasks[i],\n        j = t.length - 1,\n        c = t[j];\n    t[j] = end(q, i);\n    --q._waiting, ++q._active;\n    t = c.apply(null, t);\n    if (!q._tasks[i]) continue; // task finished synchronously\n    q._tasks[i] = t || noabort;\n  }\n}\n\nfunction end(q, i) {\n  return function(e, r) {\n    if (!q._tasks[i]) return; // ignore multiple callbacks\n    --q._active, ++q._ended;\n    q._tasks[i] = null;\n    if (q._error != null) return; // ignore secondary errors\n    if (e != null) {\n      abort(q, e);\n    } else {\n      q._data[i] = r;\n      if (q._waiting) poke(q);\n      else maybeNotify(q);\n    }\n  };\n}\n\nfunction abort(q, e) {\n  var i = q._tasks.length, t;\n  q._error = e; // ignore active callbacks\n  q._data = undefined; // allow gc\n  q._waiting = NaN; // prevent starting\n\n  while (--i >= 0) {\n    if (t = q._tasks[i]) {\n      q._tasks[i] = null;\n      if (t.abort) {\n        try { t.abort(); }\n        catch (e) { /* ignore */ }\n      }\n    }\n  }\n\n  q._active = NaN; // allow notification\n  maybeNotify(q);\n}\n\nfunction maybeNotify(q) {\n  if (!q._active && q._call) {\n    var d = q._data;\n    q._data = undefined; // allow gc\n    q._call(q._error, d);\n  }\n}\n\nexport default function queue(concurrency) {\n  if (concurrency == null) concurrency = Infinity;\n  else if (!((concurrency = +concurrency) >= 1)) throw new Error(\"invalid concurrency\");\n  return new Queue(concurrency);\n}\n","export default function() {\n  return Math.random();\n}\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomUniform(source) {\n  function randomUniform(min, max) {\n    min = min == null ? 0 : +min;\n    max = max == null ? 1 : +max;\n    if (arguments.length === 1) max = min, min = 0;\n    else max -= min;\n    return function() {\n      return source() * max + min;\n    };\n  }\n\n  randomUniform.source = sourceRandomUniform;\n\n  return randomUniform;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomNormal(source) {\n  function randomNormal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function() {\n      var y;\n\n      // If available, use the second previously-generated uniform random.\n      if (x != null) y = x, x = null;\n\n      // Otherwise, generate a new x and y.\n      else do {\n        x = source() * 2 - 1;\n        y = source() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  randomNormal.source = sourceRandomNormal;\n\n  return randomNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\nimport normal from \"./normal\";\n\nexport default (function sourceRandomLogNormal(source) {\n  function randomLogNormal() {\n    var randomNormal = normal.source(source).apply(this, arguments);\n    return function() {\n      return Math.exp(randomNormal());\n    };\n  }\n\n  randomLogNormal.source = sourceRandomLogNormal;\n\n  return randomLogNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomIrwinHall(source) {\n  function randomIrwinHall(n) {\n    return function() {\n      for (var sum = 0, i = 0; i < n; ++i) sum += source();\n      return sum;\n    };\n  }\n\n  randomIrwinHall.source = sourceRandomIrwinHall;\n\n  return randomIrwinHall;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\nimport irwinHall from \"./irwinHall\";\n\nexport default (function sourceRandomBates(source) {\n  function randomBates(n) {\n    var randomIrwinHall = irwinHall.source(source)(n);\n    return function() {\n      return randomIrwinHall() / n;\n    };\n  }\n\n  randomBates.source = sourceRandomBates;\n\n  return randomBates;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomExponential(source) {\n  function randomExponential(lambda) {\n    return function() {\n      return -Math.log(1 - source()) / lambda;\n    };\n  }\n\n  randomExponential.source = sourceRandomExponential;\n\n  return randomExponential;\n})(defaultSource);\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal(range) {\n  var index = map(),\n      domain = [],\n      unknown = implicit;\n\n  range = range == null ? [] : slice.call(range);\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band()\n        .domain(domain())\n        .range(range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return rescale();\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band().paddingInner(1));\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute} from \"./duration\";\n\nvar hour = interval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","import colors from \"./colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import {Basis} from \"./basis\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop\";\nimport {point} from \"./cardinal\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed\";\nimport noop from \"../noop\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function RedBlackTree() {\n  this._ = null; // root node\n}\n\nexport function RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n\n  insert: function(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n      if (after.R) {\n        after = after.R;\n        while (after.L) after = after.L;\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n\n    after = node;\n    while (parent && parent.C) {\n      grandpa = parent.U;\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n      parent = after.U;\n    }\n    this._.C = false;\n  },\n\n  remove: function(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n\n    if (!left) next = right;\n    else if (!right) next = left;\n    else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;\n      else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n    if (node && node.C) { node.C = false; return; }\n\n    do {\n      if (node === this._) break;\n      if (node === parent.L) {\n        sibling = parent.R;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n        if ((sibling.L && sibling.L.C)\n            || (sibling.R && sibling.R.C)) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n        if ((sibling.L && sibling.L.C)\n          || (sibling.R && sibling.R.C)) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) node = node.L;\n  return node;\n}\n\nexport default RedBlackTree;\n","import {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nexport function createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nexport function setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n}\n\n// LiangBarsky line clipping.\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];\n      else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];\n      else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];\n        else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];\n        else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];\n        else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];\n        else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nexport function clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1)\n        || !clipEdge(edge, x0, y0, x1, y1)\n        || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon\n            || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n","import {createBorderEdge} from \"./Edge\";\nimport {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];\n  else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nexport function cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nexport function cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nexport function sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n      for (j = 0; j < m; ++j) index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      index.sort(function(i, j) { return array[j] - array[i]; });\n      for (j = 0; j < m; ++j) array[j] = halfedges[index[j]];\n      for (j = 0; j < m; ++j) halfedges[j] = array[j];\n    }\n  }\n}\n\nexport function clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length;\n\n      // Remove any dangling clipped edges.\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      }\n\n      // Insert any border edges as necessary.\n      iHalfedge = 0, nHalfedges = halfedges.length;\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end,\n              Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1]\n              : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1]\n              : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0]\n              : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0]\n              : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  }\n\n  // If there werent any edges, have the closest site cover the extent.\n  // It doesnt matter which corner of the extent we measure!\n  if (cover) {\n    var dx, dy, d2, dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0], v01 = [x0, y1], v11 = [x1, y1], v10 = [x1, y0];\n      cover.halfedges.push(\n        edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,\n        edges.push(createBorderEdge(site, v01, v11)) - 1,\n        edges.push(createBorderEdge(site, v11, v10)) - 1,\n        edges.push(createBorderEdge(site, v10, v00)) - 1\n      );\n    }\n  }\n\n  // Lastly delete any cells with no edges; these were entirely clipped.\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {circles, epsilon2} from \"./Diagram\";\n\nvar circlePool = [];\n\nexport var firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x =\n  this.y =\n  this.arc =\n  this.site =\n  this.cy = null;\n}\n\nexport function attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n\n  if (!lArc || !rArc) return;\n\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n\n  if (lSite === rSite) return;\n\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n\n  var circle = circlePool.pop() || new Circle;\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || (circle.y === node.y && circle.x <= node.x)) {\n      if (node.L) node = node.L;\n      else { before = node.P; break; }\n    } else {\n      if (node.R) node = node.R;\n      else { before = node; break; }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nexport function detachCircle(arc) {\n  var circle = arc.circle;\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {createCell} from \"./Cell\";\nimport {attachCircle, detachCircle} from \"./Circle\";\nimport {createEdge, setEdgeEnd} from \"./Edge\";\nimport {beaches, epsilon} from \"./Diagram\";\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge =\n  this.site =\n  this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach;\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nexport function removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n\n  detachBeach(beach);\n\n  var lArc = previous;\n  while (lArc.circle\n      && Math.abs(x - lArc.circle.x) < epsilon\n      && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n\n  var rArc = next;\n  while (rArc.circle\n      && Math.abs(x - rArc.circle.x) < epsilon\n      && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n\n  var nArcs = disappearing.length,\n      iArc;\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nexport function addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L; else {\n      dxr = x - rightBreakPoint(node, directrix);\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) { // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  }\n\n  // else lArc !== rArc\n  detachCircle(lArc);\n  detachCircle(rArc);\n\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n\n  if (!pby2) return rfocx;\n\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n\n  if (!plby2) return lfocx;\n\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n","import {addBeach, removeBeach} from \"./Beach\";\nimport {sortCellHalfedges, cellHalfedgeStart, clipCells} from \"./Cell\";\nimport {firstCircle} from \"./Circle\";\nimport {clipEdges} from \"./Edge\";\nimport RedBlackTree from \"./RedBlackTree\";\n\nexport var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var beaches;\nexport var cells;\nexport var circles;\nexport var edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1]\n      || b[0] - a[0];\n}\n\nexport default function Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree;\n  circles = new RedBlackTree;\n\n  while (true) {\n    circle = firstCircle;\n    if (site && (!circle || site[1] < circle.y || (site[1] === circle.y && site[0] < circle.x))) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n\n  beaches =\n  circles =\n  edges =\n  cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n\n  polygons: function() {\n    var edges = this.edges;\n\n    return this.cells.map(function(cell) {\n      var polygon = cell.halfedges.map(function(i) { return cellHalfedgeStart(cell, edges[i]); });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n\n  triangles: function() {\n    var triangles = [],\n        edges = this.edges;\n\n    this.cells.forEach(function(cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n\n    return triangles;\n  },\n\n  links: function() {\n    return this.edges.filter(function(edge) {\n      return edge.right;\n    }).map(function(edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n\n  find: function(x, y, radius) {\n    var that = this, i0, i1 = that._found || 0, n = that.cells.length, cell;\n\n    // Use the previously-found cell, or start with an arbitrary one.\n    while (!(cell = that.cells[i1])) if (++i1 >= n) return null;\n    var dx = x - cell.site[0], dy = y - cell.site[1], d2 = dx * dx + dy * dy;\n\n    // Traverse the half-edges to find a closer cell, if any.\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function(e) {\n        var edge = that.edges[e], v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0], vy = y - v[1], v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  return node.__zoom || identity;\n}\n","import * as d3 from 'd3';\n\nexport function simpleChart(target: any, data: any) {\n  const dom_parent = d3.select('#' + target);\n  // let dims = dom_parent.node().getBoundingClientRect();\n  //   let screen_width = dims.width;\n  //   let screen_height = screen_width / 2;\n  const screen_width = window.innerWidth * 0.85;\n  const screen_height = screen_width / 2;\n\n  const min_points = 50;\n  const colors = ['blue', 'red'];\n  dom_parent.selectAll('svg').remove();\n  const svg = dom_parent.append('svg').attr('width', screen_width).attr('height', screen_height);\n\n  const margin = { top: 20, right: 20, bottom: 30, left: 40 };\n  const width = +svg.attr('width') - margin.left - margin.right;\n  const height = +svg.attr('height') - margin.top - margin.bottom;\n\n  const x = d3.scaleLinear().range([0, width]);\n  const y = d3.scaleLinear().range([height, 0]);\n\n  const line = d3\n    .line()\n    .x(function (d) {\n      return x(d[0]);\n    })\n    .y(function (d) {\n      return y(d[1]);\n    });\n  //      .curve(d3.curveStepAfter);\n\n  const chart = svg.append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n  const maxY = Math.max(...data.map((p) => p.length));\n  x.domain([0, Math.max(...data.map((p) => Math.max(...p)), min_points)]);\n  y.domain([0, maxY]);\n\n  chart\n    .append('g')\n    .attr('transform', 'translate(0,' + height + ')')\n    .call(d3.axisBottom(x).ticks(0));\n\n  chart\n    .append('g')\n    .style('font', '24px times')\n    .call(\n      d3\n        .axisLeft(y)\n        .ticks(Math.min(maxY, 4))\n        .tickFormat((d) => d)\n    );\n\n  drawLines(data);\n  appendCircles(data);\n\n  function lineData(points) {\n    points = points.map((point, index) => [point, index + 1]);\n    points.unshift([0, 0]);\n    return points;\n  }\n\n  function drawLines(players) {\n    players.forEach((points, index) => {\n      chart\n        .append('path')\n        .datum(lineData(points))\n        .attr('fill', 'none')\n        .attr('stroke', colors[index])\n        .attr('stroke-width', '5px')\n        .attr('shape-rendering', 'crispEdges')\n        .attr('d', line);\n    });\n  }\n\n  function appendCircles(players) {\n    players.forEach((points, index) => {\n      const targetclass = '.datapoint' + index;\n      if (points.length < 10) {\n        chart\n          .selectAll(targetclass)\n          .data(lineData(points))\n          .enter()\n          .append('circle')\n          .attr('class', targetclass)\n          .attr('fill', '#FFFFFF')\n          .attr('stroke', colors[index])\n          .attr('stroke-width', '2px')\n          .attr('r', 3.5)\n          .attr('cx', function (d) {\n            return x(d[0]);\n          })\n          .attr('cy', function (d) {\n            return y(d[1]);\n          });\n      }\n    });\n  }\n}\n","import { simpleChart } from './simpleChart';\nimport { viewManager } from './viewManager';\nimport { env, options } from './env';\n\nexport function updateStats(element?: Element) {\n  const setNumber = element ? element.getAttribute('setNumber') : undefined;\n  const set_filter = setNumber ? parseInt(setNumber) : undefined;\n  let html = '';\n  const charts: any[] = [];\n  const sets = env.match.sets().length;\n  let statselectors = `<div class='updateStats s_set'>Match</div>`;\n  const stats = env.match.stats.calculated(set_filter);\n  const stripModifiers = (text: string) => text.match(/[A-Za-z0-9_]/g)?.join('');\n  if (stats?.length) {\n    // generate & display match/set view selectors\n    if (sets > 1) {\n      for (let s = 0; s < sets; s++) {\n        statselectors += `<div class='updateStats s_set' setNumber=\"${s}\">Set ${s + 1}</div>`;\n      }\n    }\n    const statView = document.querySelector('#statview');\n    if (statView) statView.innerHTML = statselectors;\n\n    // generate & display stats html\n    let left: any, right: any;\n    stats.forEach((stat: any) => {\n      if (env.swap_sides) {\n        [right, left] = stat.team_stats;\n      } else {\n        [left, right] = stat.team_stats;\n      }\n      const value: number = [0]\n        .concat(...[left, right].map((side: any) => (side.value ? side.value : [])))\n        .reduce((a: number, b: number) => a + b, 0);\n      const id = stripModifiers(stat.name.toLowerCase().split(' ').join('_'));\n      let left_display = left.display;\n      let right_display = right.display;\n\n      const numerators = []\n        .concat(...[left, right].map((value: any) => (value.numerators ? value.numerators : [])))\n        .filter((item, i, s) => s.lastIndexOf(item) == i)\n        .join(',');\n      const statclass = numerators && value && stat.name != 'Aggressive Margin' ? 'statname_chart' : 'statname';\n\n      if (isNaN(left.value)) {\n        left.value = 0;\n        left_display = '0';\n      }\n      if (isNaN(right.value)) {\n        right.value = 0;\n        right_display = '0';\n      }\n\n      if (options.highlight_better_stats) {\n        if (['Double Faults', 'Unforced Errors', 'Forced Errors'].indexOf(stat.name) >= 0) {\n          if (left.value < right.value) left_display = `<b class=\"toggleChart\">${left_display}</b>`;\n          if (right.value < left.value) right_display = `<b class=\"toggleChart\">${right_display}</b>`;\n        } else {\n          if (left.value > right.value) left_display = `<b class=\"toggleChart\">${left_display}</b>`;\n          if (right.value > left.value) right_display = `<b class=\"toggleChart\">${right_display}</b>`;\n        }\n      }\n      html +=\n        `<div class='statrow' id=\"${id}\">` +\n        `<div class='toggleChart statleft'>${left_display}</div>` +\n        `<div class='toggleChart ${statclass}'>${stat.name}</div><div class='toggleChart statright'>${right_display}</div>` +\n        `</div>`;\n      const table = `<div class='statrow' id=\"${id}_chart\" style='display:none' onclick=\"showChartSource('${numerators}')\"></div>`;\n\n      if (numerators && value && stat.name != 'Aggressive Margin') {\n        charts.push({ target: `${id}_chart`, numerators });\n        html += table;\n      }\n    });\n\n    const counters = env.match.stats.counters(set_filter).teams;\n    if (counters[0].Backhand || counters[0].Forehand || counters[1].Backhand || counters[1].Forehand) {\n      const left = env.swap_sides ? 1 : 0;\n      const right = env.swap_sides ? 0 : 1;\n      html += `<div class='statsection flexcenter'>Finishing Shots - Strokes</div>`;\n      ['Forehand', 'Backhand'].forEach((hand) => {\n        if (counters[0][hand] || counters[1][hand]) {\n          const left_display = counters[left][hand] ? counters[left][hand].length : 0;\n          const right_display = counters[right][hand] ? counters[right][hand].length : 0;\n          html +=\n            `<div class='statrow'><div class='statleft'><b>${left_display}</b></div>` +\n            `<div class='statname'><b>Total ${hand} Shots</b></div><div class='statright'><b>${right_display}</b></div></div>`;\n          // get a list of unique results\n          const results = []\n            .concat(\n              ...Object.keys(counters).map((key) => {\n                return counters[key][hand]\n                  ? counters[key][hand].map((episode: any) => episode.point.result).filter(Boolean)\n                  : [];\n              }),\n            )\n            .filter((item, i, s) => s.lastIndexOf(item) == i);\n          results.forEach((result) => {\n            const left_results = counters[left][hand]\n              ? counters[left][hand].filter((f: any) => f.point.result == result)\n              : [];\n            const right_results = counters[right][hand]\n              ? counters[right][hand].filter((f: any) => f.point.result == result)\n              : [];\n            if (left_results.length || right_results.length) {\n              html +=\n                `<div class='statrow'><div class='statleft'>${left_results.length}</div>` +\n                `<div class='statname'>${hand} ${result}s</div><div class='statright'>${right_results.length}</div></div>`;\n            }\n            // get a list of unique strokes\n            const strokes = []\n              .concat(\n                ...Object.keys(counters).map((key) => {\n                  return counters[key][hand]\n                    ? counters[key][hand].map((episode: any) => episode.point.stroke).filter(Boolean)\n                    : [];\n                }),\n              )\n              .filter((item, i, s) => s.lastIndexOf(item) == i);\n            strokes.forEach((stroke) => {\n              const left_results = counters[left][hand]\n                ? counters[left][hand].filter((f: any) => f.point.result == result && f.point.stroke == stroke)\n                : [];\n              const right_results = counters[right][hand]\n                ? counters[right][hand].filter((f: any) => f.point.result == result && f.point.stroke == stroke)\n                : [];\n              if (left_results.length || right_results.length) {\n                html +=\n                  `<div class='statrow'><div class='statleft'>${left_results.length}</div>` +\n                  `<div class='statname'><i>${hand} ${stroke} ${result}s</i></div><div class='statright'>${right_results.length}</div></div>`;\n              }\n            });\n          });\n        }\n      });\n    }\n\n    const statLines = document.querySelector('#statlines');\n    if (statLines) statLines.innerHTML = html;\n    addCharts(charts);\n  } else {\n    viewManager('entry');\n  }\n}\n\nfunction addCharts(charts: any[]) {\n  const counters = env.match.stats.counters();\n  const stripModifiers = (text: string) => text.match(/[A-Za-z0-9]/g)?.join('');\n  if (!counters) return;\n  charts.forEach((chart) => {\n    const player_points: any = [];\n    Object.keys(counters.teams).forEach((key) => {\n      const team = counters.teams[key];\n      const numerators = chart.numerators.split(',').map((numerator: any) => stripModifiers(numerator));\n      const episodes = [].concat(...numerators.map((numerator: any) => team[numerator]));\n      const points = episodes\n        .map((episode: any) => (episode ? episode.point : undefined))\n        .filter((f) => f)\n        .sort((a, b) => a.index - b.index);\n      player_points.push(points.map((point) => point.index));\n    });\n    simpleChart(chart.target, player_points);\n  });\n}\n","import { formatChangePossible } from './formatChangePossible';\nimport { displayPointHistory } from './displayPointHistory';\nimport { displayMatchArchive } from './displayMatchArchive';\nimport { browserStorage } from './browserStorage';\nimport { displayFormats } from './displayFormats';\nimport { strokeSlider } from './strokeSlider';\nimport { touchManager } from './touchManager';\nimport { env, options, charts } from './env';\nimport { updateStats } from './updateStats';\n\nexport const changeDisplay = (display: string, id: string) => {\n  const element = document.getElementById(id);\n  if (element) element.style.display = display;\n};\n\nexport function viewManager(new_view = env.view, params?: any) {\n  // hide strokeslider any time view changes\n  strokeSlider();\n  // changeDisplay('none', 'system');\n\n  const views: any = {\n    mainmenu({ activate = true } = {}) {\n      if (activate) {\n        touchManager.prevent_touch = false;\n\n        const match_archive = JSON.parse(browserStorage.get('match_archive') || '[]');\n        const menuMatchArchive = document.getElementById('menu_match_archive');\n        if (menuMatchArchive) menuMatchArchive.style.display = match_archive.length ? 'flex' : 'none';\n\n        const menuMatchFormat = document.getElementById('menu_match_format');\n        if (menuMatchFormat) menuMatchFormat.style.display = formatChangePossible() ? 'flex' : 'none';\n\n        const points = env.match.history.points();\n        const menuChangeServer = document.getElementById('menu_change_server');\n        if (menuChangeServer) menuChangeServer.style.display = points.length == 0 ? 'flex' : 'none';\n        // document.getElementById('footer_change_server').style.display = points.length == 0 ? 'inline' : 'none';\n      }\n      changeDisplay(activate ? 'flex' : 'none', 'mainmenu');\n    },\n    pointhistory({ activate = true } = {}) {\n      if (activate) {\n        touchManager.prevent_touch = false;\n        displayPointHistory();\n      }\n      changeDisplay(activate ? 'flex' : 'none', 'pointhistory');\n    },\n    matcharchive({ activate = true } = {}) {\n      if (activate) {\n        touchManager.prevent_touch = false;\n        displayMatchArchive();\n      }\n      changeDisplay(activate ? 'flex' : 'none', 'matcharchive');\n    },\n    matchformat({ activate = true } = {}) {\n      displayFormats();\n      if (activate) touchManager.prevent_touch = false;\n      changeDisplay(activate ? 'flex' : 'none', 'matchformats');\n    },\n    settings({ activate = true } = {}) {\n      changeDisplay(activate ? 'flex' : 'none', 'settings');\n    },\n    welcome({ activate = true } = {}) {\n      changeDisplay(activate ? 'flex' : 'none', 'welcome');\n    },\n    matchdetails({ activate = true } = {}) {\n      if (activate) touchManager.prevent_touch = false;\n      changeDisplay(activate ? 'flex' : 'none', 'matchdetails');\n    },\n    entry({ activate = true } = {}) {\n      if (activate) touchManager.prevent_touch = true;\n      changeDisplay(activate && env.orientation == 'landscape' ? 'flex' : 'none', options.horizontal_view);\n      changeDisplay(activate && env.orientation == 'portrait' ? 'flex' : 'none', options.vertical_view);\n      changeDisplay(activate && env.orientation == 'portrait' ? 'flex' : 'none', 'toolbar');\n    },\n    stats({ activate = true } = {}) {\n      changeDisplay(activate ? 'flex' : 'none', 'statsscreen');\n      if (activate) {\n        touchManager.prevent_touch = false;\n        env.match.metadata.resetStats(); // necessary because decorations not added when calculated\n        updateStats();\n      }\n    },\n    momentum({ activate = true } = {}) {\n      if (!activate) {\n        changeDisplay('none', 'momentum');\n        changeDisplay('none', 'pts');\n      } else {\n        if (env.orientation == 'landscape') {\n          changeDisplay('none', 'momentum');\n          changeDisplay('flex', 'pts');\n          charts.pts_match.update();\n        } else {\n          changeDisplay('inline', 'momentum');\n          changeDisplay('none', 'pts');\n        }\n        touchManager.prevent_touch = false;\n        const point_episodes = env.match.history.action('addPoint');\n        charts.mc.width(window.innerWidth).height(820);\n        charts.mc.data(point_episodes).update();\n        charts.mc.update();\n      }\n    },\n    gametree({ activate = true } = {}) {\n      changeDisplay(activate ? 'flex' : 'none', 'gametree');\n      if (activate) {\n        touchManager.prevent_touch = false;\n        const point_episodes = env.match.history.action('addPoint');\n        const noAd = env.match.format.settings().code.indexOf('n_') >= 0;\n        charts.gametree.options({ display: { noAd } });\n        charts.gametree.data(point_episodes).update();\n        charts.gametree.update({ sizeToFit: true });\n      }\n    }\n  };\n\n  const view_keys = Object.keys(views);\n  if (view_keys.indexOf(new_view) >= 0) {\n    // disactivate all views that don't match the new_view\n    view_keys.filter((view) => view != new_view).forEach((view) => views[view]({ activate: false }));\n    views[new_view]({ activate: true, params });\n    env.view = new_view;\n    return new_view;\n  }\n}\n","import { rallyCount } from '../functions/legacyRally';\nimport * as d3 from 'd3';\n\nexport function gameFish() {\n  let data: any;\n  let fish_width;\n  let fish_height;\n  let coords = [0, 0];\n  let last_coords: any;\n  let update: any;\n  const images: any = { left: undefined, right: undefined };\n\n  const options: any = {\n    id: 'gf1',\n    score: [0, 0],\n    width: window.innerWidth,\n    height: window.innerHeight,\n    margins: {\n      top: 10,\n      bottom: 10,\n      left: 10,\n      right: 10,\n    },\n    fish: {\n      school: false,\n      gridcells: ['0', '15', '30', '40', 'G'],\n      max_rally: undefined,\n      cell_size: undefined,\n      min_cell_size: 5,\n      max_cell_size: 20,\n    },\n    set: {\n      tiebreak_to: 7,\n    },\n    display: {\n      orientation: 'vertical',\n      transition_time: 0,\n      sizeToFit: false,\n      leftImg: false,\n      rightImg: false,\n      show_images: undefined,\n      reverse: false,\n      point_score: true,\n      service: true,\n      player: true,\n      rally: true,\n      score: true,\n      grid: true,\n    },\n    colors: {\n      players: { 0: 'red', 1: 'black' },\n      results: {\n        Out: 'red',\n        Net: 'coral',\n        'Unforced Error': 'red',\n        Forced: 'orange',\n        Ace: 'lightgreen',\n        'Serve Winner': 'lightgreen',\n        Winner: 'lightgreen',\n        'Forced Volley Error': 'orange',\n        'Forced Error': 'orange',\n        In: 'yellow',\n        'Passing Shot': 'lightgreen',\n        'Out Passing Shot': 'red',\n        'Net Cord': 'yellow',\n        'Out Wide': 'red',\n        'Out Long': 'red',\n        'Double Fault': 'red',\n        Unknown: 'blue',\n        Error: 'red',\n      },\n    },\n  };\n\n  const default_colors = { default: '#235dba' };\n  let colors = JSON.parse(JSON.stringify(default_colors));\n\n  const events: any = {\n    leftImage: { click: null },\n    rightImage: { click: null },\n    update: { begin: null, end: null },\n    point: { mouseover: null, mouseout: null, click: null },\n  };\n\n  let fishFrame: any;\n  let root: any;\n  let bars: any;\n  let fish: any;\n  let game: any;\n\n  function chart(selection: any) {\n    const parent_type = selection._groups[0][0].tagName.toLowerCase();\n\n    if (parent_type != 'svg') {\n      root = selection.append('div').attr('class', 'fishRoot');\n\n      fishFrame = root\n        .append('svg')\n        .attr('id', 'gameFish' + options.id)\n        .attr('class', 'fishFrame');\n\n      bars = fishFrame.append('g');\n      fish = fishFrame.append('g');\n      game = fishFrame.append('g');\n    }\n\n    update = function (opts: any) {\n      if (bars == undefined || fish == undefined || game == undefined) return;\n\n      if (options.display.sizeToFit || opts?.sizeToFit) {\n        const dims = selection.node().getBoundingClientRect();\n        options.width = Math.max(dims.width, 100);\n        options.height = Math.max(dims.height, 100);\n      }\n\n      if (options.fish.cell_size && !options.fish.school) {\n        const multiplier = Math.max(10, data.length + 2);\n        options.height = options.fish.cell_size * multiplier * 0.9;\n      }\n\n      let tiebreak = false;\n      let max_rally = 0;\n      data.forEach((e: any) => {\n        if (e.rally && rallyCount(e.rally) > max_rally) max_rally = rallyCount(e.rally);\n        if (e.score.indexOf('T') > 0) tiebreak = true;\n      });\n\n      if (options.fish.max_rally && options.fish.max_rally > max_rally) max_rally = options.fish.max_rally;\n\n      fish_width = options.width - (options.margins.left + options.margins.right);\n      fish_height = options.height - (options.margins.top + options.margins.bottom);\n      const vert = options.display.orientation == 'vertical' ? 1 : 0;\n      const fish_offset = vert ? fish_width : fish_height;\n      const fish_length = vert ? fish_height : fish_width;\n      const midpoint = (vert ? options.margins.left : options.margins.top) + fish_offset / 2;\n      const sw = 1; // service box % offset\n      const rw = 0.9; // rally_width % offset\n\n      bars.attr('transform', 'translate(' + (vert ? 0 : coords[0]) + ',' + (vert ? coords[1] : 0) + ')');\n      fish.attr('transform', 'translate(' + coords[0] + ',' + coords[1] + ')');\n      game.attr('transform', 'translate(' + coords[0] + ',' + coords[1] + ')');\n\n      let cell_size;\n      if (options.fish.cell_size) {\n        cell_size = options.fish.cell_size;\n      } else {\n        const offset_divisor = tiebreak ? options.set.tiebreak_to + 4 : options.fish.gridcells.length + 2;\n        const cell_offset =\n          fish_offset / (options.fish.gridcells.length + (options.display.service ? offset_divisor : 0));\n        const cell_length = fish_length / (data.length + 2);\n        cell_size = Math.min(cell_offset, cell_length);\n        cell_size = Math.max(options.fish.min_cell_size, cell_size);\n        cell_size = Math.min(options.fish.max_cell_size, cell_size);\n      }\n\n      const diag = Math.sqrt(2 * Math.pow(cell_size, 2));\n      const radius = diag / 2;\n\n      const grid_data = [];\n      const grid_labels = [];\n      const grid_side = tiebreak ? options.set.tiebreak_to : options.fish.gridcells.length - 1;\n      for (let g = 0; g < grid_side; g++) {\n        const label = tiebreak ? g : options.fish.gridcells[g];\n        // l = length, o = offset\n        grid_labels.push({\n          label: label,\n          l: (g + (vert ? 1.25 : 0.75)) * radius,\n          o: (g + (vert ? 0.75 : 1.25)) * radius,\n          rotate: 45,\n        });\n        grid_labels.push({ label: label, l: (g + 1.25) * radius, o: -1 * (g + 0.75) * radius, rotate: -45 });\n        for (let c = 0; c < grid_side; c++) {\n          grid_data.push([g, c]);\n        }\n      }\n\n      // check if this is a standalone SVG or part of larger SVG\n      if (root) {\n        root.attr('width', options.width + 'px').attr('height', options.height + 'px');\n\n        fishFrame.attr('width', options.width + 'px').attr('height', options.height + 'px');\n      }\n\n      if (options.display.point_score) {\n        const game_score = fish.selectAll('.game_score' + options.id).data(grid_labels);\n\n        game_score.exit().remove();\n\n        game_score\n          .enter()\n          .append('text')\n          .attr('font-size', radius * 0.8 + 'px')\n          .attr('transform', gscoreT)\n          .attr('text-anchor', 'middle')\n          .merge(game_score)\n          .transition()\n          .duration(options.display.transition_time)\n          .attr('class', 'game_score' + options.id)\n          .attr('font-size', radius * 0.8 + 'px')\n          .attr('transform', gscoreT)\n          .attr('text-anchor', 'middle')\n          .text(function (d: any) {\n            return d.label;\n          });\n      } else {\n        fish.selectAll('.game_score' + options.id).remove();\n      }\n\n      if (options.display.grid) {\n        const gridcells = fish.selectAll('.gridcell' + options.id).data(grid_data);\n\n        gridcells.exit().remove();\n\n        gridcells\n          .enter()\n          .append('rect')\n          .attr('stroke', '#ccccdd')\n          .attr('stroke-width', lineWidth)\n          .attr('transform', gridCT)\n          .attr('width', cell_size)\n          .attr('height', cell_size)\n          .merge(gridcells)\n          .transition()\n          .duration(options.display.transition_time)\n          .attr('class', 'gridcell' + options.id)\n          .attr('stroke-width', lineWidth)\n          .attr('width', cell_size)\n          .attr('height', cell_size)\n          .attr('transform', gridCT)\n          .attr('fill-opacity', 0);\n      } else {\n        fish.selectAll('.gridcell' + options.id).remove();\n      }\n\n      const gamecells = game.selectAll('.gamecell' + options.id).data(data);\n\n      gamecells.exit().remove();\n\n      gamecells\n        .enter()\n        .append('rect')\n        .attr('opacity', 0)\n        .attr('width', cell_size)\n        .attr('height', cell_size)\n        .attr('transform', gameCT)\n        .attr('stroke', '#ccccdd')\n        .attr('stroke-width', lineWidth)\n        .merge(gamecells)\n        .attr('id', (d: any, i: number) => {\n          return options.id + 'Gs' + d.set + 'g' + d.game + 'p' + i;\n        })\n        .transition()\n        .duration(options.display.transition_time)\n        .attr('class', 'gamecell' + options.id)\n        .attr('width', cell_size)\n        .attr('height', cell_size)\n        .attr('transform', gameCT)\n        .attr('stroke', '#ccccdd')\n        .attr('stroke-width', lineWidth)\n        .attr('opacity', options.display.player ? 1 : 0)\n        .style('fill', function (d: any) {\n          return options.colors.players[d.winner];\n        });\n\n      const results = game.selectAll('.result' + options.id).data(data);\n\n      results.exit().remove();\n\n      results\n        .enter()\n        .append('circle')\n        .attr('stroke', 'black')\n        .attr('id', function (d: any, i: number) {\n          return options.id + 'Rs' + d.set + 'g' + d.game + 'p' + i;\n        })\n        .attr('class', 'result' + options.id)\n        .attr('opacity', 1)\n        .attr('stroke-width', lineWidth)\n        .attr('cx', zX)\n        .attr('cy', zY)\n        .attr('r', circleRadius)\n        .style('fill', function (d: any) {\n          return options.colors.results[d.result];\n        })\n        .merge(results)\n        .attr('id', function (d: any, i: number) {\n          return options.id + 'Rs' + d.set + 'g' + d.game + 'p' + i;\n        })\n        .attr('class', 'result' + options.id)\n        .transition()\n        .duration(options.display.transition_time)\n        .attr('stroke-width', lineWidth)\n        .attr('cx', zX)\n        .attr('cy', zY)\n        .attr('r', circleRadius)\n        .style('fill', function (d: any) {\n          return options.colors.results[d.result];\n        });\n\n      // offset Scale\n      const oScale = d3\n        .scaleLinear()\n        .range([0, fish_offset * rw])\n        .domain([0, max_rally]);\n\n      // lengthScale\n      const lScale = d3\n        .scaleBand()\n        .domain(d3.range(data.length))\n        .range([0, data.length * radius])\n        .round(true);\n\n      if (options.display.rally) {\n        const rally_bars = bars.selectAll('.rally_bar' + options.id).data(data);\n\n        rally_bars.exit().remove();\n\n        rally_bars\n          .enter()\n          .append('rect')\n          .attr('opacity', 0)\n          .attr('transform', rallyTstart)\n          .attr('height', vert ? lScale.bandwidth() : 0)\n          .attr('width', vert ? 0 : lScale.bandwidth())\n          .merge(rally_bars)\n          .attr('class', 'rally_bar' + options.id)\n          .on('mouseover', (_: any, i: number, n: any) => {\n            d3.select(n[i]).attr('fill', 'yellow');\n          })\n          .on('mouseout', (_: any, i: number, n: any) => {\n            d3.select(n[i]).attr('fill', '#eeeeff');\n          })\n          .transition()\n          .duration(options.display.transition_time)\n          .attr('id', function (d: any, i: number) {\n            return options.id + 'Bs' + d.set + 'g' + d.game + 'p' + i;\n          })\n          .attr('opacity', 1)\n          .attr('stroke', 'white')\n          .attr('stroke-width', lineWidth)\n          .attr('fill', '#eeeeff')\n          .attr('transform', rallyT)\n          .attr('height', vert ? lScale.bandwidth() : rallyCalc)\n          .attr('width', vert ? rallyCalc : lScale.bandwidth());\n      } else {\n        bars.selectAll('.rally_bar' + options.id).remove();\n      }\n\n      if (options.display.score) {\n        const score = options.score.slice();\n        if (options.display.reverse) score.reverse();\n        const set_score = bars.selectAll('.set_score' + options.id).data(score);\n\n        set_score.exit().remove();\n\n        set_score\n          .enter()\n          .append('text')\n          .attr('class', 'set_score' + options.id)\n          .attr('transform', sscoreT)\n          .attr('font-size', radius * 0.8 + 'px')\n          .attr('text-anchor', 'middle')\n          .text(function (d: any) {\n            return d;\n          })\n          .merge(set_score)\n          .attr('class', 'set_score' + options.id)\n          .attr('transform', sscoreT)\n          .attr('font-size', radius * 0.8 + 'px')\n          .attr('text-anchor', 'middle')\n          .text(function (d: any) {\n            return d;\n          });\n\n        const ssb = bars.selectAll('.ssb' + options.id).data(options.score);\n\n        ssb.exit().remove();\n\n        ssb\n          .enter()\n          .append('rect')\n          .merge(ssb)\n          .attr('class', 'ssb' + options.id)\n          .attr('transform', ssbT)\n          .attr('stroke', 'black')\n          .attr('stroke-width', lineWidth)\n          .attr('fill-opacity', 0)\n          .attr('height', radius + 'px')\n          .attr('width', radius + 'px');\n      } else {\n        bars.selectAll('.set_score' + options.id).remove();\n        bars.selectAll('.ssb' + options.id).remove();\n      }\n\n      if (options.display.service) {\n        const serves: any = [];\n        data.forEach(function (s: any, i: number) {\n          let first_serve = false;\n          const serve_outcomes = ['Ace', 'Serve Winner', 'Double Fault'];\n          if (s.first_serve) {\n            first_serve = true;\n            serves.push({ point: i, serve: 'first', server: s.server, result: s.first_serve.error });\n          }\n\n          serves.push({\n            point: i,\n            serve: first_serve ? 'second' : 'first',\n            server: s.server,\n            result: serve_outcomes.indexOf(s.result) >= 0 ? s.result : 'In',\n          });\n        });\n\n        const service = bars.selectAll('.serve' + options.id).data(serves);\n\n        service.exit().remove();\n\n        service\n          .enter()\n          .append('circle')\n          .attr('class', 'serve' + options.id)\n          .attr('cx', sX)\n          .attr('cy', sY)\n          .attr('r', circleRadius)\n          .attr('stroke', colorShot)\n          .attr('stroke-width', lineWidth)\n          .attr('fill', colorShot)\n          .merge(service)\n          .attr('class', 'serve' + options.id)\n          .attr('cx', sX)\n          .attr('cy', sY)\n          .attr('r', circleRadius)\n          .attr('stroke', colorShot)\n          .attr('stroke-width', lineWidth)\n          .attr('fill', colorShot);\n\n        const service_box = bars.selectAll('.sbox' + options.id).data(data);\n\n        service_box.exit().remove();\n\n        service_box\n          .enter()\n          .append('rect')\n          .attr('stroke', '#ccccdd')\n          .attr('fill-opacity', 0)\n          .attr('transform', sBoxT)\n          .attr('class', 'sbox' + options.id)\n          .attr('stroke-width', lineWidth)\n          .attr('height', vert ? lScale.bandwidth() : 1.5 * radius)\n          .attr('width', vert ? 1.5 * radius : lScale.bandwidth())\n          .merge(service_box)\n          .attr('transform', sBoxT)\n          .attr('class', 'sbox' + options.id)\n          .attr('stroke-width', lineWidth)\n          .attr('height', vert ? lScale.bandwidth() : 1.5 * radius)\n          .attr('width', vert ? 1.5 * radius : lScale.bandwidth());\n\n        const returns = bars.selectAll('.return' + options.id).data(data);\n\n        returns.exit().remove();\n\n        returns\n          .enter()\n          .append('circle')\n          .attr('class', 'return' + options.id)\n          .attr('cx', rX)\n          .attr('cy', rY)\n          .attr('r', circleRadius)\n          .attr('stroke', colorReturn)\n          .attr('stroke-width', lineWidth)\n          .attr('fill', colorReturn)\n          .merge(returns)\n          .attr('class', 'return' + options.id)\n          .attr('cx', rX)\n          .attr('cy', rY)\n          .attr('r', circleRadius)\n          .attr('stroke', colorReturn)\n          .attr('stroke-width', lineWidth)\n          .attr('fill', colorReturn);\n      } else {\n        bars.selectAll('.sbox' + options.id).remove();\n        bars.selectAll('.return' + options.id).remove();\n        bars.selectAll('.serve' + options.id).remove();\n      }\n\n      if (options.display.rightImg) {\n        images.right = fishFrame.selectAll('image.rightImage').data([0]);\n\n        images.right.exit().remove();\n\n        images.right\n          .enter()\n          .append('image')\n          .attr('class', 'rightImage')\n          .attr('xlink:href', options.display.rightImg)\n          .attr('x', options.width - 30)\n          .attr('y', 5)\n          .attr('height', '20px')\n          .attr('width', '20px')\n          .attr('opacity', options.display.show_images ? 1 : 0)\n          .on('click', function () {\n            if (events.rightImage.click) events.rightImage.click(options.id);\n          })\n          .merge(images.right)\n          .attr('x', options.width - 30)\n          .attr('xlink:href', options.display.rightImg)\n          .on('click', function () {\n            if (events.rightImage.click) events.rightImage.click(options.id);\n          });\n      } else {\n        if (fishFrame) fishFrame.selectAll('image.rightImage').remove();\n      }\n\n      if (options.display.leftImg) {\n        images.left = fishFrame.selectAll('image.leftImage').data([0]);\n\n        images.left\n          .enter()\n          .append('image')\n          .attr('class', 'leftImage')\n          .attr('xlink:href', options.display.leftImg)\n          .attr('x', 10)\n          .attr('y', 5)\n          .attr('height', '20px')\n          .attr('width', '20px')\n          .attr('opacity', options.display.show_images ? 1 : 0)\n          .on('click', function () {\n            if (events.leftImage.click) events.leftImage.click();\n          })\n          .merge(images.left)\n          .attr('xlink:href', options.display.leftImg)\n          .on('click', function () {\n            if (events.leftImage.click) events.leftImage.click(options.id);\n          });\n\n        images.left.exit().remove();\n      } else {\n        if (fishFrame) fishFrame.selectAll('image.leftImage').remove();\n      }\n\n      // ancillary functions for update()\n      function circleRadius() {\n        return options.display.player || options.display.service ? radius / 4 : radius / 2;\n      }\n      function lineWidth() {\n        return radius > 20 ? 1 : 0.5;\n      }\n      function colorShot(d: any) {\n        return options.colors.results[d.result];\n      }\n      function colorReturn(d: any) {\n        if (d.rally == undefined) return 'white';\n        if (rallyCount(d.rally) > 1) return 'yellow';\n        if (rallyCount(d.rally) == 1) return options.colors.results[d.result];\n        return 'white';\n      }\n\n      function rallyCalc(d: any) {\n        return d.rally ? oScale(rallyCount(d.rally)) : 0;\n      }\n\n      function sscoreT(_: any, i: number) {\n        let o = i ? midpoint + radius * 0.5 : midpoint - radius * 0.5;\n        o = vert ? o : o + radius * 0.3;\n        const l = radius * (vert ? 0.8 : 0.5);\n        return translate(o, l, 0);\n      }\n\n      function ssbT(_: any, i: number) {\n        const o = i ? midpoint : midpoint - radius;\n        const l = 0;\n        return translate(o, l, 0);\n      }\n\n      function gscoreT(d: any) {\n        const o = +midpoint + d.o;\n        const l = radius + d.l;\n        return translate(o, l, d.rotate);\n      }\n\n      function gridCT(d: any) {\n        const o = midpoint + (d[1] - d[0] + vert - 1) * radius;\n        const l = (d[0] + d[1] + 3 - vert) * radius;\n        return translate(o, l, 45);\n      }\n\n      function gameCT(d: any, i: number) {\n        const o = midpoint + (findOffset(d) + vert - 1) * radius;\n        const l = (i + 4 - vert) * radius;\n        last_coords = [o - midpoint, l - diag, diag];\n        return translate(o, l, 45);\n      }\n\n      function sBoxT(d: any, i: number) {\n        const o = d.server == 0 ? midpoint - (fish_offset / 2) * sw : midpoint + (fish_offset / 2) * sw - 1.5 * radius;\n        const l = radius + cL(d, i);\n        return translate(o, l, 0);\n      }\n\n      function rallyTstart(d: any, i: number) {\n        const o = midpoint;\n        const l = radius + cL(d, i);\n        return translate(o, l, 0);\n      }\n\n      function rallyT(d: any, i: number) {\n        const o = d.rally ? midpoint - oScale(rallyCount(d.rally)) / 2 : 0;\n        const l = radius + cL(d, i);\n        return translate(o, l, 0);\n      }\n\n      function translate(o: any, l: any, rotate: any) {\n        const x = vert ? o : l;\n        const y = vert ? l : o;\n        return 'translate(' + x + ',' + y + ') rotate(' + rotate + ')';\n      }\n\n      function cL(_: any, i: number) {\n        return (i + 2.5) * radius;\n      }\n\n      function rX(d: any, i: number) {\n        return vert ? rO(d) : rL(d, i);\n      }\n      function rY(d: any, i: number) {\n        return vert ? rL(d, i) : rO(d);\n      }\n      function rL(_: any, i: number) {\n        return radius + (i + 3) * radius;\n      }\n      function rO(d: any) {\n        return d.server == 0\n          ? midpoint + (fish_offset / 2) * sw - 0.75 * radius\n          : midpoint - (fish_offset / 2) * sw + 0.75 * radius;\n      }\n\n      function sX(d: any) {\n        return vert ? sO(d) : sL(d);\n      }\n      function sY(d: any) {\n        return vert ? sL(d) : sO(d);\n      }\n      function sL(d: any) {\n        return radius + (d.point + 3) * radius;\n      }\n      function sO(d: any) {\n        const offset = (d.serve == 'first' && d.server == 0) || (d.serve == 'second' && d.server == 1) ? 0.4 : 1.1;\n        return d.server == 0\n          ? midpoint - (fish_offset / 2) * sw + offset * radius\n          : midpoint + (fish_offset / 2) * sw - offset * radius;\n      }\n\n      function zX(d: any, i: number) {\n        return vert ? zO(d) : zL(d, i);\n      }\n      function zY(d, i: number) {\n        return vert ? zL(d, i) : zO(d);\n      }\n      function zL(_, i: number) {\n        return radius + (i + 3) * radius;\n      }\n      function zO(d: any) {\n        return +midpoint + findOffset(d) * radius;\n      }\n    };\n\n    function findOffset(point: any) {\n      return point.points[options.display.reverse ? 0 : 1] - point.points[options.display.reverse ? 1 : 0];\n    }\n  }\n\n  // ACCESSORS\n\n  chart.g = function (values: any) {\n    if (!arguments.length) return chart;\n    if (typeof values != 'object' || values.constructor == Array) return;\n    if (values.bars) bars = values.bars;\n    if (values.fish) fish = values.fish;\n    if (values.game) game = values.game;\n  };\n\n  // allows updating individual options and suboptions\n  // while preserving state of other options\n  chart.options = function (values: any) {\n    if (!arguments.length) return options;\n    keyWalk(values, options);\n    return chart;\n  };\n\n  function keyWalk(valuesObject: any, optionsObject: any) {\n    if (!valuesObject || !optionsObject) return;\n    const vKeys = Object.keys(valuesObject);\n    const oKeys = Object.keys(optionsObject);\n    for (let k = 0; k < vKeys.length; k++) {\n      if (oKeys.indexOf(vKeys[k]) >= 0) {\n        const oo = optionsObject[vKeys[k]];\n        const vo = valuesObject[vKeys[k]];\n        if (typeof oo == 'object' && typeof vo !== 'function' && oo && oo.constructor !== Array) {\n          keyWalk(valuesObject[vKeys[k]], optionsObject[vKeys[k]]);\n        } else {\n          optionsObject[vKeys[k]] = valuesObject[vKeys[k]];\n        }\n      }\n    }\n  }\n\n  chart.events = function (functions: any[]) {\n    if (!arguments.length) return events;\n    keyWalk(functions, events);\n    return chart;\n  };\n\n  chart.width = function (value: any) {\n    if (!arguments.length) return options.width;\n    options.width = value;\n    return chart;\n  };\n\n  chart.height = function (value: any) {\n    if (!arguments.length) return options.height;\n    options.height = value;\n    return chart;\n  };\n\n  chart.coords = function (value: any) {\n    if (!arguments.length) return last_coords;\n    coords = value;\n    return chart;\n  };\n\n  chart.data = function (value: any) {\n    if (!arguments.length) return data;\n    data = JSON.parse(JSON.stringify(value));\n    return chart;\n  };\n\n  chart.update = function (opts: any) {\n    if (events.update.begin) events.update.begin();\n    if (typeof update === 'function' && data) update(opts);\n    setTimeout(function () {\n      if (events.update.end) events.update.end();\n    }, options.display.transition_time);\n  };\n\n  chart.colors = function (color3s: any) {\n    if (!arguments.length) return colors;\n    if (typeof color3s !== 'object') return false;\n    const keys = Object.keys(color3s);\n    if (!keys.length) return false;\n    // remove all properties that are not colors\n    keys.forEach(function (f) {\n      if (!/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(color3s[f])) delete color3s[f];\n    });\n    if (Object.keys(color3s).length) {\n      colors = color3s;\n    } else {\n      colors = JSON.parse(JSON.stringify(default_colors));\n    }\n    return chart;\n  };\n\n  return chart;\n\n  // ancillary functions\n}\n","import { groupGames } from './groupGames';\nimport { gameFish } from './gameFish';\n\nimport * as d3 from 'd3';\nimport { rallyCount } from '../functions/legacyRally';\n\nexport function momentumChart() {\n  let data: any;\n  let update: any;\n  let fish_school: any[] = [];\n  const images = { left: undefined, right: undefined };\n\n  const options: any = {\n    id: 'm1',\n    fullWidth: window.innerWidth,\n    fullHeight: window.innerHeight,\n    margins: {\n      top: 1,\n      bottom: 1, // Chrome bug can't be 0\n      left: 3,\n      right: 3, // Chrome bug can't be 0\n    },\n    fish: {\n      gridcells: ['0', '15', '30', '40', 'G'],\n      cell_size: undefined,\n      min_cell_size: 5,\n      max_cell_size: 10,\n    },\n    display: {\n      continuous: false,\n      reverse: false,\n      orientation: 'vertical',\n      leftImg: false,\n      rightImg: false,\n      show_images: undefined,\n      transition_time: 0,\n      sizeToFit: true,\n      service: true,\n      player: true,\n      rally: true,\n      score: false,\n      momentum_score: true,\n      grid: true,\n    },\n    colors: {\n      players: { 0: 'red', 1: 'black' },\n      results: {\n        Out: 'red',\n        Net: 'coral',\n        'Unforced Error': 'red',\n        Forced: 'orange',\n        Ace: 'lightgreen',\n        'Serve Winner': 'lightgreen',\n        Winner: 'lightgreen',\n        'Forced Volley Error': 'orange',\n        'Forced Error': 'orange',\n        In: 'yellow',\n        'Passing Shot': 'lightgreen',\n        'Out Passing Shot': 'red',\n        'Net Cord': 'yellow',\n        'Out Wide': 'red',\n        'Out Long': 'red',\n        'Double Fault': 'red',\n        Unknown: 'blue',\n        Error: 'red',\n      },\n    },\n  };\n\n  function width() {\n    return options.fullWidth - options.margins.left - options.margins.right;\n  }\n  function height() {\n    return options.fullHeight - options.margins.top - options.margins.bottom;\n  }\n\n  options.height = height();\n  options.width = width();\n\n  const default_colors = { default: '#235dba' };\n  let colors = JSON.parse(JSON.stringify(default_colors));\n\n  const events: any = {\n    score: { click: null },\n    leftImage: { click: null },\n    rightImage: { click: null },\n    update: { begin: null, end: null },\n    point: { mouseover: null, mouseout: null, click: null },\n  };\n\n  function chart(selection: any) {\n    selection.each(function (_, i: number, n: any) {\n      const dom_parent = d3.select(n[i]);\n\n      const root = dom_parent.append('div').attr('class', 'momentumRoot').attr('transform', 'translate(0, 0)');\n\n      const momentumFrame = root.append('svg').attr('class', 'momentumFrame');\n\n      momentumFrame.node().setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns', 'http://www.w3.org/2000/svg');\n      momentumFrame\n        .node()\n        .setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\n\n      const bars = momentumFrame.append('g').attr('id', 'momentumBars');\n      const fish = momentumFrame.append('g').attr('id', 'momentumFish');\n      const game = momentumFrame.append('g').attr('id', 'momentumGame');\n\n      update = function (opts: any) {\n        if (options.display.sizeToFit || (opts && opts.sizeToFit)) {\n          const dims = selection.node().getBoundingClientRect();\n          if (options.display.orientation == 'vertical') {\n            options.fullWidth = Math.max(dims.width, 100);\n            options.fullHeight = Math.max(dims.height, 100);\n          } else {\n            options.fullHeight = Math.max(dims.height, 100);\n            /**\n            options.fullWidth = Math.max(dims.width, 100);\n            options.fullHeight = cellSize() * maxDiff() * 2;\n            */\n          }\n        }\n\n        options.height = height();\n        options.width = width();\n\n        const vert = options.display.orientation == 'vertical' ? 1 : 0;\n        const fish_offset = vert ? options.width : options.height;\n        /** const fish_length = vert ? options.height : options.width; */\n        const midpoint = fish_offset / 2;\n\n        const all_games = groupGames(data);\n        let max_rally = 0;\n        data.forEach(function (point) {\n          if (point.rally != undefined && rallyCount(point.rally) > max_rally) max_rally = rallyCount(point.rally);\n        });\n\n        const cell_size = cellSize();\n\n        // remove extraneous fish instances\n        const old_fish = fish_school.slice(all_games.length);\n        old_fish.forEach(function (f) {\n          d3.selectAll('.c' + f.options().id).remove();\n        });\n        // trim school based on length of data\n        fish_school = fish_school.slice(0, all_games.length);\n\n        let radius: number;\n        const coords = [0, 0];\n        const score_lines: any[] = [];\n        all_games.forEach(function (g, i) {\n          // add fish where necessary\n          if (!fish_school[i]) {\n            fish_school.push(gameFish());\n            momentumFrame.call(fish_school[i]);\n            fish_school[i].g({\n              bars: bars.append('g').attr('class', 'cGF' + i),\n              fish: fish.append('g').attr('class', 'cGF' + i),\n              game: game.append('g').attr('class', 'cGF' + i),\n            });\n            fish_school[i].options({\n              id: 'GF' + i,\n              display: { score: false, point_score: false },\n              fish: { school: true },\n            });\n          }\n          fish_school[i].width(fish_offset).height(fish_offset);\n          fish_school[i].options({\n            score: g.score,\n            fish: { cell_size: cell_size, max_rally: max_rally },\n            display: {\n              orientation: options.display.orientation,\n              service: options.display.service,\n              rally: options.display.rally,\n              player: options.display.player,\n              grid: options.display.grid,\n            },\n            colors: { players: { 0: options.colors.players[0], 1: options.colors.players[1] } },\n          });\n          fish_school[i].data(g.points);\n          fish_school[i].coords(coords).update();\n          const new_coords = fish_school[i].coords();\n          coords[0] += vert ? new_coords?.[0] : new_coords?.[1] - new_coords?.[2] / 2;\n          coords[1] += vert ? new_coords?.[1] : new_coords?.[0] + new_coords?.[2] / 2;\n          score_lines.push({\n            score: g.score,\n            index: g.index,\n            l: coords[1] + new_coords?.[2] * 1.75,\n            o: coords[0] + new_coords?.[2] * 1.75,\n            set_end: g.last_game,\n          });\n          if (g.last_game && !options.display.continuous) {\n            coords[vert ? 0 : 1] = 0;\n          }\n          radius = new_coords?.[2] / 2;\n        });\n\n        // This resize *must* take place after the fishshcool has been generated!\n        // ---------------------------------------------------------------------\n        root\n          .attr('width', options.width + 'px')\n          .attr('height', (vert ? 100 + coords[1] : options.height) + 'px')\n          .on('mouseover', showImages)\n          .on('mouseout', hideImages);\n\n        momentumFrame\n          .attr('width', options.width + 'px')\n          .attr('height', (vert ? 100 + coords[1] : options.height) + 'px');\n        // ---------------------------------------------------------------------\n\n        const midline = fish.selectAll('.midline' + options.id).data([0]);\n\n        midline\n          .enter()\n          .append('line')\n          .attr('class', 'midline' + options.id)\n          .attr('x1', vert ? midpoint : radius)\n          .attr('x2', vert ? midpoint : coords[0] + 5 * (radius || 0))\n          .attr('y1', vert ? radius : midpoint)\n          .attr('y2', vert ? coords[1] + 5 * radius : midpoint)\n          .attr('stroke-width', lineWidth)\n          .attr('stroke', '#ccccdd');\n\n        midline.exit().remove();\n\n        midline\n          .transition()\n          .duration(options.display.transition_time)\n          .attr('x1', vert ? midpoint : radius)\n          .attr('x2', vert ? midpoint : coords[0] + 5 * (radius || 0))\n          .attr('y1', vert ? radius : midpoint)\n          .attr('y2', vert ? coords[1] + 5 * radius : midpoint)\n          .attr('stroke-width', lineWidth)\n          .attr('stroke', '#ccccdd');\n\n        const scoreLines = fish.selectAll('.score_line' + options.id).data(score_lines);\n\n        scoreLines\n          .enter()\n          .append('line')\n          .attr('class', 'score_line' + options.id)\n          .attr('x1', function (d) {\n            return vert ? cell_size * 2 : d.o;\n          })\n          .attr('x2', function (d) {\n            return vert ? fish_offset - cell_size * 2 : d.o;\n          })\n          .attr('y1', function (d) {\n            return vert ? d.l : cell_size * 3;\n          })\n          .attr('y2', function (d) {\n            return vert ? d.l : fish_offset - cell_size * 3;\n          })\n          .attr('stroke-width', lineWidth)\n          .attr('stroke-dasharray', function (d) {\n            return d.set_end ? '0' : '5,5';\n          })\n          .attr('stroke', function (d) {\n            return d.set_end ? '#000000' : '#ccccdd';\n          });\n\n        scoreLines.exit().remove();\n\n        scoreLines\n          .transition()\n          .duration(options.display.transition_time)\n          .attr('x1', function (d) {\n            return vert ? cell_size * 2 : d.o;\n          })\n          .attr('x2', function (d) {\n            return vert ? fish_offset - cell_size * 2 : d.o;\n          })\n          .attr('y1', function (d) {\n            return vert ? d.l : cell_size * 3;\n          })\n          .attr('y2', function (d) {\n            return vert ? d.l : fish_offset - cell_size * 3;\n          })\n          .attr('stroke-width', lineWidth)\n          .attr('stroke-dasharray', function (d) {\n            return d.set_end ? '0' : '5,5';\n          })\n          .attr('stroke', function (d) {\n            return d.set_end ? '#000000' : '#ccccdd';\n          });\n\n        if (options.display.momentum_score) {\n          const score_text = fish.selectAll('.score_text' + options.id).data(score_lines);\n\n          score_text.exit().remove();\n\n          score_text\n            .enter()\n            .append('g')\n            .attr('class', 'score_text' + options.id)\n            .attr('transform', scoreText)\n            .on('click', function (d) {\n              if (events.score.click) events.score.click(d);\n            })\n            .merge(score_text)\n            .attr('class', 'score_text' + options.id)\n            .attr('transform', scoreText)\n            .on('click', function (d) {\n              if (events.score.click) events.score.click(d);\n            });\n\n          const scores = score_text.selectAll('.score' + options.id).data(function (d) {\n            return d.score;\n          });\n\n          scores.exit().remove();\n\n          scores\n            .enter()\n            .append('text')\n            .attr('class', 'score' + options.id)\n            .attr('transform', scoreT)\n            .attr('font-size', radius * 4.0 + 'px')\n            .attr('opacity', 0.1)\n            .attr('text-anchor', 'middle')\n            .text(function (d) {\n              return d;\n            })\n            .merge(scores)\n            .attr('class', 'score' + options.id)\n            .transition()\n            .duration(options.display.transition_time)\n            .attr('transform', scoreT)\n            .attr('font-size', radius * 4.0 + 'px')\n            .attr('opacity', 0.1)\n            .attr('text-anchor', 'middle')\n            .text(function (d) {\n              return d;\n            });\n        } else {\n          fish.selectAll('.score_text' + options.id).remove();\n        }\n\n        function scoreText(d: any) {\n          return translate(0, vert ? d.l : d.o - radius, 0);\n        }\n        function scoreT(_, i: number) {\n          const offset = vert ? fish_offset / 3 : options.height / 3;\n          const o = i ? midpoint + offset : midpoint - offset + radius * 3;\n          const l = -1 * radius * (vert ? 0.25 : 0.5);\n          return translate(o, l, 0);\n        }\n\n        function translate(o, l, rotate) {\n          const x = vert ? o : l;\n          const y = vert ? l : o;\n          return 'translate(' + x + ',' + y + ') rotate(' + rotate + ')';\n        }\n\n        function lineWidth() {\n          return radius > 20 ? 2 : 1;\n        }\n\n        function cellSize() {\n          let cell_size;\n\n          if (options.display.orientation == 'vertical') {\n            // if the display is vertical use the width divided by maxDiff\n            cell_size = options.width / 2 / (maxDiff() + 1);\n          } else {\n            // if the display is horizontal use the width divided by # points\n            // var radius = options.width / (data.points().length + 4);\n            const radius = options.width / (data.length + 4);\n            cell_size = Math.sqrt(2 * radius * radius);\n          }\n          return Math.min(options.fish.max_cell_size, cell_size);\n        }\n\n        function maxDiff() {\n          let max_diff = 0;\n          const cumulative = [0, 0];\n\n          data.forEach(function (episode) {\n            cumulative[episode.point.winner] += 1;\n            const diff = Math.abs(cumulative[0] - cumulative[1]);\n            if (diff > max_diff) max_diff = diff;\n          });\n\n          return max_diff;\n        }\n\n        if (options.display.rightImg) {\n          images.right = momentumFrame.selectAll('image.rightImage').data([0]);\n\n          images.right.exit().remove();\n\n          images.right\n            .enter()\n            .append('image')\n            .attr('class', 'rightImage')\n            .attr('xlink:href', options.display.rightImg)\n            .attr('x', options.width - 20)\n            .attr('y', 5)\n            .attr('height', '20px')\n            .attr('width', '20px')\n            .attr('opacity', options.display.show_images ? 1 : 0)\n            .on('click', function () {\n              if (events.rightImage.click) events.rightImage.click(options.id);\n            })\n            .merge(images.right)\n            .attr('x', options.width - 20)\n            .attr('xlink:href', options.display.rightImg)\n            .on('click', function () {\n              if (events.rightImage.click) events.rightImage.click(options.id);\n            });\n        } else {\n          momentumFrame.selectAll('image.rightImage').remove();\n        }\n\n        if (options.display.leftImg) {\n          images.left = momentumFrame.selectAll('image.leftImage').data([0]);\n\n          images.left\n            .enter()\n            .append('image')\n            .attr('class', 'leftImage')\n            .attr('xlink:href', options.display.leftImg)\n            .attr('x', 10)\n            .attr('y', 5)\n            .attr('height', '20px')\n            .attr('width', '20px')\n            .attr('opacity', options.display.show_images ? 1 : 0)\n            .on('click', function () {\n              if (events.leftImage.click) events.leftImage.click();\n            })\n            .merge(images.left)\n            .attr('xlink:href', options.display.leftImg)\n            .on('click', function () {\n              if (events.leftImage.click) events.leftImage.click(options.id);\n            });\n\n          images.left.exit().remove();\n        } else {\n          momentumFrame.selectAll('image.leftImage').remove();\n        }\n\n        function showImages() {\n          if (options.display.show_images == false) return;\n          if (options.display.leftImg) images.left.attr('opacity', 1);\n          if (options.display.rightImg) images.right.attr('opacity', 1);\n        }\n\n        function hideImages() {\n          if (options.display.show_images) return;\n          if (options.display.leftImg) images.left.attr('opacity', 0);\n          if (options.display.rightImg) images.right.attr('opacity', 0);\n        }\n      };\n    });\n  }\n\n  // ACCESSORS\n\n  // allows updating individual options and suboptions\n  // while preserving state of other options\n  chart.options = function (values) {\n    if (!arguments.length) return options;\n    keyWalk(values, options);\n    return chart;\n  };\n\n  function keyWalk(valuesObject, optionsObject) {\n    if (!valuesObject || !optionsObject) return;\n    const vKeys = Object.keys(valuesObject);\n    const oKeys = Object.keys(optionsObject);\n    for (let k = 0; k < vKeys.length; k++) {\n      if (oKeys.indexOf(vKeys[k]) >= 0) {\n        const oo = optionsObject[vKeys[k]];\n        const vo = valuesObject[vKeys[k]];\n        if (typeof oo == 'object' && typeof vo !== 'function' && oo.constructor !== Array) {\n          keyWalk(valuesObject[vKeys[k]], optionsObject[vKeys[k]]);\n        } else {\n          optionsObject[vKeys[k]] = valuesObject[vKeys[k]];\n        }\n      }\n    }\n  }\n\n  chart.events = function (functions) {\n    if (!arguments.length) return events;\n    keyWalk(functions, events);\n    return chart;\n  };\n\n  chart.width = function (value) {\n    if (!arguments.length) return options.fullWidth;\n    options.fullWidth = value;\n    return chart;\n  };\n\n  chart.height = function (value) {\n    if (!arguments.length) return options.fullHeight;\n    options.fullHeight = value;\n    return chart;\n  };\n\n  chart.data = function (value) {\n    if (!arguments.length) return data;\n    data = value;\n    return chart;\n  };\n\n  chart.update = function (opts) {\n    if (events.update.begin) events.update.begin();\n    if (typeof update === 'function' && data) update(opts);\n    setTimeout(function () {\n      if (events.update.end) events.update.end();\n    }, options.display.transition_time);\n  };\n\n  chart.colors = function (color3s) {\n    if (!arguments.length) return colors;\n    if (typeof color3s !== 'object') return false;\n    const keys = Object.keys(color3s);\n    if (!keys.length) return false;\n    // remove all properties that are not colors\n    keys.forEach(function (f) {\n      if (!/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(color3s[f])) delete color3s[f];\n    });\n    if (Object.keys(color3s).length) {\n      colors = color3s;\n    } else {\n      colors = JSON.parse(JSON.stringify(default_colors));\n    }\n    return chart;\n  };\n\n  return chart;\n}\n","import * as d3 from 'd3';\n\nexport function gameTree() {\n  // TODO\n  // change the gradient direction in lines across width\n  // which means changing line so that it is short and wide\n  // rather than long and thick\n  //\n  // bar chart showing win % for each player or primary/opponents\n  // for each point position\n\n  function applyMax(arr: any) {\n    return Math.max.apply(null, arr);\n  }\n  function applyMin(arr: any) {\n    return Math.min.apply(null, arr);\n  }\n  const images = { left: undefined, right: undefined };\n\n  // All options that should be accessible to caller\n  let data: any[] = [];\n  const options: any = {\n    width: 150,\n    height: 150,\n    min_max: 20, // scaling factor for line widths\n\n    // Margins for the SVG\n    margins: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    },\n\n    display: {\n      noAd: false,\n      leftImg: false,\n      rightImg: false,\n      show_images: false,\n      sizeToFit: true,\n      showEmpty: false // display even if no data\n    },\n\n    lines: {\n      easing: false, // 'bounce'\n      duration: 600,\n      points: { winners: '#2ed2db', errors: '#2ed2db', unknown: '#2ed2db' },\n      colors: { underlines: '#2ed2db' }\n    },\n\n    nodes: {\n      colors: { 0: 'black', 1: 'red', neutral: '#ecf0f1' }\n    },\n\n    points: {\n      winners: [\n        'Winner',\n        'Ace',\n        'Serve Winner',\n        'Passing Shot',\n        'Return Winner',\n        'Forcing Error',\n        'Forcing Volley Error',\n        'Net Cord',\n        'In'\n      ],\n      errors: [\n        'Unforced Error',\n        'Unforced',\n        'Forced Error',\n        'Error',\n        'Out',\n        'Net',\n        'Netted Passing Shot',\n        'L',\n        'Overhead Passing Shot',\n        'Double Fault'\n      ],\n      highlight: [] // opposite of filter; filter unhighlighted...\n    },\n\n    selectors: {\n      enabled: true,\n      selected: { 0: false, 1: false }\n    },\n\n    labels: { Game: 'GAME', Player: 'Player', Opponent: 'Opponent' }\n  };\n\n  // functions which should be accessible via ACCESSORS\n  let update: any;\n\n  // PROGRAMMATIC\n  // ------------\n  let canvas: any;\n  let radius: any;\n  const transition_time: number = 0;\n  const point_connector: string = 'x';\n  let counters: any = { w: {}, e: {}, p: {}, n: {} };\n\n  // DEFINABLE EVENTS\n  // Define with ACCESSOR function chart.events()\n  const events: any = {\n    leftImage: { click: null },\n    rightImage: { click: null },\n    update: { begin: null, end: null },\n    point: { mousemove: null, mouseout: null },\n    node: { mousemove: null, mouseout: null },\n    score: { mousemove: null, mouseout: null },\n    label: { mousemove: null, mouseout: null, click: selectView },\n    selector: { mousemove: null, mouseout: null, click: selectView }\n  };\n\n  function chart(selection: any) {\n    const root = selection.append('div').attr('class', 'gametreeRoot');\n\n    /*\n    const tree_width = options.width - (options.margins.left + options.margins.right);\n    const tree_height = options.width * 0.9;\n    */\n    canvas = root.append('svg');\n\n    update = function (opts: any) {\n      if (!data.length && !options.display.showEmpty) {\n        canvas.selectAll('*').remove();\n        return;\n      }\n\n      counterCalcs();\n\n      if (options.display.sizeToFit || (opts && opts.sizeToFit)) {\n        const dims = selection.node().getBoundingClientRect();\n        options.width = Math.min(dims.width, dims.height);\n      }\n\n      const tree_width = options.width - (options.margins.left + options.margins.right);\n      const tree_height = options.width * 0.9;\n      radius = ((tree_height + tree_width) / 2) * 0.03;\n\n      const keys = point_lines.map(function (m) {\n        return m.id;\n      });\n\n      const point_min = applyMin(\n        keys.map(function (k) {\n          return isNaN(counters.p[k]) ? 0 : counters.p[k];\n        })\n      );\n      const point_max = applyMax([\n        applyMax(\n          keys.map(function (k) {\n            return isNaN(counters.p[k]) ? 0 : counters.p[k];\n          })\n        ),\n        options.min_max\n      ]);\n\n      const scale = d3\n        .scaleLinear()\n        .domain([point_min, point_max])\n        .range([0, radius * 2]);\n      canvas.transition().duration(transition_time).attr('width', tree_width).attr('height', tree_height);\n\n      const gradients = canvas.selectAll('.gradient').data(point_lines, get_id);\n\n      gradients.exit().remove();\n\n      gradients\n        .enter()\n        .append('linearGradient')\n        .attr('id', function (d) {\n          return 'gradient' + d.id;\n        })\n        .attr('class', 'gradient')\n        .attr('gradientUnits', 'userSpaceOnUse')\n        .attr('x1', function (d) {\n          return d.start.x * tree_width;\n        })\n        .attr('y1', function (d) {\n          return d.start.y * tree_height;\n        })\n        .attr('x2', function (d) {\n          return d.end.x * tree_width;\n        })\n        .attr('y2', function (d) {\n          return d.end.y * tree_height;\n        })\n        .merge(gradients)\n        .attr('x1', function (d) {\n          return d.start.x * tree_width;\n        })\n        .attr('y1', function (d) {\n          return d.start.y * tree_height;\n        })\n        .attr('x2', function (d) {\n          return d.end.x * tree_width;\n        })\n        .attr('y2', function (d) {\n          return d.end.y * tree_height;\n        });\n\n      const point_stops = gradients.selectAll('.points_stop').data((d) => {\n        return calcStops(d);\n      });\n\n      point_stops.exit().remove();\n\n      point_stops\n        .enter()\n        .append('stop')\n        .attr('class', 'points_stop')\n        .attr('offset', function (d) {\n          return d.offset;\n        })\n        .attr('stop-color', function (d) {\n          return d.color;\n        })\n        .merge(point_stops)\n        .attr('offset', function (d) {\n          return d.offset;\n        });\n\n      const lines = canvas.selectAll('.line').data(point_lines);\n\n      lines.exit().remove();\n\n      lines\n        .enter()\n        .append('line')\n        .attr('class', 'line')\n        .attr('id', function (d) {\n          return d.id;\n        })\n        .attr('x1', function (d) {\n          return d.start.x * tree_width;\n        })\n        .attr('y1', function (d) {\n          return d.start.y * tree_height;\n        })\n        .attr('x2', function (d) {\n          return d.end.x * tree_width;\n        })\n        .attr('y2', function (d) {\n          return d.end.y * tree_height;\n        })\n        .attr('stroke-width', function (d) {\n          return d.width ? d.width : 0;\n        })\n        .attr('stroke', function (d) {\n          return 'url(#gradient' + d.id + ')';\n        })\n        .on('mousemove', function (d, i) {\n          if (events.point.mousemove) events.point.mousemove(d, i);\n        })\n        .on('mouseout', function (d, i) {\n          if (events.point.mouseout) events.point.mouseout(d, i);\n        })\n        .on('click', function (d, i) {\n          if (events.point.click) events.point.click(d, i);\n        })\n        .merge(lines)\n        .transition()\n        .duration(options.lines.easing || (opts && opts.easing) ? options.lines.duration : 0)\n        //                     .ease(options.lines.easing || (opts && opts.easing) || 'none')\n        .attr('x1', function (d) {\n          return d.start.x * tree_width;\n        })\n        .attr('y1', function (d) {\n          return d.start.y * tree_height;\n        })\n        .attr('x2', function (d) {\n          return d.end.x * tree_width;\n        })\n        .attr('y2', function (d) {\n          return d.end.y * tree_height;\n        })\n        .attr('stroke-width', function (d) {\n          return counters.p[d.id] ? scale(counters.p[d.id]) : 0;\n        });\n\n      const ulines = canvas.selectAll('.uline').data(under_lines);\n\n      ulines.exit().remove();\n\n      ulines\n        .enter()\n        .append('line')\n        .attr('class', 'uline')\n        .attr('id', function (d: any) {\n          return d.id;\n        })\n        .attr('x1', function (d: any) {\n          return d.start.x * tree_width;\n        })\n        .attr('y1', function (d: any) {\n          return d.start.y * tree_height;\n        })\n        .attr('x2', function (d: any) {\n          return d.end.x * tree_width;\n        })\n        .attr('y2', function (d: any) {\n          return d.end.y * tree_height;\n        })\n        .attr('stroke-width', function (d: any) {\n          return d.width ? d.width : 0;\n        })\n        .attr('stroke', function () {\n          return options.lines.colors.underlines;\n        })\n        .merge(ulines)\n        .transition()\n        .duration(transition_time)\n        .attr('id', function (d: any) {\n          return d.id;\n        })\n        .attr('x1', function (d: any) {\n          return d.start.x * tree_width;\n        })\n        .attr('y1', function (d: any) {\n          return d.start.y * tree_height;\n        })\n        .attr('x2', function (d: any) {\n          return d.end.x * tree_width;\n        })\n        .attr('y2', function (d: any) {\n          return d.end.y * tree_height;\n        })\n        .attr('stroke-width', function (d) {\n          return d.width ? d.width : 0;\n        });\n\n      const nodes = canvas.selectAll('.node').data(point_circles);\n\n      nodes.exit().remove();\n\n      nodes\n        .enter()\n        .append('circle')\n        .attr('class', 'node')\n        .attr('cx', function (d: any) {\n          return d.pos.x * tree_width;\n        })\n        .attr('cy', function (d: any) {\n          return d.pos.y * tree_height;\n        })\n        .attr('r', function () {\n          return radius;\n        })\n        .attr('stroke', function (d: any) {\n          return d.color_pct != undefined\n            ? colorShade(getHexColor(options.nodes.colors[d.player]), d.color_pct)\n            : options.nodes.colors.neutral;\n        })\n        .attr('fill', function (d: any) {\n          return d.color_pct != undefined\n            ? colorShade(getHexColor(options.nodes.colors[d.player]), d.color_pct)\n            : options.nodes.colors.neutral;\n        })\n        .on('mousemove', function (d: any, i: number) {\n          if (events.score.mousemove) events.score.mousemove(d, i);\n        })\n        .on('mouseout', function (d: any, i: number) {\n          if (events.node.mouseout) events.node.mouseout(d, i);\n        })\n        .on('click', function (d: any, i: number) {\n          if (events.node.click) events.node.click(d, i);\n        })\n        .merge(nodes)\n        .transition()\n        .duration(transition_time)\n        .attr('cx', function (d: any) {\n          return d.pos.x * tree_width;\n        })\n        .attr('cy', function (d: any) {\n          return d.pos.y * tree_height;\n        })\n        .attr('r', function () {\n          return radius;\n        });\n\n      const scores = canvas.selectAll('.score').data(point_text);\n\n      scores.exit().remove();\n\n      scores\n        .enter()\n        .append('text')\n        .attr('class', 'score')\n        .attr('x', function (d) {\n          return d.pos.x * tree_width;\n        })\n        .attr('y', function (d) {\n          return d.pos.y * tree_height;\n        })\n        .attr('font-size', function (d) {\n          return radius * d.fontsize + 'px';\n        })\n        .attr('font-family', 'Lato, Arial, sans-serif')\n        .attr('text-anchor', 'middle')\n        .attr('alignment-baseline', 'central')\n        .attr('stroke', function (d) {\n          return d.stroke;\n        })\n        .attr('fill', function (d) {\n          return d.fill;\n        })\n        .text(function (d) {\n          if (radius * d.fontsize > 7) return d.text;\n        })\n        .on('mousemove', function (d, i) {\n          if (events.score.mousemove) events.score.mousemove(d, i);\n        })\n        .on('mouseout', function (d, i) {\n          if (events.score.mouseout) events.score.mouseout(d, i);\n        })\n        .on('click', function (d, i) {\n          if (events.score.click) events.score.click(d, i);\n        })\n        .merge(scores)\n        .transition()\n        .duration(transition_time)\n        .attr('x', function (d) {\n          return d.pos.x * tree_width;\n        })\n        .attr('y', function (d) {\n          return d.pos.y * tree_height;\n        })\n        .attr('font-size', function (d) {\n          return radius * d.fontsize + 'px';\n        })\n        .text(function (d) {\n          if (radius * d.fontsize > 5) return d.text;\n        });\n\n      const labels = canvas.selectAll('.gt_label').data(label_text);\n\n      labels.exit().remove();\n\n      labels\n        .enter()\n        .append('text')\n        .attr('class', 'gt_label')\n        .attr('x', function (d) {\n          return d.pos.x * tree_width;\n        })\n        .attr('y', function (d) {\n          return d.pos.y * tree_height;\n        })\n        .attr('alignment-baseline', function (d) {\n          return d.baseline ? d.baseline : undefined;\n        })\n        .attr('font-size', function (d) {\n          return radius * d.fontsize + 'px';\n        })\n        .attr('text-anchor', function (d) {\n          return d.anchor ? d.anchor : undefined;\n        })\n        .attr('font-family', 'Lato, Arial, sans-serif')\n        .attr('stroke', function (d) {\n          return d.stroke;\n        })\n        .attr('fill', function (d) {\n          return d.fill;\n        })\n        .text(function (d) {\n          if (radius * d.fontsize > 5) return d.id;\n        })\n        .attr('selector', function (d) {\n          return d.id;\n        })\n        .on('click', function (d: any, i: number, n: any) {\n          if (events.label.click) events.label.click(d, i, n[i]);\n        })\n        .merge(labels)\n        .transition()\n        .duration(transition_time)\n        .attr('x', function (d) {\n          return d.pos.x * tree_width;\n        })\n        .attr('y', function (d) {\n          return d.pos.y * tree_height;\n        })\n        .attr('font-size', function (d) {\n          return radius * d.fontsize + 'px';\n        })\n        .text(function (d) {\n          if (radius * d.fontsize > 5) return options.labels[d.id];\n        });\n\n      const select = canvas.selectAll('.selector').data(selectors);\n\n      select.exit();\n\n      select\n        .enter()\n        .append('circle')\n        .attr('class', 'selector')\n        .attr('status', function (d: any) {\n          return d.status;\n        })\n        .attr('id', function (d: any) {\n          return d.id;\n        })\n        .attr('selector', function (d: any) {\n          return d.id;\n        })\n        .attr('cx', function (d: any) {\n          return d.pos.x * tree_width;\n        })\n        .attr('cy', function (d: any) {\n          return d.pos.y * tree_height + 4;\n        })\n        .attr('r', function (d: any) {\n          return radius * d.r_pct;\n        })\n        .attr('stroke', function (_, i: number) {\n          return options.nodes.colors[i];\n        })\n        .attr('stroke-width', function () {\n          return radius * 0.25;\n        })\n        .attr('fill', function (_, i: number) {\n          return !options.selectors.enabled || (options.selectors.enabled && options.selectors.selected[i])\n            ? options.nodes.colors[i]\n            : options.nodes.colors.neutral;\n        })\n        .attr('opacity', function (d: any) {\n          return d.opacity;\n        })\n        .on('mousemove', function (d: any, i: number) {\n          if (events.selector.mousemove) events.selector.mousemove(d, i);\n        })\n        .on('mouseout', function (d: any, i: number) {\n          if (events.selector.mouseout) events.selector.mouseout(d, i);\n        })\n        .on('click', function (d: any, i: number, n: any) {\n          if (events.selector.click) events.selector.click(d, i, n[i]);\n        })\n        .merge(select)\n        .transition()\n        .duration(transition_time)\n        .attr('cx', function (d: any) {\n          return d.pos.x * tree_width;\n        })\n        .attr('cy', function (d: any) {\n          return d.pos.y * tree_height + 4;\n        })\n        .attr('r', function (d: any) {\n          return radius * d.r_pct;\n        })\n        .attr('stroke-width', function () {\n          return radius * 0.25;\n        })\n        .attr('fill', function (_, i: number) {\n          return !options.selectors.enabled || (options.selectors.enabled && options.selectors.selected[i])\n            ? options.nodes.colors[i]\n            : options.nodes.colors.neutral;\n        });\n\n      if (options.display.rightImg) {\n        images.right = canvas.selectAll('image.rightImage').data([0]);\n\n        images.right.exit().remove();\n\n        images.right\n          .enter()\n          .append('image')\n          .attr('class', 'rightImage')\n          .attr('xlink:href', options.display.rightImg)\n          .attr('x', options.width - (options.margins.right + 30))\n          .attr('y', 5)\n          .attr('height', '20px')\n          .attr('width', '20px')\n          .attr('opacity', options.display.show_images ? 1 : 0)\n          .on('click', function () {\n            if (events.rightImage.click) events.rightImage.click(options.id);\n          })\n          .merge(images.right)\n          .attr('x', options.width - (options.margins.right + 30))\n          .attr('xlink:href', options.display.rightImg)\n          .on('click', function () {\n            if (events.rightImage.click) events.rightImage.click(options.id);\n          });\n      } else {\n        root.selectAll('image.rightImage').remove();\n      }\n\n      if (options.display.leftImg) {\n        images.left = canvas.selectAll('image.leftImage').data([0]);\n\n        images.left\n          .enter()\n          .append('image')\n          .attr('class', 'leftImage')\n          .attr('xlink:href', options.display.leftImg)\n          .attr('x', 10 + options.margins.left)\n          .attr('y', 5)\n          .attr('height', '20px')\n          .attr('width', '20px')\n          .attr('opacity', options.display.show_images ? 1 : 0)\n          .on('click', function () {\n            if (events.leftImage.click) events.leftImage.click();\n          })\n          .merge(images.left)\n          .attr('x', 10 + options.margins.left)\n          .attr('xlink:href', options.display.leftImg)\n          .on('click', function () {\n            if (events.leftImage.click) events.leftImage.click(options.id);\n          });\n\n        images.left.exit().remove();\n      } else {\n        root.selectAll('image.leftImage').remove();\n      }\n\n      /*\n      function showImages() {\n        if (options.display.show_images == false) return;\n        if (options.display.leftImg) images.left.attr('opacity', 1);\n        if (options.display.rightImg) images.right.attr('opacity', 1);\n      }\n\n      function hideImages() {\n        if (options.display.show_images) return;\n        if (options.display.leftImg) images.left.attr('opacity', 0);\n        if (options.display.rightImg) images.right.attr('opacity', 0);\n      }\n      */\n    };\n  }\n\n  // ACCESSORS\n\n  chart.exports = function () {\n    return { selectView: selectView };\n  };\n\n  // allows updating individual options and suboptions\n  // while preserving state of other options\n  chart.options = function (values) {\n    if (!arguments.length) return options;\n    keyWalk(values, options);\n    return chart;\n  };\n\n  function keyWalk(valuesObject, optionsObject) {\n    if (!valuesObject || !optionsObject) return;\n    const vKeys = Object.keys(valuesObject);\n    const oKeys = Object.keys(optionsObject);\n    for (let k = 0; k < vKeys.length; k++) {\n      if (oKeys.indexOf(vKeys[k]) >= 0) {\n        const oo = optionsObject[vKeys[k]];\n        const vo = valuesObject[vKeys[k]];\n        if (typeof oo == 'object' && typeof vo !== 'function' && oo && oo.constructor !== Array) {\n          keyWalk(valuesObject[vKeys[k]], optionsObject[vKeys[k]]);\n        } else {\n          optionsObject[vKeys[k]] = valuesObject[vKeys[k]];\n        }\n      }\n    }\n  }\n\n  chart.events = function (functions) {\n    if (!arguments.length) return events;\n    keyWalk(functions, events);\n    return chart;\n  };\n\n  chart.reset = function () {\n    data = [];\n    clearView();\n    counters = { w: {}, e: {}, p: {}, n: {} };\n    return chart;\n  };\n\n  chart.width = function (value: any) {\n    if (!arguments.length) return options.width;\n    options.width = value;\n    return chart;\n  };\n\n  chart.height = function (value: any) {\n    if (!arguments.length) return options.height;\n    options.height = value;\n    return chart;\n  };\n\n  chart.data = function (values: any) {\n    if (!arguments.length) return data;\n    if (values.constructor === Array) {\n      chart.reset();\n      data = values;\n    }\n    return chart;\n  };\n\n  chart.counters = function () {\n    counterCalcs();\n    return counters;\n  };\n\n  chart.update = function (opts) {\n    if (events.update.begin) events.update.begin();\n    if (typeof update === 'function') update(opts);\n    setTimeout(function () {\n      if (events.update.end) events.update.end();\n    }, transition_time);\n  };\n\n  // REUSABLE FUNCTIONS\n  // ------------------\n\n  function counterCalcs() {\n    let _data;\n    // w = winners, e = errors, p = points, n = nodes\n    counters = { w: {}, e: {}, p: {}, n: {} };\n    if (options.selectors.selected[0] || options.selectors.selected[1]) {\n      const selected = options.selectors.selected[0] ? 0 : 1;\n      _data = data.filter(function (f) {\n        return f.point.server == selected;\n      });\n    } else {\n      _data = data;\n    }\n    _data = _data.filter(function (f) {\n      return !f.point.tiebreak;\n    });\n    for (let d = 0; d < _data.length; d++) {\n      const previous_episode = _data[d - 1];\n      const previous =\n        d == 0 || previous_episode.game.complete ? calcPosition([0, 0]) : calcPosition(previous_episode.point.points);\n      const progression = 'L' + previous + point_connector + calcPosition(_data[d].point.points);\n      if (options.points.highlight.length && options.points.highlight.indexOf(d) < 0) {\n        continue;\n      }\n      counters.p[progression] = counters.p[progression] ? counters.p[progression] + 1 : 1;\n\n      if (options.points.winners.indexOf(_data[d].point.result) >= 0) {\n        counters.w[progression] = counters.w[progression] ? counters.w[progression] + 1 : 1;\n      } else if (options.points.errors.indexOf(_data[d].point.result) >= 0) {\n        counters.e[progression] = counters.e[progression] ? counters.e[progression] + 1 : 1;\n      }\n    }\n\n    // make adjustment for multiple dueces\n    function calcPosition(points) {\n      const point_min = Math.min(...points);\n      const diff = point_min >= 4 ? point_min - 3 : 0;\n      const pos = points.map((point, index) =>\n        options.display.noAd && point == 4 && points[1 - index] == 3 ? 'G' : point - diff\n      );\n      return pos.join('-');\n    }\n  }\n\n  function get_id(d) {\n    return d && d.id;\n  }\n\n  /*\n  function isEven(n) {\n    return n == parseFloat(n) ? !(n % 2) : void 0;\n  }\n  */\n\n  function clearView() {\n    d3.select('[id=Player]').attr('opacity', 0.4).attr('status', 'none').attr('fill', options.nodes.colors.neutral);\n    d3.select('[id=Opponent]').attr('opacity', 0.4).attr('status', 'none').attr('fill', options.nodes.colors.neutral);\n    options.selectors.selected[1] = false;\n    options.selectors.selected[0] = false;\n  }\n\n  function selectView(_, i: number, self: any) {\n    if (!options.selectors.enabled) return;\n    const selector = d3.select(self).attr('selector');\n    if (d3.select('[id=' + selector + ']').attr('status') == 'none') {\n      if (d3.select(self).attr('selector') == 'Opponent') {\n        d3.select('[id=Player]').attr('opacity', 0.4).attr('status', 'none').attr('fill', options.nodes.colors.neutral);\n        d3.select('[id=Opponent]').attr('opacity', 1).attr('status', 'selected').attr('fill', options.nodes.colors[i]);\n        options.selectors.selected[1] = true;\n        options.selectors.selected[0] = false;\n      } else {\n        d3.select('[id=Opponent]')\n          .attr('opacity', 0.4)\n          .attr('status', 'none')\n          .attr('fill', options.nodes.colors.neutral);\n        d3.select('[id=Player]').attr('opacity', 1).attr('status', 'selected').attr('fill', options.nodes.colors[i]);\n        options.selectors.selected[0] = true;\n        options.selectors.selected[1] = false;\n      }\n    } else {\n      d3.select('[id=' + selector + ']')\n        .attr('opacity', 0.4)\n        .attr('status', 'none')\n        .attr('fill', options.nodes.colors.neutral);\n      if (d3.select(self).attr('selector') == 'Opponent') {\n        options.selectors.selected[1] = false;\n      } else {\n        options.selectors.selected[0] = false;\n      }\n    }\n    update();\n  }\n\n  function calcStops(d: any) {\n    if (!counters.p[d.id]) return [];\n    const total_points = counters.p[d.id] == undefined ? 1 : counters.p[d.id];\n    const winners = counters.w[d.id] ? counters.w[d.id] : 0;\n    const errors = counters.e[d.id] ? counters.e[d.id] : 0;\n    const winner_pct = (winners / total_points) * 100;\n    // const error_pct = (errors / total_points) * 100;\n    const u_pct = ((total_points - (winners + errors)) / total_points) * 100;\n    return [\n      { offset: '0%', color: options.lines.points.unknown },\n      { offset: u_pct + '%', color: options.lines.points.unknown },\n      { offset: u_pct + '%', color: options.lines.points.winners },\n      { offset: u_pct + winner_pct + '%', color: options.lines.points.winners },\n      { offset: u_pct + winner_pct + '%', color: options.lines.points.errors },\n      { offset: '100%', color: options.lines.points.errors }\n    ];\n  }\n\n  // DATA\n  // --------------\n\n  const c_start = 0.07;\n  const c_dist = 0.14;\n\n  const r_start = 0.05;\n  const r_dist = 0.21;\n\n  const f = {\n    col1: c_start,\n    col2: c_start + c_dist,\n    col3: c_start + 2 * c_dist,\n    col4: c_start + 3 * c_dist,\n    col5: c_start + 4 * c_dist,\n    col6: c_start + 5 * c_dist,\n    col7: c_start + 6 * c_dist,\n\n    row1: r_start,\n    row2: r_start + r_dist,\n    row3: r_start + 2 * r_dist,\n    row4: r_start + 3 * r_dist,\n    row5: r_start + 4 * r_dist,\n    foot: r_start + 4.1 * r_dist,\n\n    adr1: r_start + 3.5 * r_dist,\n    adc1: c_start + c_dist * 2.5,\n    adc2: c_start + c_dist * 3.5,\n\n    selc: c_start * 0.8,\n    tslc: c_start,\n    sl1r: r_start / 2,\n    sl2r: r_start * 1.5,\n    plr1: c_start * 0.8,\n    plr2: c_start + 4 * c_dist,\n    plrs: r_start + 4.25 * r_dist\n  };\n\n  const pos = {\n    'p0-0': { x: f.col4, y: f.row1 },\n    'p1-1': { x: f.col4, y: f.row2 },\n    'p2-2': { x: f.col4, y: f.row3 },\n    'p3-3': { x: f.col4, y: f.row4 },\n    'p1-0': { x: f.col3, y: f.row2 },\n    'p0-1': { x: f.col5, y: f.row2 },\n    'p2-1': { x: f.col3, y: f.row3 },\n    'p1-2': { x: f.col5, y: f.row3 },\n    'p2-0': { x: f.col2, y: f.row3 },\n    'p0-2': { x: f.col6, y: f.row3 },\n    'p3-2': { x: f.col3, y: f.row4 },\n    'p2-3': { x: f.col5, y: f.row4 },\n    'p3-1': { x: f.col2, y: f.row4 },\n    'p1-3': { x: f.col6, y: f.row4 },\n    'p3-0': { x: f.col1, y: f.row4 },\n    'p0-3': { x: f.col7, y: f.row4 },\n    'p3-4': { x: f.adc1, y: f.adr1 },\n    'p4-3': { x: f.adc2, y: f.adr1 },\n    'p5-3': { x: f.adc2, y: f.row5 },\n    'p3-5': { x: f.adc1, y: f.row5 },\n    'p4-1': { x: f.col2, y: f.row5 },\n    'p1-4': { x: f.col6, y: f.row5 },\n    'p4-2': { x: f.col3, y: f.row5 },\n    'p2-4': { x: f.col5, y: f.row5 },\n    'p4-0': { x: f.col1, y: f.row5 },\n    'p0-4': { x: f.col7, y: f.row5 },\n\n    // No Ad\n    'pG-3': { x: f.col4, y: f.row5 },\n    'p3-G': { x: f.col4, y: f.row5 },\n\n    sPlyr: { x: f.adc1, y: f.plrs },\n    tPlyr: { x: f.col2, y: f.plrs },\n    sOpp: { x: f.adc2, y: f.plrs },\n    tOpp: { x: f.col6, y: f.plrs },\n\n    GAME: { x: f.col4, y: f.foot },\n    L1s: { x: f.col1, y: f.foot },\n    L1e: { x: f.adc1, y: f.foot },\n    L2s: { x: f.adc2, y: f.foot },\n    L2e: { x: f.col7, y: f.foot }\n  };\n\n  const point_circles = [\n    { name: '0-0', pos: pos['p0-0'], player: 0 },\n    { name: '15-15', pos: pos['p1-1'], player: 0 },\n    { name: '30-30', pos: pos['p2-2'], player: 0 },\n    { name: '40-40', pos: pos['p3-3'], player: 0 },\n\n    { name: '0-15', pos: pos['p0-1'], color_pct: 0.4, player: 1 },\n    { name: '15-30', pos: pos['p1-2'], color_pct: 0.4, player: 1 },\n    { name: '0-30', pos: pos['p0-2'], color_pct: 0.2, player: 1 },\n    { name: '30-40', pos: pos['p2-3'], color_pct: 0.4, player: 1 },\n    { name: '15-40', pos: pos['p1-3'], color_pct: 0.2, player: 1 },\n    { name: '0-40', pos: pos['p0-3'], color_pct: 0, player: 1 },\n    { name: '40-A', pos: pos['p4-3'], color_pct: 0.5, player: 1 },\n\n    { name: '15-0', pos: pos['p1-0'], color_pct: 0.4, player: 0 },\n    { name: '30-15', pos: pos['p2-1'], color_pct: 0.4, player: 0 },\n    { name: '30-0', pos: pos['p2-0'], color_pct: 0.2, player: 0 },\n    { name: '40-30', pos: pos['p3-2'], color_pct: 0.4, player: 0 },\n    { name: '40-15', pos: pos['p3-1'], color_pct: 0.2, player: 0 },\n    { name: '40-0', pos: pos['p3-0'], color_pct: 0, player: 0 },\n    { name: 'A-40', pos: pos['p3-4'], color_pct: 0.5, player: 0 }\n  ];\n\n  const point_lines = [\n    { id: 'L0-0x0-1', start: pos['p0-0'], end: pos['p0-1'] },\n    { id: 'L0-0x1-0', start: pos['p0-0'], end: pos['p1-0'] },\n    { id: 'L0-1x0-2', start: pos['p0-1'], end: pos['p0-2'] },\n    { id: 'L0-1x1-1', start: pos['p0-1'], end: pos['p1-1'] },\n    { id: 'L1-0x2-0', start: pos['p1-0'], end: pos['p2-0'] },\n    { id: 'L1-0x1-1', start: pos['p1-0'], end: pos['p1-1'] },\n    { id: 'L1-1x1-2', start: pos['p1-1'], end: pos['p1-2'] },\n    { id: 'L1-1x2-1', start: pos['p1-1'], end: pos['p2-1'] },\n    { id: 'L2-0x2-1', start: pos['p2-0'], end: pos['p2-1'] },\n    { id: 'L2-0x3-0', start: pos['p2-0'], end: pos['p3-0'] },\n    { id: 'L2-1x2-2', start: pos['p2-1'], end: pos['p2-2'] },\n    { id: 'L2-1x3-1', start: pos['p2-1'], end: pos['p3-1'] },\n    { id: 'L2-2x2-3', start: pos['p2-2'], end: pos['p2-3'] },\n    { id: 'L2-2x3-2', start: pos['p2-2'], end: pos['p3-2'] },\n    { id: 'L0-2x0-3', start: pos['p0-2'], end: pos['p0-3'] },\n    { id: 'L0-2x1-2', start: pos['p0-2'], end: pos['p1-2'] },\n    { id: 'L0-3x0-4', start: pos['p0-3'], end: pos['p0-4'] },\n    { id: 'L0-3x1-3', start: pos['p0-3'], end: pos['p1-3'] },\n    { id: 'L1-2x2-2', start: pos['p1-2'], end: pos['p2-2'] },\n    { id: 'L1-2x1-3', start: pos['p1-2'], end: pos['p1-3'] },\n    { id: 'L1-3x2-3', start: pos['p1-3'], end: pos['p2-3'] },\n    { id: 'L1-3x1-4', start: pos['p1-3'], end: pos['p1-4'] },\n    { id: 'L2-3x3-3', start: pos['p2-3'], end: pos['p3-3'] },\n    { id: 'L2-3x2-4', start: pos['p2-3'], end: pos['p2-4'] },\n    { id: 'L3-3x3-4', start: pos['p3-3'], end: pos['p4-3'] },\n    { id: 'L3-3x4-3', start: pos['p3-3'], end: pos['p3-4'] },\n    { id: 'L3-2x3-3', start: pos['p3-2'], end: pos['p3-3'] },\n    { id: 'L3-2x4-2', start: pos['p3-2'], end: pos['p4-2'] },\n    { id: 'L3-1x3-2', start: pos['p3-1'], end: pos['p3-2'] },\n    { id: 'L3-1x4-1', start: pos['p3-1'], end: pos['p4-1'] },\n    { id: 'L3-0x3-1', start: pos['p3-0'], end: pos['p3-1'] },\n    { id: 'L3-0x4-0', start: pos['p3-0'], end: pos['p4-0'] },\n    { id: 'L3-4x3-5', start: pos['p4-3'], end: pos['p5-3'] },\n    { id: 'L4-3x5-3', start: pos['p3-4'], end: pos['p3-5'] },\n\n    // no Ad\n    { id: 'L3-3xG-3', start: pos['p3-3'], end: pos['pG-3'] },\n    { id: 'L3-3x3-G', start: pos['p3-3'], end: pos['p3-G'] }\n  ];\n\n  const under_lines = [\n    { stroke: 'blue', start: pos['L1s'], end: pos['L1e'], width: 2 },\n    { stroke: 'blue', start: pos['L2s'], end: pos['L2e'], width: 2 }\n  ];\n\n  const point_text = [\n    { pos: pos['p0-0'], fill: 'black', fontsize: 0.7, text: '0-0' },\n    { pos: pos['p1-1'], fill: 'black', fontsize: 0.7, text: '15-15' },\n    { pos: pos['p2-2'], fill: 'black', fontsize: 0.7, text: '30-30' },\n    { pos: pos['p3-3'], fill: 'black', fontsize: 0.7, text: '40-40' },\n\n    { pos: pos['p0-1'], fill: 'white', fontsize: 0.7, text: '0-15' },\n    { pos: pos['p1-2'], fill: 'white', fontsize: 0.7, text: '15-30' },\n    { pos: pos['p0-2'], fill: 'white', fontsize: 0.7, text: '0-30' },\n    { pos: pos['p2-3'], fill: 'white', fontsize: 0.7, text: '30-40' },\n    { pos: pos['p1-3'], fill: 'white', fontsize: 0.7, text: '15-40' },\n    { pos: pos['p0-3'], fill: 'white', fontsize: 0.7, text: '0-40' },\n    { pos: pos['p4-3'], fill: 'white', fontsize: 0.7, text: '40-A' },\n\n    { pos: pos['p1-0'], fill: 'white', fontsize: 0.7, text: '15-0' },\n    { pos: pos['p2-1'], fill: 'white', fontsize: 0.7, text: '30-15' },\n    { pos: pos['p2-0'], fill: 'white', fontsize: 0.7, text: '30-0' },\n    { pos: pos['p3-2'], fill: 'white', fontsize: 0.7, text: '40-30' },\n    { pos: pos['p3-1'], fill: 'white', fontsize: 0.7, text: '40-15' },\n    { pos: pos['p3-0'], fill: 'white', fontsize: 0.7, text: '40-0' },\n    { pos: pos['p3-4'], fill: 'white', fontsize: 0.7, text: 'A-40' }\n  ];\n\n  const label_text = [\n    { pos: pos['tPlyr'], fill: 'black', fontsize: 0.9, id: 'Player', anchor: 'middle', baseline: 'hanging' },\n    { pos: pos['tOpp'], fill: 'black', fontsize: 0.9, id: 'Opponent', anchor: 'middle', baseline: 'hanging' },\n    { pos: pos['GAME'], fill: '#555555', fontsize: 0.9, id: 'Game', anchor: 'middle', baseline: 'central' }\n  ];\n\n  const selectors = [\n    { id: 'Player', pos: pos['sPlyr'], r_pct: 0.4, opacity: 1, status: 'none' },\n    { id: 'Opponent', pos: pos['sOpp'], r_pct: 0.4, opacity: 0.4, status: 'none' }\n  ];\n\n  // Helper Functions\n  // ----------------\n\n  // http://stackoverflow.com/questions/5560248/programmatically-lighten-or-darken-a-hex-color-or-rgb-and-blend-colors\n  function shadeColor2(color, percent) {\n    const f = parseInt(color.slice(1), 16),\n      t = percent < 0 ? 0 : 255,\n      p = percent < 0 ? percent * -1 : percent,\n      R = f >> 16,\n      G = (f >> 8) & 0x00ff,\n      B = f & 0x0000ff;\n    return (\n      '#' +\n      (\n        0x1000000 +\n        (Math.round((t - R) * p) + R) * 0x10000 +\n        (Math.round((t - G) * p) + G) * 0x100 +\n        (Math.round((t - B) * p) + B)\n      )\n        .toString(16)\n        .slice(1)\n    );\n  }\n\n  /*\n  function blendColors(c0, c1, p) {\n    const f = parseInt(c0.slice(1), 16),\n      t = parseInt(c1.slice(1), 16),\n      R1 = f >> 16,\n      G1 = (f >> 8) & 0x00ff,\n      B1 = f & 0x0000ff,\n      R2 = t >> 16,\n      G2 = (t >> 8) & 0x00ff,\n      B2 = t & 0x0000ff;\n    return (\n      '#' +\n      (\n        0x1000000 +\n        (Math.round((R2 - R1) * p) + R1) * 0x10000 +\n        (Math.round((G2 - G1) * p) + G1) * 0x100 +\n        (Math.round((B2 - B1) * p) + B1)\n      )\n        .toString(16)\n        .slice(1)\n    );\n  }\n  */\n\n  function shadeRGBColor(color, percent) {\n    const f = color.split(','),\n      t = percent < 0 ? 0 : 255,\n      p = percent < 0 ? percent * -1 : percent,\n      R = parseInt(f[0].slice(4)),\n      G = parseInt(f[1]),\n      B = parseInt(f[2]);\n    return (\n      'rgb(' +\n      (Math.round((t - R) * p) + R) +\n      ',' +\n      (Math.round((t - G) * p) + G) +\n      ',' +\n      (Math.round((t - B) * p) + B) +\n      ')'\n    );\n  }\n\n  /*\n  function blendRGBColors(c0, c1, p) {\n    const f = c0.split(','),\n      t = c1.split(','),\n      R = parseInt(f[0].slice(4)),\n      G = parseInt(f[1]),\n      B = parseInt(f[2]);\n    return (\n      'rgb(' +\n      (Math.round((parseInt(t[0].slice(4)) - R) * p) + R) +\n      ',' +\n      (Math.round((parseInt(t[1]) - G) * p) + G) +\n      ',' +\n      (Math.round((parseInt(t[2]) - B) * p) + B) +\n      ')'\n    );\n  }\n  */\n\n  function colorShade(color, percent) {\n    if (color.length > 7) return shadeRGBColor(color, percent);\n    else return shadeColor2(color, percent);\n  }\n\n  /*\n  function colorBlend(color1, color2, percent) {\n    if (color1.length > 7) return blendRGBColors(color1, color2, percent);\n    else return blendColors(color1, color2, percent);\n  }\n  */\n\n  // http://stackoverflow.com/questions/1573053/javascript-function-to-convert-color-names-to-hex-codes\n  function getHexColor(colorStr) {\n    const a = document.createElement('div');\n    a.style.color = colorStr;\n    const colors = window\n      .getComputedStyle(document.body.appendChild(a))\n      .color.match(/\\d+/g)\n      .map(function (a) {\n        return parseInt(a, 10);\n      });\n    document.body.removeChild(a);\n    return colors.length >= 3\n      ? '#' + ((1 << 24) + (colors[0] << 16) + (colors[1] << 8) + colors[2]).toString(16).substr(1)\n      : false;\n  }\n\n  return chart;\n}\n","import * as d3 from 'd3';\nimport { rallyCount } from '../functions/legacyRally';\n\nexport function ptsMatch() {\n  let match_data: any;\n\n  const options: any = {\n    id: 0,\n    class: 'ptsMatch',\n\n    resize: true,\n    width: window.innerWidth,\n    height: 80,\n    max_height: 100,\n\n    margins: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n    },\n\n    set: {\n      average_points: 56,\n    },\n\n    lines: {\n      width: 2,\n      interpolation: 'linear',\n    },\n\n    points: {\n      max_width_points: 100,\n    },\n\n    score: {\n      font: 'Arial',\n      font_size: '12px',\n      font_weight: 'bold',\n      reverse: true,\n    },\n\n    header: {\n      font: 'Arial',\n      font_size: '14px',\n      font_weight: 'bold',\n    },\n\n    display: {\n      sizeToFit: true,\n      transition_time: 0,\n      point_highlighting: true,\n      point_opacity: 0.4,\n      win_err_highlight: true,\n      game_highlighting: true,\n      game_opacity: 0.2,\n      game_boundaries: true,\n      gamepoints: false,\n      score: true,\n      points: true,\n      winner: true,\n    },\n\n    colors: {\n      orientation: 'yellow',\n      gamepoints: 'black',\n      players: { 0: '#a55194', 1: '#6b6ecf' },\n    },\n  };\n\n  // functions which should be accessible via ACCESSORS\n  let update: any;\n\n  // programmatic\n  const pts_sets: any[] = [];\n  let dom_parent;\n\n  // prepare charts\n  const pts_charts: any[] = [];\n  for (let s = 0; s < 5; s++) {\n    pts_charts.push(ptsChart());\n  }\n\n  // DEFINABLE EVENTS\n  // Define with ACCESSOR function chart.events()\n  const events: any = {\n    update: { begin: null, end: null },\n    set_box: { mouseover: null, mouseout: null },\n    point_bars: { mouseover: null, mouseout: null, click: null },\n  };\n\n  function chart(selection) {\n    dom_parent = selection;\n\n    if (options.display.sizeToFit) {\n      const dims = selection.node().getBoundingClientRect();\n      options.width = Math.max(dims.width, 400);\n    }\n\n    // append svg\n    const root = dom_parent\n      .append('div')\n      .attr('class', options.class + 'root')\n      .style('width', options.width + 'px')\n      .style('height', options.height + 'px');\n\n    for (let s = 0; s < 5; s++) {\n      pts_sets[s] = root.append('div').attr('class', 'pts').style('display', 'none');\n      pts_sets[s].call(pts_charts[s]);\n    }\n\n    update = function (opts) {\n      const sets = match_data.sets();\n\n      if (options.display.sizeToFit || opts?.sizeToFit) {\n        const dims = selection.node().getBoundingClientRect();\n        options.width = Math.max(dims.width, 400);\n        options.height = (dims.height - (+options.margins.top + +options.margins.bottom)) / sets.length;\n        if (options.height > options.max_height) options.height = options.max_height;\n      }\n\n      let true_height = 0;\n      for (let s = 0; s < pts_charts.length; s++) {\n        if (sets?.[s]?.history.points().length) {\n          pts_sets[s].style('display', 'inline');\n          pts_charts[s].width(options.width);\n          pts_charts[s].height(options.height);\n          pts_charts[s].update();\n          true_height += +options.height + 5;\n        } else {\n          pts_sets[s].style('display', 'none');\n        }\n      }\n\n      root.style('width', options.width + 'px').style('height', true_height + 'px');\n    };\n  }\n\n  // ACCESSORS\n\n  // allows updating individual options and suboptions\n  // while preserving state of other options\n  chart.options = function (values) {\n    if (!arguments.length) return options;\n    keyWalk(values, options);\n    return chart;\n  };\n\n  function keyWalk(valuesObject: any, optionsObject: any) {\n    if (!valuesObject || !optionsObject) return;\n    const vKeys = Object.keys(valuesObject);\n    const oKeys = Object.keys(optionsObject);\n    for (const key of vKeys) {\n      if (oKeys.indexOf(key) >= 0) {\n        const oo = optionsObject[key];\n        const vo = valuesObject[key];\n        if (typeof oo == 'object' && typeof vo !== 'function' && oo && oo.constructor !== Array) {\n          keyWalk(valuesObject[key], optionsObject[key]);\n        } else {\n          optionsObject[key] = valuesObject[key];\n        }\n      }\n    }\n  }\n\n  chart.events = function (functions: any) {\n    if (!arguments.length) return events;\n    keyWalk(functions, events);\n    return chart;\n  };\n\n  chart.colors = function (colores: any) {\n    if (!arguments.length) return options.colors;\n    options.colors.players = colores;\n    return chart;\n  };\n\n  chart.width = function (value: any) {\n    if (!arguments.length) return options.width;\n    options.width = value;\n    if (typeof update === 'function') update(true);\n    pts_charts.forEach(function (e) {\n      e.width(value);\n    });\n    return chart;\n  };\n\n  chart.height = function (value) {\n    if (!arguments.length) return options.height;\n    options.height = value;\n    if (typeof update === 'function') update(true);\n    pts_charts.forEach(function (e) {\n      e.height(value);\n    });\n    return chart;\n  };\n\n  chart.duration = function (value) {\n    if (!arguments.length) return options.display.transition_time;\n    options.display.transition_time = value;\n    return chart;\n  };\n\n  chart.update = function (opts?: any) {\n    if (events.update.begin) events.update.begin();\n    const sets = match_data.sets();\n    const max_width_points = Math.max(\n      ...sets.map((set, index) => set.history.points().filter((f) => f.set == index).length),\n    );\n    if (sets.length > 1) chart.options({ points: { max_width_points } });\n    sets.forEach(function (_, i: number) {\n      pts_charts[i].data(sets[i]);\n      pts_charts[i].options({ id: i });\n      pts_charts[i].options({\n        lines: options.lines,\n        points: options.points,\n        score: options.score,\n        header: options.header,\n      });\n      pts_charts[i].options({ set: options.set, display: options.display, colors: options.colors });\n      pts_charts[i].events(events);\n      pts_charts[i].width(options.width).height(options.height).update(opts);\n    });\n    if (typeof update === 'function') update(opts);\n    setTimeout(function () {\n      if (events.update.end) events.update.end();\n    }, options.display.transition_time);\n    return true;\n  };\n\n  chart.data = function (matchObject) {\n    if (!arguments.length) {\n      return match_data;\n    }\n    match_data = matchObject;\n    chart.update();\n  };\n\n  return chart;\n}\n\nfunction ptsChart() {\n  let set_data;\n\n  let game_data;\n  let points_to_set;\n\n  const winners = ['Ace', 'Winner', 'Serve Winner'];\n  const errors = ['Forced Error', 'Unforced Error', 'Double Fault', 'Penalty', 'Out', 'Net'];\n\n  const options = {\n    id: 0,\n    class: 'ptsChart',\n\n    resize: true,\n    width: window.innerWidth,\n    height: 80,\n\n    margins: {\n      top: 5,\n      right: 15,\n      bottom: 5,\n      left: 5,\n    },\n\n    set: {\n      average_points: 56,\n    },\n\n    lines: {\n      width: 2,\n      interpolation: 'linear',\n    },\n\n    points: {\n      max_width_points: 100,\n    },\n\n    score: {\n      font: 'Arial',\n      font_size: '12px',\n      font_weight: 'bold',\n      reverse: true,\n    },\n\n    header: {\n      font: 'Arial',\n      font_size: '14px',\n      font_weight: 'bold',\n    },\n\n    display: {\n      transition_time: 0,\n      point_highlighting: true,\n      point_opacity: 0.4,\n      win_err_highlight: true,\n      game_highlighting: true,\n      game_opacity: 0.2,\n      game_boundaries: false,\n      gamepoints: false,\n      score: true,\n      points: true,\n      winner: true,\n    },\n\n    colors: {\n      orientation: 'yellow',\n      gamepoints: 'black',\n      players: { 0: 'blue', 1: 'purple' },\n    },\n  };\n\n  // functions which should be accessible via ACCESSORS\n  let update;\n\n  // programmatic\n  let dom_parent;\n\n  // DEFINABLE EVENTS\n  // Define with ACCESSOR function chart.events()\n  const events = {\n    set_box: { mouseover: null, mouseout: null },\n    update: { begin: null, end: null },\n    point_bars: { mouseover: null, mouseout: null, click: null },\n  };\n\n  function chart(selection) {\n    selection.each(function (_, i: number, n: any) {\n      dom_parent = d3.select(n[i]);\n\n      // append svg\n      const root = dom_parent\n        .append('svg')\n        .attr('class', options.class + 'root')\n        .style('width', options.width + 'px')\n        .style('height', options.height + 'px');\n\n      // append children g\n      const pts = root\n        .append('g')\n        .attr('class', options.class + 'pts')\n        .attr('transform', 'translate(5, 5)');\n\n      // For Point Bars which must always be on top\n      const ptsHover = root\n        .append('g')\n        .attr('class', options.class + 'pts')\n        .attr('transform', 'translate(5, 5)');\n\n      // append labels\n      const set_winner = pts\n        .append('text')\n        .attr('class', options.class + 'Header')\n        .attr('opacity', 0)\n        .attr('font-size', options.header.font_size)\n        .attr('font-weight', options.header.font_weight)\n        .attr('x', function () {\n          return options.margins.left + 'px';\n        })\n        .attr('y', function () {\n          return options.margins.top + 8 + 'px';\n        });\n\n      const set_score = pts\n        .append('text')\n        .attr('class', options.class + 'Score')\n        .attr('opacity', 0)\n        .attr('font-size', options.score.font_size)\n        .attr('font-weight', options.score.font_weight)\n        .attr('x', function () {\n          return options.margins.left + 'px';\n        })\n        .attr('y', function () {\n          return options.margins.top + 20 + 'px';\n        });\n\n      // resize used to disable transitions during resize operation\n      update = function (_, resize?: boolean) {\n        if (!set_data) {\n          return false;\n        }\n\n        root\n          .transition()\n          .duration(options.display.transition_time)\n          .style('width', options.width + 'px')\n          .style('height', options.height + 'px');\n\n        const points = set_data.history.action('addPoint').filter((f) => f.point.set == options.id);\n        const range_start = points[0].point.index;\n\n        game_data = groupGames(points);\n        points_to_set = points.map((p) => p.needed.points_to_set);\n        const pts_max = Math.max(\n          ...[].concat(\n            points_to_set.map((p) => p[0]),\n            points_to_set.map((p) => p[1]),\n          ),\n        );\n        const pts_start = Math.max(...points_to_set[0]);\n\n        // add pts prior to first point\n        points_to_set.unshift([pts_start, pts_start]);\n\n        const longest_rally =\n          Math.max.apply(\n            null,\n            points.map(function (m) {\n              return m.point.rally ? rallyCount(m.point.rally) : 0;\n            }),\n          ) + 2;\n\n        displayScore(resize);\n\n        const xScale = d3\n          .scaleLinear()\n          .domain([0, calcWidth()])\n          .range([0, options.width - (options.margins.left + options.margins.right)]);\n\n        function pointScale(d, r, a) {\n          if (d.range[r] < range_start) return xScale(d.range[r] + a);\n          return xScale(d.range[r] + a - range_start);\n        }\n\n        const yScale = d3\n          .scaleLinear()\n          .range([options.height - (options.margins.top + options.margins.bottom), options.margins.bottom])\n          .domain([-2, pts_max - 1]);\n\n        // Set Box\n        const set_box = pts.selectAll('.' + options.class + 'SetBox').data([options.id]); // # of list elements only used for index, data not important\n\n        set_box\n          .enter()\n          .append('rect')\n          .attr('class', options.class + 'SetBox')\n          .style('position', 'relative')\n          .attr('height', function () {\n            return options.height - (options.margins.top + options.margins.bottom);\n          })\n          .attr('width', function () {\n            return xScale(boxWidth() + 1);\n          })\n          .attr('stroke', 'black')\n          .attr('stroke-width', 1)\n          .attr('fill', 'none')\n          .on('mouseover', function (d, i) {\n            if (events.set_box.mouseover) events.set_box.mouseover(d, i);\n          })\n          .on('mouseout', function (d, i) {\n            if (events.set_box.mouseout) events.set_box.mouseout(d, i);\n          })\n          .merge(set_box)\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time)\n          .attr('height', function () {\n            return options.height - (options.margins.top + options.margins.bottom);\n          })\n          .attr('width', function () {\n            return xScale(boxWidth() + 1);\n          });\n\n        set_box\n          .exit()\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time)\n          .style('opacity', 0)\n          .remove();\n\n        // Game Boundaries\n        const game_boundaries = pts.selectAll('.' + options.class + 'GameBoundary').data(game_data);\n\n        game_boundaries.exit().remove();\n\n        game_boundaries\n          .enter()\n          .append('rect')\n          .attr('class', options.class + 'GameBoundary')\n          .merge(game_boundaries)\n          .attr('id', function (_, i: number) {\n            return options.class + options.id + 'boundary' + i;\n          })\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time)\n          .attr('opacity', function () {\n            return options.display.game_boundaries ? 0.02 : 0;\n          })\n          .attr('transform', function (d: any) {\n            return 'translate(' + pointScale(d, 0, 0) + ', 0)';\n          })\n          .attr('height', yScale(-2))\n          .attr('width', function (d: any) {\n            return pointScale(d, 1, 1) - pointScale(d, 0, 0);\n          })\n          .attr('stroke', 'black')\n          .attr('stroke-width', 1)\n          .attr('fill', 'none');\n\n        // Game Boxes\n        const game_boxes = pts.selectAll('.' + options.class + 'Game').data(game_data);\n\n        game_boxes.exit().remove();\n\n        game_boxes\n          .enter()\n          .append('rect')\n          .attr('class', options.class + 'Game')\n          .merge(game_boxes)\n          .attr('id', function (_, i: number) {\n            return options.class + options.id + 'game' + i;\n          })\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time)\n          .attr('opacity', function () {\n            return options.display.game_boundaries ? 0.02 : 0;\n          })\n          .attr('transform', function (d: any) {\n            return 'translate(' + pointScale(d, 0, 0) + ', 0)';\n          })\n          .attr('height', yScale(-2))\n          .attr('width', function (d: any) {\n            return pointScale(d, 1, 1) - pointScale(d, 0, 0);\n          })\n          .attr('stroke', function (d: any) {\n            return options.colors.players[d.winner];\n          })\n          .attr('stroke-width', 1)\n          .attr('fill', function (d: any) {\n            return d.winner != undefined ? options.colors.players[d.winner] : 'none';\n          });\n\n        // Player PTS Lines\n        const lineGen = d3\n          .line()\n          .x(function (_, i: number) {\n            return xScale(i);\n          })\n          .y(function (d: number) {\n            return yScale(pts_max - d);\n          });\n\n        const pts_lines = pts.selectAll('.' + options.class + 'Line').data([0, 1]);\n\n        pts_lines.exit().remove();\n\n        pts_lines\n          .enter()\n          .append('path')\n          .attr('class', options.class + 'Line')\n          .attr('id', function (d) {\n            return options.class + options.id + 'player' + d + 'Line';\n          })\n          .attr('fill', 'none')\n          .merge(pts_lines)\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time / 2)\n          .style('opacity', 0.1)\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time / 2)\n          .style('opacity', 1)\n          .attr('stroke', function (d) {\n            return options.colors.players[d];\n          })\n          .attr('stroke-width', function () {\n            return options.lines.width;\n          })\n          // .attr('d', function(d) { return lineGen(player_data[d]) })\n          .attr('d', function (d) {\n            return lineGen(points_to_set.map((p) => p[d]));\n          });\n\n        const bp_data = [\n          points_to_set.map((p) => {\n            return { pts: p[0] };\n          }),\n          points_to_set.map((p) => {\n            return { pts: p[1] };\n          }),\n        ];\n        const bp_wrappers = pts.selectAll('.' + options.class + 'BPWrapper').data(bp_data);\n\n        bp_wrappers\n          .enter()\n          .append('g')\n          .attr('class', options.class + 'BPWrapper');\n\n        bp_wrappers.exit().remove();\n\n        const breakpoints = bp_wrappers.selectAll('.' + options.class + 'Breakpoint').data(function (d, i) {\n          return add_index(d, i);\n        });\n\n        breakpoints.exit().attr('opacity', '0').remove();\n\n        breakpoints\n          .enter()\n          .append('circle')\n          .attr('class', options.class + 'Breakpoint')\n          .attr('opacity', '0')\n          .merge(breakpoints)\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time / 2)\n          .style('opacity', 0)\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time / 2)\n          .attr('fill', function (d, i) {\n            if (points[i - 1] && points[i - 1].point.breakpoint != undefined) {\n              return options.colors.players[d._i];\n            }\n          })\n          .style('opacity', function (d, i) {\n            if (points[i - 1] && points[i - 1].point.breakpoint != undefined) {\n              // return points[i - 1].point.breakpoint == d._i ? 1 : 0\n              return points[i - 1].point.server == 1 - d._i ? 1 : 0;\n            }\n          })\n          .attr('cx', function (_, i: number) {\n            return xScale(i);\n          })\n          .attr('cy', function (d: any) {\n            return yScale(pts_max - d.pts);\n          })\n          .attr('r', 2);\n\n        const points_index = d3.range(points.length);\n        const barsX = d3\n          .scaleBand()\n          .domain(points_index)\n          .range([0, xScale(points.length)])\n          .round(true);\n\n        const bX = d3\n          .scaleLinear()\n          .domain([0, points.length])\n          .range([0, xScale(points.length)]);\n\n        // gradients cause hover errors when data is replaced\n        pts.selectAll('.gradient' + options.id).remove();\n\n        const gradients = pts.selectAll('.gradient' + options.id).data(d3.range(points.length)); // data not important, only length of array\n\n        gradients.exit().remove();\n\n        gradients\n          .enter()\n          .append('linearGradient')\n          .attr('id', function (_, i: number) {\n            return 'gradient' + options.id + i;\n          })\n          .attr('class', function () {\n            return 'gradient' + options.id;\n          })\n          .attr('gradientUnits', 'userSpaceOnUse')\n          .attr('x1', function () {\n            return barsX.bandwidth() / 2;\n          })\n          .attr('y1', function () {\n            return 0;\n          })\n          .attr('x2', function () {\n            return barsX.bandwidth() / 2;\n          })\n          .attr('y2', function () {\n            return yScale(-2);\n          })\n          .merge(gradients)\n          .attr('transform', function (_, i: number) {\n            return 'translate(' + bX(i) + ', 0)';\n          });\n\n        const point_stops = gradients.selectAll('.points_stop').data(function (d: any) {\n          return calcStops(points[d].point);\n        });\n\n        point_stops.exit().remove();\n\n        point_stops\n          .enter()\n          .append('stop')\n          .attr('class', 'points_stop')\n          .attr('offset', function (d) {\n            return d.offset;\n          })\n          .attr('stop-color', function (d) {\n            return d.color;\n          })\n          .merge(point_stops)\n          .attr('offset', function (d) {\n            return d.offset;\n          });\n\n        const point_bars = ptsHover.selectAll('.' + options.class + 'Bar').data(d3.range(points.length)); // data not important, only length of array\n\n        point_bars\n          .exit()\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time)\n          .attr('opacity', '0')\n          .remove();\n\n        point_bars\n          .enter()\n          .append('line')\n          .attr('class', options.class + 'Bar')\n          .attr('opacity', '0')\n          .merge(point_bars)\n          .attr('opacity', '0')\n          .attr('transform', function (_, i: number) {\n            return 'translate(' + bX(i) + ', 0)';\n          })\n          .attr('x1', function () {\n            return barsX.bandwidth() / 2;\n          })\n          .attr('y1', function () {\n            return 0;\n          })\n          .attr('x2', function () {\n            return barsX.bandwidth() / 2;\n          })\n          .attr('y2', function () {\n            return yScale(-2);\n          })\n          .attr('stroke-width', function () {\n            return barsX.bandwidth();\n          })\n          .attr('stroke', function (_, i: number) {\n            return 'url(#gradient' + options.id + i + ')';\n          })\n          .attr('uid', function (_, i: number) {\n            return 'point' + i;\n          })\n          .on('mousemove', function (d: any, i: number, n: Node) {\n            if (options.display.point_highlighting) {\n              d3.select(n[i]).attr('opacity', options.display.point_opacity);\n            }\n            if (options.display.game_highlighting && points[i]) {\n              d3.select('[id=\"' + options.class + options.id + 'game' + points[i].point.game + '\"]').attr(\n                'opacity',\n                options.display.game_opacity,\n              );\n            }\n            if (events.point_bars.mouseover) {\n              events.point_bars.mouseover(points[d], i);\n            }\n            if (d == 0) {\n              ptsHover.selectAll('.' + options.class + 'Bar').attr('opacity', options.display.point_opacity);\n            }\n            /** highlightScore(d, i); */\n          })\n          .on('mouseout', function (d, i) {\n            ptsHover.selectAll('.' + options.class + 'Bar').attr('opacity', 0);\n            pts.selectAll('.' + options.class + 'Game').attr('opacity', '0');\n            if (events.point_bars.mouseout) {\n              events.point_bars.mouseout(points[d], i);\n            }\n            displayScore();\n          })\n          .on('click', function (d: any, i: number, n: Node) {\n            if (events.point_bars.click) {\n              events.point_bars.click(points[d], i, n[i]);\n            }\n          });\n\n        function displayScore(resize?: boolean) {\n          const winner = set_data.winner();\n          const players = set_data.metadata.players();\n          function lastName(name) {\n            const split = name.split(' ');\n            return split[split.length - 1];\n          }\n          const legend =\n            winner != undefined ? players[winner].name : `${lastName(players[0].name)}/${lastName(players[1].name)}`;\n\n          set_winner\n            .transition()\n            .duration(resize ? 0 : options.display.transition_time)\n            .attr('opacity', 1)\n            .attr('fill', winner != undefined ? options.colors.players[winner] : 'black')\n            .text(legend);\n\n          const game_score = set_data.scoreboard(winner);\n          set_score\n            .transition()\n            .duration(resize ? 0 : options.display.transition_time)\n            .attr('opacity', 1)\n            .attr('fill', winner != undefined ? options.colors.players[winner] : 'black')\n            .text(game_score);\n        }\n\n        function calcStops(point) {\n          let win_pct = 0;\n          let err_pct = 0;\n          let u_pct = 0;\n\n          if (options.display.win_err_highlight) {\n            console.log('calcstops:', point);\n            const rally = point.rally;\n            const result = point.result;\n            const rally_pct = rally ? 100 - Math.floor((rallyCount(rally) / longest_rally) * 100) : 100;\n            if (winners.indexOf(result) >= 0) {\n              win_pct = rally_pct;\n            } else if (errors.indexOf(result) >= 0) {\n              err_pct = rally_pct;\n            } else {\n              u_pct = rally_pct;\n            }\n          }\n\n          return [\n            { offset: '0%', color: 'blue' },\n            { offset: u_pct + '%', color: 'blue' },\n            { offset: u_pct + '%', color: 'green' },\n            { offset: u_pct + win_pct + '%', color: 'green' },\n            { offset: u_pct + win_pct + '%', color: 'red' },\n            { offset: u_pct + win_pct + err_pct + '%', color: 'red' },\n            { offset: u_pct + win_pct + err_pct + '%', color: options.colors.orientation },\n            { offset: '100%', color: options.colors.orientation },\n          ];\n        }\n      };\n    });\n  }\n\n  // REUSABLE functions\n  // ------------------\n\n  function add_index(d, i) {\n    for (const item of d) {\n      item['_i'] = i;\n    }\n    return d;\n  }\n\n  function boxWidth() {\n    const dl = set_data.history.points().filter((f) => f.set == options.id).length - 1;\n    return set_data.complete() ? dl : dl < options.set.average_points ? options.set.average_points : dl;\n  }\n\n  function calcWidth() {\n    const dl = set_data.history.points().filter((f) => f.set == options.id).length - 1;\n    return Math.max(dl, options.points.max_width_points, options.set.average_points);\n  }\n\n  function groupGames(point_episodes) {\n    const games: any = [{ points: [], range: [0, 0] }];\n    let game_counter = 0;\n    let current_game = 0;\n    point_episodes.forEach((episode) => {\n      const point = episode.point;\n      if (point.game != current_game) {\n        game_counter += 1;\n        current_game = point.game;\n        games[game_counter] = { points: [], range: [point.index, point.index] };\n      }\n      games[game_counter].points.push(point);\n      games[game_counter].index = game_counter;\n      games[game_counter].set = episode.set.index;\n      games[game_counter].score = episode.game.games;\n      games[game_counter].complete = episode.game.complete;\n      games[game_counter].range[1] = point.index;\n      if (episode.game.complete) {\n        games[game_counter].winner = point.winner;\n      }\n    });\n    return games;\n  }\n\n  // ACCESSORS\n\n  // allows updating individual options and suboptions\n  // while preserving state of other options\n  chart.options = function (values) {\n    if (!arguments.length) return options;\n    const vKeys = Object.keys(values);\n    const oKeys = Object.keys(options);\n    for (const vKey of vKeys) {\n      if (oKeys.indexOf(vKey) >= 0) {\n        if (typeof options[vKey] == 'object') {\n          const sKeys = Object.keys(values[vKey]);\n          const osKeys = Object.keys(options[vKey]);\n          for (const sKey of sKeys) {\n            if (osKeys.indexOf(sKey) >= 0) {\n              options[vKey][sKey] = values[vKey][sKey];\n            }\n          }\n        } else {\n          options[vKey] = values[vKey];\n        }\n      }\n    }\n    return chart;\n  };\n\n  chart.data = function (set_object) {\n    if (!arguments.length) return set_data;\n    set_data = set_object;\n  };\n\n  chart.events = function (functions) {\n    if (!arguments.length) return events;\n    const fKeys = Object.keys(functions);\n    const eKeys = Object.keys(events);\n    for (const fKey of fKeys) {\n      if (eKeys.indexOf(fKey) >= 0) events[fKey] = functions[fKey];\n    }\n    return chart;\n  };\n\n  chart.colors = function (colores) {\n    if (!arguments.length) return options.colors;\n    options.colors.players = colores;\n    return chart;\n  };\n\n  chart.width = function (value) {\n    if (!arguments.length) return options.width;\n    options.width = value;\n    return chart;\n  };\n\n  chart.height = function (value) {\n    if (!arguments.length) return options.height;\n    options.height = value;\n    return chart;\n  };\n\n  chart.update = function (opts) {\n    if (events.update.begin) events.update.begin();\n    if (typeof update === 'function') update(opts);\n    setTimeout(function () {\n      if (events.update.end) events.update.end();\n    }, options.display.transition_time);\n    return true;\n  };\n\n  chart.duration = function (value) {\n    if (!arguments.length) return options.display.transition_time;\n    options.display.transition_time = value;\n    return chart;\n  };\n\n  return chart;\n}\n","import { changeDisplay, viewManager } from './viewManager';\nimport { charts, env, setOrientation } from './env';\nimport { momentumChart } from './momentumChart';\nimport { groupGames } from './groupGames';\nimport { gameTree } from './gameTree';\nimport { ptsMatch } from './ptsChart';\nimport { gameFish } from './gameFish';\n\nimport * as d3 from 'd3';\n\nexport function configureViz() {\n  // set up momentum\n  let pcolors: any = ['#a55194', '#6b6ecf'];\n  charts.mc = momentumChart();\n  charts.mc.options({\n    display: {\n      sizeToFit: false,\n      continuous: false,\n      orientation: 'vertical',\n      transition_time: 0,\n      service: false,\n      rally: true,\n      player: false,\n      grid: false,\n      score: true\n    },\n    colors: pcolors\n  });\n  charts.mc.events({ score: { click: showGame } });\n  d3.select('#momentumChart').call(charts.mc);\n\n  // set up gameFish\n  pcolors = { players: ['#a55194', '#6b6ecf'] };\n  charts.gamefish = gameFish();\n  charts.gamefish.options({\n    display: { sizeToFit: true },\n    colors: pcolors\n  });\n  d3.select('#gameFishChart').call(charts.gamefish);\n\n  // set up gametree\n  charts.gametree = gameTree();\n  const options = {\n    display: { sizeToFit: true },\n    lines: {\n      points: { winners: 'green', errors: '#BA1212', unknown: '#2ed2db' },\n      colors: { underlines: 'black' }\n    },\n    nodes: {\n      colors: {\n        0: pcolors.players[0],\n        1: pcolors.players[1],\n        neutral: '#ecf0f1'\n      }\n    },\n    selectors: {\n      enabled: true,\n      selected: { 0: false, 1: false }\n    }\n  };\n  charts.gametree.options(options);\n  d3.select('#gameTreeChart').call(charts.gametree);\n\n  charts.pts_match = ptsMatch();\n  charts.pts_match.options({\n    margins: { top: 40, bottom: 20 },\n    display: { sizeToFit: true }\n  });\n  charts.pts_match.data(env.match);\n  d3.select('#PTSChart').call(charts.pts_match);\n}\n\nfunction showGame(d: any) {\n  showGameFish(d.index);\n}\nexport function closeGameFish() {\n  const gFish = document.getElementById('gamefish');\n  if (gFish) gFish.style.display = 'none';\n}\nexport function showGameFish(index?: number) {\n  const gFish = document.getElementById('gamefish');\n  if (gFish) gFish.style.display = 'flex';\n  const games = groupGames();\n  const game = index != undefined ? games[index] : games[games.length - 1];\n  const gridcells = game.points[0].tiebreak ? ['0', '1', '2', '3', '4', '5', '6', '7'] : ['0', '15', '30', '40', 'G'];\n  charts.gamefish.options({\n    display: { reverse: env.swap_sides },\n    fish: {\n      gridcells: gridcells,\n      cell_size: 20\n    },\n    score: game.score\n  });\n  charts.gamefish.data(game.points).update();\n  window.scrollTo(0, 0);\n}\n\nexport function vizUpdate() {\n  const direction = env.orientation == 'landscape' ? 'horizontal' : 'vertical';\n\n  if (env.view == 'pts' && direction == 'vertical') {\n    changeDisplay('none', 'pts');\n    changeDisplay('inline', 'momentum');\n    charts.mc.width(window.innerWidth).height(820);\n    charts.mc.update();\n    env.view = 'momentum';\n  } else if (env.view == 'momentum' && direction == 'horizontal') {\n    changeDisplay('none', 'momentum');\n    changeDisplay('flex', 'pts');\n    charts.pts_match.update({ sizeToFit: true });\n    env.view = 'pts';\n  }\n\n  if (charts.gamefish) charts.gamefish.update();\n\n  const players = env.match.metadata.players();\n\n  if (charts.gametree) {\n    charts.gametree.options({\n      labels: {\n        Player: players[0].name,\n        Opponent: players[1].name\n      }\n    });\n    charts.gametree.update({ sizeToFit: true });\n  }\n}\n\nexport function orientationEvent() {\n  setOrientation();\n  vizUpdate();\n  viewManager();\n}\n","export function setWindow() {\n  // to disable context menu on the page\n  document.oncontextmenu = () => false;\n  window.addEventListener(\n    'contextmenu',\n    (e) => {\n      e.preventDefault();\n    },\n    false\n  );\n  window.onunhandledrejection = (windowEvent) => {\n    windowEvent.preventDefault();\n    const reason = windowEvent.reason;\n    const message = reason && (reason.stack || reason);\n    if (message && message.indexOf('blocked') > 0) {\n      console.warn('popup blocked');\n    } else {\n      console.warn('Unhandled rejection:', reason && (reason.stack || reason));\n    }\n  };\n}\n","import { browserStorage } from '../transition/browserStorage';\nimport { setWindow } from './setWindow';\nimport { env } from '../transition/env';\nimport { version } from './version';\n\nimport 'bulma/css/bulma.css';\nimport 'animate.css/animate.css';\nimport '../transition/css/courtHive.css';\nimport '../transition/css/swipeList.css';\nimport '../transition/css/icons.css';\n\nexport function setInitialState() {\n  console.log(`%cversion: ${version}`, 'color: lightblue');\n  const provider = browserStorage.get('mobile-provider');\n  if (provider) {\n    env.provider = provider;\n    const target: any = document.getElementById(`provider`);\n    if (target) target.value = provider;\n  }\n  setWindow();\n}\n","export function getJwtTokenStorageKey(): string {\n  const TOKEN_NAME = 'tmxToken';\n  if (!TOKEN_NAME) throw new Error('Token storage name not defined!');\n\n  return TOKEN_NAME;\n}\n","export function tmxTimer(callback, delay = 0) {\n  let remaining = delay;\n  let timerId;\n  let start;\n\n  const pause = () => {\n    remaining -= new Date() - start;\n    window.clearTimeout(timerId);\n  };\n  const reset = () => (remaining = delay);\n  const resume = () => {\n    start = new Date();\n    timerId = window.setTimeout(function () {\n      remaining = delay;\n      callback();\n    }, remaining);\n  };\n\n  resume();\n\n  return { pause, resume, reset };\n}\n","export const DOUBLE_FAULT = 'Double Fault';\nexport const CENTER = 'center';\nexport const RIGHT = 'right';\nexport const LEFT = 'left';\n","/*\n * requires bulma.css\n * animation requires animate.css\n */\n\nimport { isFunction } from '../../functions/typeOf';\nimport { tmxTimer } from '../tmxTimer';\n\nimport { CENTER, LEFT, RIGHT } from '../../transition/constants';\n\nconst containers = {};\nconst defaults = {\n  position: 'top-right',\n  clickClose: true,\n  duration: 2000,\n  offsetBottom: 0,\n  offsetRight: 0,\n  offsetLeft: 0,\n  offsetTop: 0,\n  opacity: 1,\n};\n\nconst generateStyle = (position, offsetTop, offsetBottom, offsetLeft, offsetRight) => {\n  const parts = position.split('-');\n  const left = parts.includes(LEFT) && `left:${offsetLeft}`;\n  const right = parts.includes(RIGHT) && `right:${offsetRight}`;\n  const top = parts.includes('top') && `top:${offsetTop}`;\n  const bottom = parts.includes('bottom') && `bottom:${offsetBottom}`;\n  const alignItems =\n    `align-items: ` + ((parts.includes('left') && 'flex-start') || (parts.includes('right') && 'flex-end') || CENTER);\n  const textAlign =\n    `text-align: ` + ((parts.includes('left') && 'left') || (parts.includes('right') && 'right') || CENTER);\n\n  return [left, right, top, bottom, alignItems, textAlign].filter(Boolean).join(';');\n};\n\nfunction getContainer(options) {\n  if (containers.position) return containers.position;\n\n  const container = document.createElement('div');\n  container.style =\n    'position: fixed; display: flex; flex-direction: column; width:100%; z-index: 9999; pointer-events: none;padding:15px;' +\n    generateStyle(options.position, options.offsetTop, options.offsetBottom, options.offsetLeft, options.offsetRight);\n  (options.appendTo || document.body).appendChild(container);\n  containers.position = container;\n  return container;\n}\n\nexport function toast(params) {\n  if (!params.message) return { error: 'Missing message' };\n  const options = { ...defaults, ...params };\n  const container = getContainer(options);\n  const toast = createToast(options);\n\n  if (options.onlyOne) {\n    let child = container.lastElementChild;\n    while (child) {\n      container.removeChild(child);\n      child = container.lastElementChild;\n    }\n  }\n\n  container.appendChild(toast.element);\n}\n\nfunction createToast(options) {\n  const element = document.createElement('div');\n\n  options.clickClose && element.addEventListener('click', () => cleanUp(options.onClose));\n  const timer = options.duration && tmxTimer(() => cleanUp(options.onClose), options.duration);\n\n  if (timer && options.pauseOnHover) {\n    element.addEventListener('mouseover', timer.pause);\n    element.addEventListener('mouseout', timer.resume);\n  }\n\n  element.style = `display:inline-flex;width:auto;pointer-events:auto;white-space:pre-wrap;opacity:${options.opacity};${\n    !options.dismissible ? 'padding: 1.25rem, 1.5rem;' : ''\n  }`;\n\n  const classes = ['notification'];\n  if (typeof options.classList === 'string') classes.push(options.classList);\n  if (options.type) classes.push(options.type);\n  if (options?.animate?.in) {\n    const speed = options.animate.speed ? `animate__${options.animate.speed}` : 'animate__faster';\n    const animation = `animate__${options.animate.in}`;\n    classes.push(`animate__animated ${animation} ${speed}`);\n    endAnimation(() => element.classList.remove(animation));\n  }\n\n  element.className = classes.join(' ');\n\n  if (options.dismissible) {\n    const dismissButton = document.createElement('button');\n    dismissButton.className = 'delete';\n    dismissButton.addEventListener('click', () => cleanUp(options.onClose));\n    element.insertAdjacentElement('afterbegin', dismissButton);\n  }\n\n  const container = document.createElement('div');\n  container.style = 'display: flex; flex-direction: row; align-items: center; justify-content: center;';\n\n  if (typeof options.message === 'string') {\n    container.insertAdjacentHTML('beforeend', options.message);\n  } else if (options.message) {\n    console.log(' MESSAGE ', options.message, typeof options.messsage);\n    container.appendChild(options.message);\n  }\n\n  if (isFunction(options.action?.onClick)) {\n    const actionButton = document.createElement('button');\n    actionButton.style = 'margin-left: 1em;';\n    actionButton.className = 'button';\n    actionButton.innerHTML = options.action.text || 'OK';\n    actionButton.addEventListener('click', options.action.onClick);\n    container.appendChild(actionButton);\n  }\n\n  element.appendChild(container);\n\n  return { element };\n\n  function cleanUp(onClose) {\n    if (isFunction(onClose)) onClose();\n    if (options?.animate?.out) {\n      element.classList.add(`animate__${options.animate.out}`);\n      endAnimation(() => {\n        removeParent(element.parentNode);\n        delete containers.position;\n        element.remove();\n      });\n    } else {\n      removeParent(element.parentNode);\n      delete containers.position;\n      element.remove();\n    }\n  }\n\n  function removeParent(element) {\n    if (element && element.children.length <= 1) {\n      element.remove();\n    }\n  }\n\n  function endAnimation(callback = () => {}) {\n    const animations = {\n      WebkitAnimation: 'webkitAnimationEnd',\n      MozAnimation: 'mozAnimationEnd',\n      OAnimation: 'oAnimationEnd',\n      animation: 'animationend',\n    };\n\n    for (const t in animations) {\n      if (element.style[t] !== undefined) {\n        element.addEventListener(animations[t], () => callback());\n        break;\n      }\n    }\n  }\n}\n","import { toast } from './toaster';\n\nexport function tmxToast({\n  position = 'top-center',\n  intent = 'is-success',\n  pauseOnHover = false,\n  dismissible = true,\n  clickClose = true,\n  duration = 2500,\n  single = true,\n  onClose,\n\n  offsetBottom = 0,\n  offsetRight = 0,\n  offsetLeft = 0,\n  offsetTop = 0,\n  opacity = 1,\n  message,\n  action,\n}: { [key: string]: any } = {}) {\n  toast({\n    // animate: { in: 'fadeInRight', out: 'fadeOutLeft' }, // see animate.css\n    // animate: { in: 'bounceInDown', out: 'bounceOutUp' }, // see animate.css\n    animate: { in: 'fadeIn', out: 'fadeOut' }, // see animate.css\n    pauseOnHover,\n    offsetBottom,\n    type: intent,\n    offsetRight,\n    dismissible,\n    offsetLeft,\n    clickClose,\n    offsetTop,\n    duration,\n    position,\n    message,\n    onClose,\n    opacity,\n    action,\n    single,\n  });\n}\n","import { broadcastToggle } from './coms';\n\nimport * as d3 from 'd3';\n\nexport function pulseCircle() {\n  let width: number; // in pixels\n  let height: number; // in pixels\n  let radius = 50;\n  let duration = 1000;\n  const stroke = 'black';\n  let pulse_circles = 5;\n  let stroke_width = 10;\n  let delay_multiplier = 150;\n  let color_range = ['white', 'blue'];\n  const margins = { top: 0, right: 0, bottom: 0, left: 0 };\n\n  function pulseCircle(selection: any) {\n    const dims = selection.node().getBoundingClientRect();\n    if (!height || !width) {\n      radius = Math.min(width || dims.width, dims.width, height || dims.height, dims.height) * 0.45;\n      stroke_width = radius / 3;\n    }\n    width = width || dims.width;\n    height = height || dims.height;\n\n    if (!height || !width) return;\n\n    const color = d3.scaleLinear().domain([100, 0]).range(color_range).interpolate(d3.interpolateHcl);\n\n    const colorFill = function (d: number) {\n      return color(Math.abs((d % 20) - 10));\n    };\n\n    const y = d3.scalePoint().domain(d3.range(pulse_circles)).range([0, height]);\n\n    /*\n    const z = d3\n      .scaleLinear()\n      .domain([10, 0])\n      .range(['hsl(240, 90%, 100%)', 'hsl(240,90%,40%)'])\n      .interpolate(d3.interpolateHcl);\n      */\n\n    const svg = selection.append('svg').attr('width', width).attr('height', height);\n\n    const g = svg.append('g').attr('transform', 'translate(' + margins.left + ',' + margins.top + ')');\n\n    g.selectAll('circle')\n      .data(y.domain())\n      .enter()\n      .append('circle')\n      .attr('fill', '#000')\n      .attr('stroke', stroke)\n      .attr('stroke-width', stroke_width + 'px')\n      .attr('r', 0)\n      .attr('cx', width / 2)\n      .attr('cy', height / 2)\n      .style('fill', colorFill)\n      .on('click', broadcastToggle)\n      .transition()\n      .duration(duration)\n      .delay((d: number) => {\n        return d * delay_multiplier;\n      })\n      .on('start', function repeat(_, i: number, n: any) {\n        d3.active(n[i])\n          .attr('r', radius)\n          .attr('stroke-width', '0px')\n          .transition()\n          .attr('r', 0)\n          .attr('stroke-width', stroke_width + 'px')\n          .transition()\n          .on('start', repeat);\n      });\n  }\n\n  pulseCircle.height = (d: number) => {\n    return d ? ((height = d), pulseCircle) : height;\n  };\n  pulseCircle.width = (d: number) => {\n    return d ? ((width = d), pulseCircle) : width;\n  };\n  pulseCircle.duration = (d: number) => {\n    return d ? ((duration = d), pulseCircle) : duration;\n  };\n  pulseCircle.pulse_circles = (d: number) => {\n    return d ? ((pulse_circles = d), pulseCircle) : pulse_circles;\n  };\n  pulseCircle.radius = (d: number) => {\n    return d ? ((radius = d), pulseCircle) : radius;\n  };\n  pulseCircle.delay_multiplier = (d: number) => {\n    return d ? ((delay_multiplier = d), pulseCircle) : delay_multiplier;\n  };\n  pulseCircle.stroke_width = (d: number) => {\n    return d ? ((stroke_width = d), pulseCircle) : stroke_width;\n  };\n  pulseCircle.color_range = (d: any) => {\n    return d ? ((color_range = d), pulseCircle) : color_range;\n  };\n\n  return pulseCircle;\n}\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n};\nfunction toArray(data) {\n    if (data instanceof Uint8Array) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n    }\n    else {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n    }\n}\nlet TEXT_ENCODER;\nexport function encodePacketToBinary(packet, callback) {\n    if (withNativeBlob && packet.data instanceof Blob) {\n        return packet.data\n            .arrayBuffer()\n            .then(toArray)\n            .then(callback);\n    }\n    else if (withNativeArrayBuffer &&\n        (packet.data instanceof ArrayBuffer || isView(packet.data))) {\n        return callback(toArray(packet.data));\n    }\n    encodePacket(packet, false, encoded => {\n        if (!TEXT_ENCODER) {\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\nexport { encodePacket };\n","// imported from https://github.com/socketio/base64-arraybuffer\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nexport const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type]\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            if (data instanceof Blob) {\n                // from WebSocket + binaryType \"blob\"\n                return data;\n            }\n            else {\n                // from HTTP long-polling or WebTransport\n                return new Blob([data]);\n            }\n        case \"arraybuffer\":\n        default:\n            if (data instanceof ArrayBuffer) {\n                // from HTTP long-polling (base64) or WebSocket + binaryType \"arraybuffer\"\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n    }\n};\n","import { encodePacket, encodePacketToBinary } from \"./encodePacket.js\";\nimport { decodePacket } from \"./decodePacket.js\";\nimport { ERROR_PACKET } from \"./commons.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport function createPacketEncoderStream() {\n    return new TransformStream({\n        transform(packet, controller) {\n            encodePacketToBinary(packet, encodedPacket => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        }\n    });\n}\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nexport function createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* READ_PAYLOAD */;\n                }\n                else if (state === 2 /* READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue(decodePacket(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(ERROR_PACKET);\n                    break;\n                }\n            }\n        }\n    });\n}\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload };\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","export const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\n","import { globalThisShim as globalThis } from \"./globalThis.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nimport { encode } from \"./contrib/parseqs.js\";\nexport class TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = encode(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n","// imported from https://github.com/unshiftio/yeast\n'use strict';\nconst alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''), length = 64, map = {};\nlet seed = 0, i = 0, prev;\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nexport function encode(num) {\n    let encoded = '';\n    do {\n        encoded = alphabet[num % length] + encoded;\n        num = Math.floor(num / length);\n    } while (num > 0);\n    return encoded;\n}\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nexport function decode(str) {\n    let decoded = 0;\n    for (i = 0; i < str.length; i++) {\n        decoded = decoded * length + map[str.charAt(i)];\n    }\n    return decoded;\n}\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nexport function yeast() {\n    const now = encode(+new Date());\n    if (now !== prev)\n        return seed = 0, prev = now;\n    return now + '.' + encode(seed++);\n}\n//\n// Map each character to its index.\n//\nfor (; i < length; i++)\n    map[alphabet[i]] = i;\n","// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n","// browser shim for xmlhttprequest module\nimport { hasCORS } from \"../contrib/has-cors.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nexport function XHR(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\nexport function createCookieJar() { }\n","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nimport { createCookieJar, XHR as XMLHttpRequest, } from \"./xmlhttprequest.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new XMLHttpRequest({\n        xdomain: false,\n    });\n    return null != xhr.responseType;\n})();\nexport class Polling extends Transport {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        this.polling = false;\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n        if (this.opts.withCredentials) {\n            this.cookieJar = createCookieJar();\n        }\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    poll() {\n        this.polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, cookieJar: this.cookieJar }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(uri, opts) {\n        super();\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    create() {\n        var _a;\n        const opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        const xhr = (this.xhr = new XMLHttpRequest(opts));\n        try {\n            xhr.open(this.method, this.uri, true);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(xhr);\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    onError(err) {\n        this.emitReserved(\"error\", err, this.xhr);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this.cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","import { globalThisShim as globalThis } from \"../globalThis.js\";\nexport const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return (cb) => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const WebSocket = globalThis.WebSocket || globalThis.MozWebSocket;\nexport const usingBrowserWebSocket = true;\nexport const defaultBinaryType = \"arraybuffer\";\n","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { pick } from \"../util.js\";\nimport { nextTick, usingBrowserWebSocket, WebSocket, } from \"./websocket-constructor.js\";\nimport { encodePacket } from \"engine.io-parser\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class WS extends Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @param {Object} opts - connection options\n     * @protected\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new WebSocket(uri, protocols)\n                        : new WebSocket(uri)\n                    : new WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \n                        // @ts-ignore\n                        \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @private\n     */\n    check() {\n        return !!WebSocket;\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { nextTick } from \"./websocket-constructor.js\";\nimport { createPacketDecoderStream, createPacketEncoderStream, } from \"engine.io-parser\";\nexport class WT extends Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        // @ts-ignore\n        if (typeof WebTransport !== \"function\") {\n            return;\n        }\n        // @ts-ignore\n        this.transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        this.transport.closed\n            .then(() => {\n            this.onClose();\n        })\n            .catch((err) => {\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this.transport.ready.then(() => {\n            this.transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = createPacketDecoderStream(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = createPacketEncoderStream();\n                encoderStream.readable.pipeTo(stream.writable);\n                this.writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            return;\n                        }\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this.writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this.writer.write(packet).then(() => {\n                if (lastPacket) {\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this.transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n","import { Polling } from \"./polling.js\";\nimport { WS } from \"./websocket.js\";\nimport { WT } from \"./webtransport.js\";\nexport const transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: Polling,\n};\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    if (str.length > 2000) {\n        throw \"URI too long\";\n    }\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nimport { defaultBinaryType } from \"./transports/websocket-constructor.js\";\nexport class Socket extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts = {}) {\n        super();\n        this.binaryType = defaultBinaryType;\n        this.writeBuffer = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = parse(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\n            \"polling\",\n            \"websocket\",\n            \"webtransport\",\n        ];\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this.beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        return new transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", (reason) => this.onClose(\"transport close\", reason));\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this.upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            this.resetPingTimeout();\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this.getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    getWritablePackets() {\n        const shouldCheckPayloadSize = this.maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this.maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    onError(err) {\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nSocket.protocol = protocol;\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n        }\n        else if (this.connected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        // the timeout flag is optional\n        const withErr = this.flags.timeout !== undefined || this._opts.ackTimeout !== undefined;\n        return new Promise((resolve, reject) => {\n            args.push((arg1, arg2) => {\n                if (withErr) {\n                    return arg1 ? reject(arg1) : resolve(arg2);\n                }\n                else {\n                    return resolve(arg1);\n                }\n            });\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\n","import { attemptJSONparse, formatDate, getOpponents } from './utilities';\nimport { getJwtTokenStorageKey } from '../config/getJwtTokenStorageKey';\nimport { app, env, updateAppState, updateMatchArchive } from './env';\nimport { loadDetails, stateChangeEvent } from './displayUpdate';\nimport { tmxToast } from '../services/notifications/tmxToast';\nimport { resetMatch } from './displayMatchArchive';\nimport { browserStorage } from './browserStorage';\nimport { viewManager } from './viewManager';\nimport { pulseCircle } from './pulseCircle';\nimport { version } from '../config/version';\nimport { connect } from 'socket.io-client';\nimport { closeModal } from './modals';\nimport * as d3 from 'd3';\n\ntype ComsObject = {\n  socket: any;\n};\n\nfunction getAuthorization() {\n  const token = browserStorage.get(getJwtTokenStorageKey());\n  if (!token) return undefined;\n  const authorization = `Bearer ${token}`;\n  return { authorization };\n}\n\nexport const coms: ComsObject = {\n  socket: undefined,\n};\n\nexport function connectSocket() {\n  if ((navigator.onLine || window.location.hostname == 'localhost') && !coms.socket) {\n    const server =\n      window.location.hostname.startsWith('localhost') || window.location.hostname === '127.0.0.1'\n        ? env.server || 'http://127.0.0.1:8383'\n        : // : window.location.hostname;\n          'https://courthive.net';\n\n    console.log({ server });\n    const connectionString = `${server}/mobile`;\n    const connectionOptions: any = {\n      transportOptions: { polling: { extraHeaders: getAuthorization() } },\n      reconnectionAttempts: 'Infinity',\n      'force new connection': true,\n      reconnectionDelay: 1000,\n      timeout: 20000,\n    };\n    coms.socket = connect(connectionString, connectionOptions);\n    if (coms.socket) {\n      coms.socket.on('connect', comsConnect);\n      coms.socket.on('ack', (ack) => console.log({ ack }));\n      coms.socket.on('disconnect', comsDisconnect);\n      coms.socket.on('connect_error', comsError);\n      coms.socket.on('history request', sendHistory);\n      coms.socket.on('tmx message', receiveMatchUp);\n      coms.socket.on('exception', (exeption) => console.log(exeption));\n      coms.socket.on('success', (message) => console.log(message));\n    }\n  }\n}\n\nexport function disconnectSocket() {\n  if (coms.socket) {\n    coms.socket.disconnect();\n    coms.socket = undefined;\n  }\n}\n\nexport function sendHistory() {\n  connectSocket();\n  if (coms.socket) {\n    const match = env.match.metadata.defineMatch();\n    const payload = {\n      matchUp: {\n        tournament: env.match.metadata.defineTournament(),\n        first_service: env.match.set.firstService(),\n        players: env.match.metadata.players(),\n        format: env.match.format.settings(),\n        scoreboard: env.match.scoreboard(),\n        points: env.match.history.points(),\n        provider: env.provider,\n        matchUpId: match.muid,\n        ch_version: version,\n        match,\n      },\n    };\n    if (match.muid) coms.socket.emit('mh', { type: 'history', payload });\n  }\n  closeModal();\n}\n\nfunction comsConnect() {\n  console.log('connect');\n}\nfunction comsDisconnect() {\n  console.log('socket closed');\n}\nfunction comsError() {\n  tmxToast({ message: 'No server connection', intent: 'is-danger' });\n  endBroadcast();\n}\n\nfunction receiveMatchUp(data: any) {\n  if (!data?.matchUpId) {\n    const message = `Invalid data`;\n    return tmxToast({ message });\n  }\n\n  const auth_match = attemptJSONparse(data.data);\n\n  updateMatchArchive();\n  resetMatch(auth_match.match.muid);\n\n  env.match.metadata.defineTournament({\n    name: auth_match.tournament.name,\n    tuid: auth_match.tournament.tuid,\n    start_date: formatDate(auth_match.tournament.start),\n  });\n\n  env.match.metadata.defineMatch({\n    euid: auth_match.event.euid,\n  });\n\n  const format = auth_match.teams && 2 === auth_match.teams[0].length ? 'doubles' : 'singles';\n  const teams = getOpponents({\n    sides: auth_match.teams,\n    format,\n  });\n  env.match.metadata.definePlayer({ index: 0, name: teams[0] });\n  env.match.metadata.definePlayer({ index: 1, name: teams[1] });\n\n  const surface: any = auth_match.event.surface;\n  if (surface) {\n    const surfaces: any = {\n      C: 'clay',\n      H: 'hard',\n      G: 'grass',\n    };\n    if (surfaces[surface]) {\n      env.match.metadata.defineTournament({ surface: surfaces[surface] });\n    }\n  }\n\n  const in_out = auth_match.event.inout;\n  if (in_out) {\n    const inout: any = {\n      o: 'out',\n      i: 'in',\n    };\n    if (inout[in_out]) {\n      env.match.metadata.defineTournament({ in_out: inout[in_out] });\n    }\n  }\n\n  loadDetails();\n  stateChangeEvent();\n  viewManager('entry');\n}\n\nexport function broadcasting() {\n  if (app.broadcast && coms.socket) return true;\n  if (app.broadcast) {\n    connectSocket();\n  }\n  return false;\n}\n\nexport function startBroadcast() {\n  connectSocket();\n  //@ts-expect-error unknown reason\n  const pc: any = pulseCircle().color_range(['white', 'white']).height(60).width(60).radius(28).stroke_width(5);\n  d3.select('#startpulse').style('display', 'none');\n  d3.select('#pulse').style('display', 'block').call(pc);\n}\n\nfunction endBroadcast() {\n  app.broadcast = false;\n  d3.select('#startpulse').style('display', 'flex');\n  d3.select('#pulse').style('display', 'none').selectAll('svg').remove();\n  disconnectSocket();\n}\n\nexport function sendKey(payload: any) {\n  Object.assign(payload, {\n    timestamp: new Date().getTime(),\n    uuuid: app.user_uuid,\n  });\n  if (coms.socket) {\n    coms.socket.emit('mh', { type: 'key', payload });\n    closeModal();\n  } else {\n    const message = `Connection error`;\n    tmxToast({ message, intent: 'is-danger' });\n  }\n}\n\nexport function broadcastToggle() {\n  app.broadcast = !app.broadcast;\n  if (app.broadcast) {\n    startBroadcast();\n  } else {\n    endBroadcast();\n  }\n  updateAppState();\n}\n\nexport function broadcastStatus(status: string) {\n  if (broadcasting()) {\n    const muid = env.match.metadata.defineMatch().muid;\n    const data: any = { muid, status };\n    const tournament = env.match.metadata.defineTournament();\n    data.tuid = tournament.tuid || tournament.name;\n    coms.socket.emit('mh', { type: 'status', payload: data });\n  }\n}\n","export class InvalidTokenError extends Error {\n}\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).replace(/(.)/g, (m, p) => {\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n        return \"%\" + code;\n    }));\n}\nfunction base64UrlDecode(str) {\n    let output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"base64 string is not of the correct length\");\n    }\n    try {\n        return b64DecodeUnicode(output);\n    }\n    catch (err) {\n        return atob(output);\n    }\n}\nexport function jwtDecode(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: must be a string\");\n    }\n    options || (options = {});\n    const pos = options.header === true ? 0 : 1;\n    const part = token.split(\".\")[pos];\n    if (typeof part !== \"string\") {\n        throw new InvalidTokenError(`Invalid token specified: missing part #${pos + 1}`);\n    }\n    let decoded;\n    try {\n        decoded = base64UrlDecode(part);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${pos + 1} (${e.message})`);\n    }\n    try {\n        return JSON.parse(decoded);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid json for part #${pos + 1} (${e.message})`);\n    }\n}\n","import { jwtDecode } from 'jwt-decode';\n\nexport function validateToken(token) {\n  if (!token || token === 'undefined') {\n    return undefined;\n  }\n\n  const decodedToken = jwtDecode(token);\n  const dateNow = new Date();\n\n  const tokenExpired = decodedToken?.exp < dateNow.getTime() / 1000;\n  if (tokenExpired) return undefined;\n\n  return decodedToken;\n}\n","import { coms, connectSocket, disconnectSocket } from '../../transition/coms';\nimport { getJwtTokenStorageKey } from '../../config/getJwtTokenStorageKey';\nimport { browserStorage } from '../../transition/browserStorage';\nimport { validateToken } from './validateToken';\n\nconst JWT_TOKEN_STORAGE_NAME = getJwtTokenStorageKey();\n\nexport function getLoginState() {\n  const token = browserStorage.get(JWT_TOKEN_STORAGE_NAME);\n  return validateToken(token);\n}\nexport function logOut() {\n  browserStorage.remove(JWT_TOKEN_STORAGE_NAME);\n  if (coms.socket) {\n    disconnectSocket();\n    connectSocket();\n  }\n}\n\nexport function logIn({ data }) {\n  const decodedToken = validateToken(data.token);\n  if (decodedToken) {\n    browserStorage.set(JWT_TOKEN_STORAGE_NAME, data.token);\n    disconnectSocket();\n    connectSocket();\n    console.log({ intent: 'is-success', message: 'Login successful' });\n  }\n}\n","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  value = +value;\n  return Number.isFinite(value) ? value : defaultValue;\n}\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz'\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n}\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  while (size--) {\n    str += alphabet[Math.random() * length|0]\n  }\n\n  return str;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  ALPHABET,\n  generateString,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  response && (this.response = response);\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?object} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = (\n  (product) => {\n    return hasBrowserEnv && ['ReactNative', 'NativeScript', 'NS'].indexOf(product) < 0\n  })(typeof navigator !== 'undefined' && navigator.product);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils.isString(path) && cookie.push('path=' + path);\n\n      utils.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\nimport utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n// Standard browser envs have full support of the APIs needed to test\n// whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    const msie = /(msie|trident)/i.test(navigator.userAgent);\n    const urlParsingNode = document.createElement('a');\n    let originURL;\n\n    /**\n    * Parse a URL to discover its components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      let href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n          urlParsingNode.pathname :\n          '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      const parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n          parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })();\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","'use strict';\n\nimport utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport cookies from './../helpers/cookies.js';\nimport buildURL from './../helpers/buildURL.js';\nimport buildFullPath from '../core/buildFullPath.js';\nimport isURLSameOrigin from './../helpers/isURLSameOrigin.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport speedometer from '../helpers/speedometer.js';\n\nfunction progressEventReducer(listener, isDownloadStream) {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e\n    };\n\n    data[isDownloadStream ? 'download' : 'upload'] = true;\n\n    listener(data);\n  };\n}\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    let requestData = config.data;\n    const requestHeaders = AxiosHeaders.from(config.headers).normalize();\n    let {responseType, withXSRFToken} = config;\n    let onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    let contentType;\n\n    if (utils.isFormData(requestData)) {\n      if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n        requestHeaders.setContentType(false); // Let the browser set it\n      } else if ((contentType = requestHeaders.getContentType()) !== false) {\n        // fix semicolon duplication issue for ReactNative FormData implementation\n        const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n        requestHeaders.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n      }\n    }\n\n    let request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.set('Authorization', 'Basic ' + btoa(username + ':' + password));\n    }\n\n    const fullPath = buildFullPath(config.baseURL, config.url);\n\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if(platform.hasStandardBrowserEnv) {\n      withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(config));\n\n      if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(fullPath))) {\n        // Add xsrf header\n        const xsrfValue = config.xsrfHeaderName && config.xsrfCookieName && cookies.read(config.xsrfCookieName);\n\n        if (xsrfValue) {\n          requestHeaders.set(config.xsrfHeaderName, xsrfValue);\n        }\n      }\n    }\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', progressEventReducer(config.onDownloadProgress, true));\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', progressEventReducer(config.onUploadProgress));\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(fullPath);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? thing.toJSON() : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b) => mergeDeepProperties(headersToObject(a), headersToObject(b), true)\n  };\n\n  utils.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","export const VERSION = \"1.6.7\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy;\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy = {}) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n\n        if (!err.stack) {\n          err.stack = stack;\n          // match without the 2 top stack lines\n        } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n          err.stack += '\\n' + stack\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","import { getJwtTokenStorageKey } from '../../config/getJwtTokenStorageKey';\nimport { browserStorage } from '../../transition/browserStorage';\nimport axios from 'axios';\n\nconst JWT_TOKEN_STORAGE_NAME = getJwtTokenStorageKey();\n// const baseURL = window.location.host;\nconst baseURL = 'http://localhost:8383';\nconst axiosInstance = axios.create({ baseURL });\n\naxiosInstance.interceptors.request.use(\n  (config) => {\n    const token = browserStorage.get(JWT_TOKEN_STORAGE_NAME);\n    if (token) {\n      config.headers.common.authorization = `Bearer ${token}`;\n    }\n\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  },\n);\n\naxiosInstance.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (error.message === 'Network Error') {\n      console.log({ message: error.message, intent: 'is-danger' });\n    }\n    if (error.response) {\n      if (error.response?.status === 401) removeAuthorization();\n      const message = error.response.data.message || error.response.data.error || error.response.data;\n      console.log({ message, intent: 'is-danger' });\n    }\n  },\n);\n\nconst addAuthorization = () => {\n  const token = browserStorage.get(JWT_TOKEN_STORAGE_NAME);\n  if (token) {\n    axiosInstance.defaults.headers.common.authorization = `Bearer ${token}`;\n  }\n};\n\nconst removeAuthorization = () => {\n  axiosInstance.defaults.headers.common.authorization = undefined;\n};\n\nexport const baseApi: any = {\n  ...axiosInstance,\n  removeAuthorization,\n  addAuthorization,\n};\n","import { logIn } from '../auth/loginState';\nimport { baseApi } from './baseApi';\n\nasync function systemLogin(email, password) {\n  return baseApi.post('/auth/login', {\n    password,\n    email,\n  });\n}\n\nexport function submitCredentials({ email, password }) {\n  const response = (res) => {\n    res?.status === 200 && logIn(res);\n  };\n  systemLogin(email, password).then(response, (err) => console.log({ err }));\n}\n","import { coms, connectSocket, disconnectSocket, sendHistory } from '../../transition/coms';\nimport { viewManager } from '../../transition/viewManager';\nimport { submitCredentials } from '../messaging/authApi';\nimport { app, env } from '../../transition/env';\nimport { version } from '../../config/version';\nimport { logOut } from '../auth/loginState';\n\nexport function setDev() {\n  window['dev'] = {\n    submitCredentials,\n    disconnectSocket,\n    connectSocket,\n    sendHistory,\n    viewManager,\n    version,\n    logOut,\n    coms,\n    app,\n    env,\n  };\n}\n","import { env, updateMatchArchive } from './env';\n\nexport function updateTournamentDetails() {\n  const tournament = {};\n  let attributes = ['surface', 'in_out', 'draw', 'draw_size', 'round'];\n\n  attributes.forEach((attribute) => {\n    const target_id = `tournament_${attribute}`;\n    const obj: any = document.getElementById(target_id);\n    if (obj.selectedIndex >= 0) {\n      const value = obj.options[obj.selectedIndex].value;\n      if (value) tournament[attribute] = value;\n    }\n  });\n\n  attributes = ['name', 'start_date', 'tour', 'rank'];\n  attributes.forEach((attribute) => {\n    const target: any = document.getElementById(`tournament_${attribute}`);\n    const value = target.value;\n    if (value) tournament[attribute] = value.trim();\n  });\n  env.match.metadata.defineTournament(tournament);\n  updateMatchArchive();\n}\n","import { env, updateMatchArchive } from './env';\n\nexport function updateMatchDetails() {\n  const match_details = {};\n  const attributes = ['court', 'umpire'];\n  attributes.forEach((attribute) => {\n    const target: any = document.getElementById(`match_${attribute}`);\n    const value = target.value;\n    if (value) match_details[attribute] = value;\n  });\n  env.match.metadata.defineMatch(match_details);\n  updateMatchArchive();\n}\n","import { updateTournamentDetails } from './updateTournamentDetails';\nimport { updateMatchDetails } from './updateMatchDetails';\nimport { browserStorage } from './browserStorage';\nimport { env } from './env';\n\nexport function updateDetails() {\n  updateTournamentDetails();\n  updateMatchDetails();\n  const target: any = document.getElementById(`provider`);\n  const value = target.value;\n  env.provider = value;\n\n  if (value) {\n    browserStorage.set('mobile-provider', value);\n  }\n}\n","let touchTimer: any;\nconst em: any = {\n  elapsed: 100000,\n  held: undefined,\n  touched: undefined,\n  holdTime: 800,\n  holdAction: undefined,\n  holdActions: {}\n};\nconst keys: any = {};\nlet registeredFunctions: any = {};\nconst intersection = (a: any, b: any) =>\n  a.filter((n: any) => b.indexOf(n) !== -1).filter((e: any, i: any, c: any) => c.indexOf(e) === i);\n\nem.reset = () => {\n  registeredFunctions = {};\n  return em;\n};\n\nem.register = (cls: any, evnt: any, fx: any, delay: any) => {\n  if (typeof fx == 'function') {\n    if (!registeredFunctions[evnt]) {\n      registeredFunctions[evnt] = {};\n      keys[evnt] = [];\n    }\n    registeredFunctions[evnt][cls] = { fx, delay };\n    keys[evnt] = Object.keys(registeredFunctions[evnt]);\n  }\n  return em;\n};\n\nem.deRegister = (cls: any, evnt: any) => {\n  if (registeredFunctions[evnt]) {\n    delete registeredFunctions[evnt][cls];\n    keys[evnt] = Object.keys(registeredFunctions[evnt]);\n  }\n  return em;\n};\n\nem.call = (cls: any, evnt: any, ...args: any) => {\n  return registeredFunctions?.[evnt]?.[cls]?.fx(...args);\n};\nem.trigger = (cls: any, evnt: any, target: any, mouse: any) => registeredFunctions[evnt][cls].fx(target, mouse, evnt);\nem.list = () => console.log(registeredFunctions);\n\nconst tapHandler = 'ontouchstart' in document.documentElement ? 'touchstart' : 'click';\ndocument.addEventListener(tapHandler, (evt) => processEvnt({ evt, evnt: 'tap' }));\ndocument.addEventListener('change', (evt) => processEvnt({ evt, evnt: 'change' }));\ndocument.addEventListener('click', (evt) => processEvnt({ evt, evnt: 'click' }));\ndocument.addEventListener('mouseover', (evt) => processEvnt({ evt, evnt: 'mouseover', stopPropagation: false }));\ndocument.addEventListener('mouseout', (evt) => processEvnt({ evt, evnt: 'mouseout', stopPropagation: false }));\ndocument.addEventListener('keyup', (evt) => processEvnt({ evt, evnt: 'keyup', stopPropagation: false }));\n\nlet lastTap = 0;\n\ntype AnyType = {\n  [key: string]: any;\n};\nfunction processEvnt({ evt, evnt, stopPropagation = true }: AnyType) {\n  if (stopPropagation) evt.stopPropagation();\n  const mouse = {\n    x: evt.clientX,\n    y: evt.clientY,\n    pageX: evt.pageX,\n    pageY: evt.pageY\n  };\n  const classList = Array.from(evt.target.classList);\n  const matchedClasses = classList.length && keys[evnt] ? intersection(classList, keys[evnt]) : [];\n  if (matchedClasses.length) {\n    const thisTap = new Date().getTime();\n    em.elapsed = thisTap - lastTap;\n    lastTap = thisTap;\n    matchedClasses.forEach((cls: any) => {\n      callFunction({ cls, evt, evnt, mouse });\n    });\n  }\n}\n\nfunction callFunction({ cls, evt, evnt, mouse }: AnyType) {\n  const target = evt.target;\n  registeredFunctions[evnt][cls].fx(target, mouse, evnt, evt);\n}\n\ndocument.addEventListener(\n  'touchstart',\n  (pointerEvent) => {\n    em.touched = pointerEvent.target;\n    em.coords = [pointerEvent.touches[0].clientX, pointerEvent.touches[0].clientY];\n    if (em.touched) {\n      touchTimer = setTimeout(function () {\n        holdAction();\n      }, em.holdTime);\n    }\n  },\n  false\n);\ndocument.addEventListener(\n  'touchend',\n  function () {\n    touchleave();\n  },\n  false\n);\ndocument.addEventListener(\n  'touchmove',\n  function (pointerEvent) {\n    if (em.touched !== pointerEvent.target) touchleave();\n  },\n  false\n);\nfunction touchleave() {\n  clearTimeout(touchTimer);\n}\nfunction holdAction() {\n  if (typeof em.holdAction == 'function') {\n    em.held = em.touched;\n    em.holdAction(em.held, em.coords);\n  }\n}\n\nlet isTouch = false; //let to indicate current input type (is touch versus no touch)\nlet isTouchTimer: any;\nlet curRootClass = ''; //let indicating current document root class (\"can-touch\" or \"\")\n\nfunction addtouchclass() {\n  clearTimeout(isTouchTimer);\n  isTouch = true;\n  if (curRootClass !== 'can-touch') {\n    //add \"can-touch' class if it's not already present\n    curRootClass = 'can-touch';\n    document.documentElement.classList.add(curRootClass);\n  }\n  //maintain \"istouch\" state for 500ms so removetouchclass doesn't get fired immediately following a touch event\n  isTouchTimer = setTimeout(function () {\n    isTouch = false;\n  }, 500);\n}\n\nfunction removetouchclass() {\n  // console.log('removing touch class');\n  if (!isTouch && curRootClass === 'can-touch') {\n    //remove 'can-touch' class if not triggered by a touch event and class is present\n    isTouch = false;\n    curRootClass = '';\n    document.documentElement.classList.remove('can-touch');\n  }\n}\n\ndocument.addEventListener('touchstart', addtouchclass, false); //this event only gets called when input type is touch\ndocument.addEventListener('mouseover', removetouchclass, false); //this event gets called when input type is everything from touch to mouse/ trackpad\n\nexport const eventManager = em;\n","import { default_players, device, env } from './env';\nimport { broadcasting, coms } from './coms';\n\nexport function broadcastScore(action?: any) {\n  action = action || env.match.history.lastPoint();\n  const players = env.match.metadata.players();\n\n  // don't publish if the player names haven't been changed\n  const pub = players[0].name != default_players[0] && players[1].name != default_players[1];\n\n  if (pub && broadcasting()) {\n    const coords = device.geoposition.coords || {};\n    const tournament = env.match.metadata.defineTournament();\n    const match_meta = env.match.metadata.defineMatch();\n    const match_message = {\n      tournament,\n      match: env.match.metadata.defineMatch(),\n      event: { euid: match_meta.euid },\n      status: env.match.status,\n      players: env.match.metadata.players(),\n      score: env.match.score(),\n      point: action.point,\n      serving: env.match.nextTeamServing(),\n      complete: env.match.complete(),\n      winner: env.match.winner(),\n      geoposition: {\n        latitude: coords.latitude,\n        longitude: coords.longitude,\n      },\n      undo: typeof action == 'string' && action == 'Undo',\n    };\n    sendScoreUpdate(match_message);\n  }\n}\n\nlet next_update: any;\nlet last_timeout: any;\nlet last_update = 0;\nconst update_window = 10000;\n\nfunction sendScoreUpdate(update: any) {\n  const now = Date.now();\n  next_update = update;\n\n  if (now - last_update > update_window) {\n    coms.socket.emit('mh', { type: 'score', payload: { next_update } });\n    last_update = now;\n  } else {\n    if (last_timeout) clearTimeout(last_timeout);\n    const wait_time = update_window - (now - last_update);\n    last_timeout = setTimeout(function () {\n      coms.socket.emit('mh', { type: 'score', payload: { next_update } });\n      last_update = now;\n    }, wait_time);\n  }\n}\n","import { showGameFish } from './configureViz';\nimport { showModal } from './utilities';\nimport { env, settings } from './env';\n\nexport function checkMatchEnd(action?: any) {\n  if (env.match.complete()) {\n    const winner = env.match.metadata.players()[env.match.winner()].name;\n    showModal(\n      `<div style=\"height: 50vh\" class=\"flexcols flexcenter\"><div>Match Complete!</div><div>Winner: ${winner}</div></div>`\n    );\n    return true;\n  } else if (action?.game.complete && settings.display_gamefish) {\n    showGameFish();\n  }\n}\n","import { stateChangeEvent } from './displayUpdate';\nimport { broadcastScore } from './broadcastScore';\nimport { checkMatchEnd } from './checkMatchEnd';\nimport { strokeSlider } from './strokeSlider';\nimport { env } from './env';\n\nexport function strokeAction(element: any) {\n  const hand: string = element.getAttribute('hand');\n  const stroke: string = element.getAttribute('stroke');\n  if (hand && stroke) {\n    const last_point = env.match.history.lastPoint();\n    env.match.decoratePoint(last_point, { hand, stroke });\n    stateChangeEvent(); // make sure to save the decoration in case of exit!!\n  }\n  strokeSlider();\n  const point_episodes = env.match.history.action('addPoint');\n  const last_action = point_episodes[point_episodes.length - 1];\n  checkMatchEnd(last_action);\n  broadcastScore(last_action);\n}\n","import { env, updateMatchArchive } from './env';\n\nexport function updatePlayer() {\n  env.match.metadata.definePlayer(updatePlayerDetails());\n  updateMatchArchive();\n}\n\nfunction updatePlayerDetails() {\n  const player: any = { index: env.edit_player };\n  const attributes = ['hand', 'entry', 'seed', 'draw_position', 'ioc'];\n  attributes.forEach((attribute) => {\n    const target_id = `player_${attribute}`;\n    const obj: any = document.getElementById(target_id);\n    if (obj.selectedIndex >= 0) {\n      const value = obj.options[obj.selectedIndex].value;\n      if (value) player[attribute] = value;\n    }\n  });\n  const rankElement: any = document.getElementById('player_rank');\n  if (rankElement.value) player.rank = rankElement.value;\n  const wtnElement: any = document.getElementById('player_wtn');\n  if (wtnElement.value) player.wtn = wtnElement.value;\n  const utrElement: any = document.getElementById('player_utr');\n  if (utrElement.value) player.utr = utrElement.value;\n\n  const teamElement: any = document.getElementById('team');\n  if (teamElement.value) player.team = teamElement.value;\n  const idElement: any = document.getElementById('playerid');\n  if (idElement.value) player.id = idElement.value;\n\n  return player;\n}\n","import { env, updateMatchArchive } from './env';\nimport { updateScore } from './displayUpdate';\nimport { viewManager } from './viewManager';\nimport { findUpClass } from './utilities';\n\nexport function changeFormat(element: Element) {\n  const selectionContainer = findUpClass(element, 'mf_format');\n  if (selectionContainer) {\n    const format = selectionContainer.getAttribute('newFormat');\n    env.match.format.type(format);\n    const format_name = env.match.format.settings().name;\n    document.getElementById('md_format').innerHTML = format_name;\n    updateScore();\n    updateMatchArchive();\n    viewManager('entry');\n  }\n}\n","import { updateState, visibleButtons } from './displayUpdate';\nimport { resetButton, resetStyles } from './events';\nimport { broadcastScore } from './broadcastScore';\nimport { checkMatchEnd } from './checkMatchEnd';\nimport { buttons, env, settings } from './env';\nimport { strokeSlider } from './strokeSlider';\nimport { broadcastStatus } from './coms';\nimport { DOUBLE_FAULT } from './constants';\n\nconst toggles: any = {};\n\nexport function classAction(element: any) {\n  const action: string = element.getAttribute('action');\n  let side: number = parseInt(element.getAttribute('side') ?? 0);\n  const service: string = element.getAttribute('service');\n  const playerRole: string = element.getAttribute('role');\n\n  if (checkMatchEnd()) return;\n  const slider_side = side ? 'right' : 'left';\n  if (env.swap_sides && ['server', 'receiver'].indexOf(playerRole) < 0) side = 1 - side;\n  resetStyles();\n\n  function changeValue(classes: any, value: any) {\n    const objs = Array.from(document.querySelectorAll(classes));\n    objs.forEach((element) => (element.innerHTML = value));\n  }\n\n  function rallyMode() {\n    env.rally_mode = true;\n    Array.from(document.querySelectorAll('.modeforce')).forEach((div: any) => (div.style.display = 'flex'));\n    changeValue('.vs_action_button.winner', 'Winner');\n    changeValue('.vs_action_button.fault', 'UFE');\n    changeValue('.vs_action_button.forced', 'Forced');\n    Array.from(document.querySelectorAll('.vs_mode_button')).forEach((button) => {\n      if (['Serve', 'Return', '2nd Serve'].indexOf(button.innerHTML) >= 0) button.innerHTML = 'Base Line';\n    });\n  }\n\n  const actions: any = {\n    firstServe() {\n      env.serve2nd = false;\n    },\n    secondServe() {\n      env.serve2nd = !toggles.serve2nd;\n      toggles.serve2nd = !toggles.serve2nd;\n    },\n    fault(side: number) {\n      if (side != env.serving) return undefined;\n      if (env.serve2nd) return { code: 'D' };\n      const player_side = env.swap_sides ? 1 - side : side;\n      changeValue(`.fault.display_${player_side}_serving`, DOUBLE_FAULT);\n      changeValue(`.fault.modeerr_player${player_side}`, DOUBLE_FAULT);\n      const server_side = env.swap_sides ? 1 - env.serving : env.serving;\n      const server_mode = `.modeaction_player${server_side}`;\n      Array.from(document.querySelectorAll(server_mode)).forEach((div) => (div.innerHTML = '2nd Serve'));\n      env.serve2nd = true;\n      broadcastStatus('Service Fault');\n    },\n    doubleFault(side: number) {\n      return side != env.serving ? undefined : { code: 'd' };\n    },\n    ace(side: number) {\n      return side != env.serving ? undefined : env.serve2nd ? { code: 'a' } : { code: 'A' };\n    },\n    winner(side: number) {\n      return { winner: side, result: 'Winner' };\n    },\n    unforced(side: number) {\n      return { winner: 1 - side, result: 'Unforced Error' };\n    },\n    forced(side: number) {\n      return { winner: 1 - side, result: 'Forced Error' };\n    },\n    point(side: number) {\n      return { winner: side };\n    },\n    penalty(side: number) {\n      console.log('penalty');\n      return {\n        winner: 1 - side,\n        result: 'Penalty',\n        code: side == env.serving ? 'P' : 'Q',\n      };\n    },\n\n    modewin(side: number, point: any) {\n      const action = element.innerHTML;\n      if (action == 'Ace') return actions.ace(side, point);\n      if (action == 'Winner') return actions.winner(side, point);\n    },\n    modeerr(side: number, point: any) {\n      const action = element.innerHTML;\n      if (action == 'Fault' || action == DOUBLE_FAULT) return actions.fault(side, point);\n      if (action == 'UFE') return actions.unforced(side, point);\n      if (action == 'Forced') return actions.forced(side, point);\n      if (action == 'Let') return actions.let(side, point);\n    },\n    modeaction() {\n      const action = element.innerHTML;\n      if (['Serve', '2nd Serve', 'Return'].indexOf(action) >= 0) {\n        rallyMode();\n      }\n      if (action == 'Serve' || action == 'Return') {\n        rallyMode();\n      }\n      if (action == 'Net') {\n        element.innerHTML = 'Base Line';\n      }\n      if (action == 'Base Line') {\n        element.innerHTML = 'Net';\n      }\n    },\n    rally() {\n      const action = element.innerHTML;\n      env.rally = parseInt((action.match(/\\d+/g) || ['0']).join(''));\n      env.rally += 1;\n      changeValue(`.rally`, `Rally: ${env.rally}`);\n      if (env.rally == 1) rallyMode();\n    },\n    let() {\n      broadcastStatus('Service: Let');\n      env.lets += 1;\n      // reset serve clock\n    },\n  };\n\n  const sound: any = document.getElementById('click');\n  if (sound && settings.audible_clicks) sound.play();\n  if (element.id) styleButton(element.id);\n  if (service && service == 'second_service') env.serve2nd = true;\n  if (Object.keys(actions).indexOf(action) < 0) return undefined;\n  const player_position = ['server', 'receiver'].indexOf(playerRole);\n  if (player_position >= 0) side = player_position ? env.receiving : env.serving;\n  const point: any = env.serve2nd ? { first_serve: { error: 'Error', serves: ['0e'] } } : {};\n  const result = actions[action](side, point);\n  if (result) {\n    checkStartTime();\n    Object.assign(point, result);\n    if (env.rally) point.rally = env.rally;\n    const point_location = getPointLocation(point);\n    if (point_location) point.location = point_location;\n\n    // perhaps refactor to defer adding point until\n    // stroke/result action, if any; then decorate point not necessary\n    // and broadcast of point doesn't have to wait until decoration...\n    // would require a global variable, perhaps 'pip' for point-in-progress\n    const what = env.match.addPoint(point);\n\n    if (\n      settings.track_shot_types &&\n      what.result &&\n      what.point.result &&\n      ['Penalty', 'Ace', 'Double Fault'].indexOf(what.point.result) < 0\n    ) {\n      strokeSlider(slider_side);\n    } else {\n      checkMatchEnd(what);\n      broadcastScore(what);\n    }\n\n    env.rally = 0;\n    env.lets = 0;\n    env.undone = [];\n    updateState();\n  }\n  visibleButtons();\n}\n\nfunction styleButton(id: string) {\n  const button = document.getElementById(id);\n  if (!button) return;\n  if (buttons[id].type == 'flash') {\n    button.style.backgroundColor = buttons[id].color;\n    button.style.color = 'white';\n    setTimeout(() => resetStyles(), 300);\n  } else if (buttons[id].type == 'toggle') {\n    if (button.style.backgroundColor == 'white') {\n      env.serve2nd = id == 'second_serve';\n      button.style.backgroundColor = buttons[id].color;\n      button.style.color = 'white';\n    } else {\n      env.serve2nd = false;\n      button.style.backgroundColor = 'white';\n      button.style.color = buttons[id].color;\n    }\n    const toggle_ids = Object.keys(buttons).filter((f) => buttons[f].type == 'toggle');\n    toggle_ids.filter((f) => f != id).forEach((id: string) => resetButton(id));\n  }\n}\n\nfunction checkStartTime() {\n  const points = env.match.history.points();\n  if (points.length == 0) {\n    // if no points, define new start time\n    const date = new Date();\n    env.match.metadata.defineMatch({ date: date.valueOf() });\n  }\n}\n\nfunction getPointLocation(point: any) {\n  const p0location = document.querySelectorAll('.modeaction_player0');\n  const p1location = document.querySelectorAll('.modeaction_player1');\n  if ((p0location && p0location[0].innerHTML == 'Net') || (p1location && p1location[0].innerHTML == 'Net')) {\n    if (point.result == 'Unforced Error' || point.result == 'Forced Error') {\n      if (point.winner == 0 && p1location[0].innerHTML == 'Net') return 'Net';\n      if (point.winner == 1 && p0location[0].innerHTML == 'Net') return 'Net';\n    } else if (point.result == 'Winner') {\n      if (point.winner == 0 && p0location[0].innerHTML == 'Net') return 'Net';\n      if (point.winner == 1 && p1location[0].innerHTML == 'Net') return 'Net';\n    }\n  }\n}\n","import { browserStorage } from './browserStorage';\nimport { closeModal } from './modals';\n\nexport function exportMatch(element: any) {\n  const match_id = element.getAttribute('matchId');\n  const match_data: any = browserStorage.get(match_id);\n  if (match_data) {\n    download(match_data, `match_${match_id}.json`);\n    closeModal();\n  }\n}\n\nfunction download(textToWrite: string, fileNameToSaveAs: string) {\n  fileNameToSaveAs = fileNameToSaveAs || 'match.json';\n  const textFileAsBlob = new Blob([textToWrite], { type: 'text/plain' });\n  const downloadLink = document.createElement('a');\n  downloadLink.download = fileNameToSaveAs;\n  downloadLink.innerHTML = 'Download File';\n  if (window.URL != null) {\n    downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n    downloadLink.click();\n  }\n}\n","import { findUpClass } from './utilities';\n\nexport function toggleChart(element: Element) {\n  const container = findUpClass(element, 'statrow');\n  const id = container.getAttribute('id');\n  const el = document.getElementById(id + '_chart');\n  console.log({ id, el });\n  if (el) {\n    const visible = el.style.display != 'none';\n    el.style.display = visible ? 'none' : 'flex';\n  }\n}\n","export default \"__VITE_ASSET__SN86_yA3__\"","import emailblackImage from '../assets/icons/emailblack.png';\nimport { broadcastScore } from './broadcastScore';\nimport { browserStorage } from './browserStorage';\nimport { showModal } from './utilities';\nimport { app, env } from './env';\nimport { UUID } from './UUID';\nimport { coms } from './coms';\n\nexport function modalShare() {\n  broadcastScore();\n  const match_id = browserStorage.get('current_match');\n  const match_data = match_id && browserStorage.get(match_id);\n  if (match_data) {\n    const json_data = JSON.parse(match_data);\n    let muid = json_data.match.muid;\n    if (!muid) {\n      muid = UUID();\n      json_data.match.muid = muid;\n      env.match.metadata.defineMatch({ muid });\n      browserStorage.set(match_id, JSON.stringify(json_data));\n    }\n    shareResult(json_data);\n  } else {\n    const modaltext = ` <p> <h1>First Track a Match!</h1> </p> `;\n    showModal(modaltext);\n  }\n}\n\nfunction shareResult(json_data: any) {\n  if (!coms.socket) {\n    const modaltext = ` <p> <h1>Unable to share match...</h1> <p><i>Connection Error</i></p> </p> `;\n    showModal(modaltext);\n    return;\n  }\n  const broadcast_link = app.broadcast ? `CourtHive Live Score: ${location.origin}/scores?muid=${json_data.muid}` : '';\n  const email_message = `${broadcast_link}%0D%0A `;\n  const emailOption = app.broadcast\n    ? `\n    <div class='closeModal flexcenter iconmargin'>\n      <a href='mailto:?subject=CourtHive Match Link&body=${email_message}' class=\"notextdecoration\">\n          <img class=\"icon_large\" src='${emailblackImage}'>\n      </a> \n    </div>\n  `\n    : '';\n  const clipboardOption = json_data\n    ? `\n    <div class='flexcenter iconmargin'>\n      <button id='copy2clipboard' class=\"flexcenter c2c\" data-clipboard-text=\"\"> \n          <div class='export_action action_icon_large iconclipboard'></div> \n      </button>\n    </div>\n  `\n    : '';\n\n  const match_id = json_data?.match?.muid;\n  const sendHistoryOption = match_id\n    ? `\n   <div matchId=\"${match_id}\" class=\"sendHistory flexcenter\">\n      <div matchId=\"${match_id}\" class='sendHistory export_action action_icon iconsave'></div>\n   </div>\n`\n    : '';\n\n  const modaltext = `\n      <p>&nbsp;</p>\n      <h1>Options for Sharing</h1>\n      <div class='flexrows'> \n        ${emailOption}\n        ${sendHistoryOption}\n        ${clipboardOption}\n      </div>`;\n  showModal(modaltext, JSON.stringify(json_data));\n}\n","import { browserStorage } from './browserStorage';\nimport { stateChangeEvent } from './displayUpdate';\nimport { loadMatch } from './loadMatch';\nimport { env } from './env';\n\nexport function editPoint(index: number) {\n  env.edit_point_index = index;\n  const episodes = env.match.history.action('addPoint');\n  env.edit_point = episodes[index].point;\n  env.edit_point_result = env.edit_point.result;\n  let score = env.edit_point.server ? env.edit_point.score.split('-').reverse().join('-') : env.edit_point.score;\n  if (score == '0-0') score = 'Gamepoint';\n  const epSGP = document.getElementById('ep_sgp');\n  if (epSGP) epSGP.innerHTML = `Set: ${env.edit_point.set + 1}, Game: ${env.edit_point.game + 1}, Point: ${score}`;\n  const players = env.match.metadata.players();\n  const player_select = Array.from(document.querySelectorAll('.select_player'));\n  player_select.forEach((select: any) =>\n    players.forEach(\n      (player: any, index: number) => (select.options[index] = new Option(player.name, index.toString())),\n    ),\n  );\n  const point_winner: any = document.getElementById('point_winner');\n  const point_loser: any = document.getElementById('point_loser');\n  if (point_winner) point_winner.value = env.edit_point.winner;\n  if (point_loser) point_loser.value = env.edit_point.result || '';\n  changePointWinner();\n  changePointPlayer();\n  changeResultOptions();\n  const editPointDisplay = document.getElementById('editpoint');\n  if (editPointDisplay) editPointDisplay.style.display = 'flex';\n}\n\nfunction changePointWinner() {\n  const pointPlayer: any = document.getElementById('point_player');\n  const pointResult: any = document.getElementById('point_result');\n  const pointWinner: any = document.getElementById('point_winner');\n  const player = pointPlayer?.value;\n  const result = pointResult?.value;\n  const winner = pointWinner?.value;\n  if (result.indexOf('Winner') < 0 && result.indexOf('Ace') < 0 && player == winner) {\n    pointPlayer.value = 1 - winner;\n  }\n  if ((result.indexOf('Winner') >= 0 || result.indexOf('Ace') >= 0) && player != winner) {\n    pointPlayer.value = winner;\n  }\n}\n\nfunction changeResultOptions() {\n  const pointPlayer: any = document.getElementById('point_player');\n  const pointResult: any = document.getElementById('point_result');\n  const player = pointPlayer?.value;\n  env.edit_point_result = pointResult.value;\n  pointResult.innerHTML = '';\n  pointResult.options[0] = new Option('- select -', '');\n  let results: any[] = [];\n  if (player == env.edit_point.server) results = ['Ace', 'Double Fault'].concat(...results);\n  results = ['Winner', 'Unforced Error', 'Forced Error'].concat(...results);\n  results.forEach((result, index) => (pointResult.options[index + 1] = new Option(result, result)));\n  pointResult.value = env.edit_point_result;\n}\n\nfunction changePointPlayer() {\n  const pointPlayer: any = document.getElementById('point_player');\n  const pointResult: any = document.getElementById('point_result');\n  const winner: any = document.getElementById('point_winner');\n  const player = pointPlayer?.value;\n  const result = pointResult.value;\n  env.edit_point.result = result;\n  if ((result.indexOf('Winner') >= 0 || result.indexOf('Ace') >= 0) && player != winner.value) {\n    winner.value = player;\n  }\n  if (result.indexOf('Winner') < 0 && result.indexOf('Ace') < 0 && player == winner.value) {\n    winner.value = 1 - player;\n  }\n  changeResultOptions();\n}\n\nexport function updatePoint() {\n  const pointResult: any = document.getElementById('point_result');\n  const pointWinner: any = document.getElementById('point_winner');\n  const winner = pointWinner.value;\n  const result = pointResult.value;\n  env.edit_point.winner = winner;\n  env.edit_point.result = result;\n  env.edit_point.code = undefined; // TODO: code needs to be updated properly\n  stateChangeEvent();\n  const current_match_id = browserStorage.get('current_match');\n  if (current_match_id) {\n    loadMatch(current_match_id, 'pointhistory');\n    const editPointDisplay = document.getElementById('editpoint');\n    if (editPointDisplay) editPointDisplay.style.display = 'none';\n  }\n}\n","import { closeModal } from './modals';\nimport { env } from './env';\n\nexport function editPlayer(element: any) {\n  const index = parseInt(element.getAttribute('playerIndex') ?? 0);\n  env.edit_player = env.swap_sides ? 1 - index : index;\n  closeModal();\n  const editPlayerDisplay = document.getElementById('editplayer');\n  if (editPlayerDisplay) editPlayerDisplay.style.display = 'flex';\n  const player = env.match.metadata.players(env.edit_player);\n  const playerName: any = document.getElementById('playername');\n  if (playerName) playerName.value = player.name;\n  const team: any = document.getElementById('team');\n  if (team) team.value = player.team ?? '';\n\n  const playerId: any = document.getElementById('playerid');\n  if (playerId) playerId.value = player.id ?? '';\n\n  const attributes = ['hand', 'entry', 'seed', 'draw_position', 'ioc'];\n  attributes.forEach((attribute) => {\n    const target_id = `player_${attribute}`;\n    const targetElement: any = document.getElementById(target_id);\n    if (targetElement) targetElement.value = player[attribute] || '';\n  });\n  const playerRank: any = document.getElementById('player_rank');\n  if (playerRank) playerRank.value = player.rank || '';\n  const playerWTN: any = document.getElementById('player_wtn');\n  if (playerWTN) playerWTN.value = player.wtn || '';\n  const playerUTR: any = document.getElementById('player_utr');\n  if (playerUTR) playerUTR.value = player.utr || '';\n}\n","export default \"__VITE_ASSET__wUPJvyNp__\"","import pointsImage from '../assets/icons/points.jpg';\nimport { showModal } from './utilities';\n\nexport function modalHelp(quick_start?: boolean) {\n  const quick = `\n         <div class=\"helpintro\">Quick Start</div>\n         <div class=\"flexhelp\"> <div class='iconmenub action_icon_large'></div> <div class=\"quicktitle\">Main Menu</div> </div>\n         <div class=\"quickitem\"> <span> Set <b>Match Details</b>, <b>Share</b>, or turn on <b>Broadcasting</b> </span></div>\n         <div class=\"flexhelp\"> <div class='iconsettingsb action_icon_large'></div> <div class=\"quicktitle\">Settings</div> </div>\n         <div class=\"quickitem\"> <span> Turn on <b>Audible Clicks</b> and <b>Track Shot Types</b></span></div>\n         <div class=\"flexhelp\"> <div class='iconchangeb action_icon_large'></div> <div class=\"quicktitle\">Change First Server</div> </div>\n         <div class=\"quickitem\"> <span>After Service press <b>Serve</b>, <b>Return</b>, or <b>Rally</b> to switch into Rally Mode </span></div>\n         <div class=\"quickitem\"> <span>To simply advance points, tap the <b>Points</b> display </span></div>\n         <div class=\"flexhelp\"> <img src='${pointsImage}'> </div>\n      `;\n  const save = `\n         <div class=\"helpintro\">Save To Home Screen</div>\n         <div class=\"helpitem\">CourtHive is a Progressive Web App</div>\n         <div class=\"helpitem\"><b>For Full Screen View:</b></div>\n         <div class=\"helpitem\">On iOS use Safari to Save</div>\n         <div class=\"helpitem\">On Android use Chrome</div>\n      `;\n  const helptext = `\n         <div class=\"helpintro\">How to</div>\n         <div class=\"helpitem\"><div><b>Add/Change Player Names</b>:</div> &nbsp; <div> Touch the name!</div></div>\n         <div class=\"helpitem\"><div><b>Edit a Point</b>:</div><div> &nbsp; Touch the point in History view</div></div>\n         <div class=\"helpitem\"><div><b>Delete Match</b>:</div><div> &nbsp; Swipe Left in Match Archive </div></div>\n         <div class=\"helpitem\"><div><b>Export Match</b>:</div><div> &nbsp; Swipe Right in Match Archive </div></div>\n         <div class=\"helpitem\"><div><b>Points-to-Set</b>:</div><div> &nbsp; Rotate Momentum Chart</div></div>\n         <div class=\"helpitem\"><div><b>GameTree</b>:</div><div> &nbsp; Tap Player to filter by server</div></div>\n         <div class=\"flexhelp\"> <div class='iconbroadcast icon icon_5'></div> <div class=\"quicktitle\">Enable Broadcast</div> </div>\n         <div class=\"flexhelp\"> <div class='iconshare icon icon_3'></div> <div class=\"quicktitle\">Share (Email, Copy/Paste)</div> </div>\n      `;\n  const modaltext = quick_start ? quick + save + helptext : helptext + save + quick;\n  showModal(modaltext);\n}\n","import { version } from '../config/version';\nimport { showModal } from './utilities';\n\nexport function modalInfo() {\n  const modaltext = `\n         <p>&nbsp;</b>\n         <h2>CourtHive</h2>\n         <p>version <a id=\"version\" target=\"_blank\" href=\"https://github.com/TennisVisuals/universal-match-object/tree/master/examples/CourtHive\">${version}</a></p>\n         <p>An \n            <a target=\"_blank\" href=\"https://github.com/TennisVisuals/universal-match-object/tree/master/examples/CourtHive\">Open Source</a> project developed by \n            <a target=\"_blank\" href=\"http://TennisVisuals.com\">TennisVisuals</a>\n         </p>\n         <p><a href=\"mailto:tennis.aip@gmail.com?subject=CourtHive\">Feedback Welcome!</a></p>\n         <h2>Help</h2>\n         <div class=\"helpitem\">Difficulties after an app update?</div>\n         <div class=\"flexcenter\">\n            <div class='flexcenter reset' onclick=\"appReset()\">Reset</div>\n         </div>\n         <p>&nbsp;</b>\n      `;\n  showModal(modaltext);\n}\n","import { showModal } from './utilities';\nimport { sendKey } from './coms';\n\nexport function enterKey() {\n  const html = `\n    <h2>Enter key:</h2>\n    <input id='key' class='key_input input is-primary'>\n    <button id='submit_key' class='btn btn-small submit-btn'>Submit</button>\n  `;\n  showModal(html);\n\n  const key: any = document.getElementById('key');\n\n  const key_entry = document.getElementById('key');\n  if (key_entry) key_entry.addEventListener('keyup', keyAction);\n\n  const submit = document.getElementById('submit_key');\n  if (submit) submit.addEventListener('click', submitKey);\n\n  function submitKey() {\n    if (key.value) sendKey({ key: key.value });\n  }\n\n  function keyAction(evt: any) {\n    if (evt.which == 13) submitKey();\n  }\n}\n","import { resetButtons, setCourtSide, swapServer, updateState, visibleButtons } from './displayUpdate';\nimport { env, options, updateMatchArchive } from './env';\nimport { broadcastScore } from './broadcastScore';\nimport { viewManager } from './viewManager';\nimport { showGameFish } from './configureViz';\nimport { findUpClass } from './utilities';\nimport { editPoint } from './editPoint';\n\nexport function viewGameFish(element: any) {\n  const gameIndex: number = parseInt(element.getAttribute('gameIndex') ?? 0);\n  showGameFish(gameIndex);\n}\nexport function viewEditPoint(element: any) {\n  const parent = findUpClass(element, 'ph_episode');\n  const pointIndex = parseInt(parent?.getAttribute('pointIndex') ?? 0);\n  editPoint(pointIndex);\n}\nexport function viewStats() {\n  viewManager('stats');\n}\nexport function viewMatchFormat() {\n  viewManager('matchformat');\n}\nexport function viewGameTree() {\n  viewManager('gametree');\n}\nexport function viewMomentum() {\n  viewManager('momentum');\n}\nexport function viewPointHistory() {\n  viewManager('pointhistory');\n}\nexport function settings() {\n  viewManager('settings');\n}\nexport function matchArchive() {\n  viewManager('matcharchive');\n}\nexport function outcomeEntry() {\n  viewManager('entry');\n}\nexport function mainMenu() {\n  viewManager('mainmenu');\n}\nexport function undoAction() {\n  if (env.serve2nd || env.rally_mode) {\n    env.serve2nd = false;\n    env.rally_mode = false;\n    env.rally = 0;\n    env.lets = 0;\n    resetButtons();\n  } else {\n    const undo = env.match.undo();\n    broadcastScore('Undo');\n    if (undo) env.undone.push(undo);\n    updateMatchArchive(true);\n  }\n  visibleButtons();\n}\nexport function redoAction() {\n  if (!env.undone.length) return;\n  const action = env.match.addPoint(env.undone.pop());\n  broadcastScore(action);\n}\nexport function changeServer() {\n  console.log('changeServer');\n  if (!env.match.history.points().length) {\n    env.match.set.firstService(1 - env.serving);\n    updateState();\n    viewManager('entry');\n  }\n}\nexport function swapAction() {\n  console.log('swapAction');\n  options.user_swap = !options.user_swap;\n  setCourtSide();\n  swapServer();\n}\n/*\nexport function menuAction(obj, action) {\n  const actions = {\n    horizontalview() {\n      options.horizontal_view = options.horizontal_view == 'hblack' ? 'hwhite' : 'hblack';\n      BrowserStorage.set('horizontal_view', options.horizontal_view);\n      viewManager('entry');\n    },\n    verticalview() {\n            options.vertical_view = (options.vertical_view == 'vblack') ? 'vwhite' : 'vblack';\n            BrowserStorage.set('vertical_view', options.vertical_view);\n            viewManager('entry');\n    }\n  };\n}\n*/\n","import { updateTournamentDetails } from './updateTournamentDetails';\nimport { updateMatchDetails } from './updateMatchDetails';\nimport { broadcastToggle, sendHistory } from './coms';\nimport { editMatchDetails } from './displayUpdate';\nimport { newMatch } from './displayMatchArchive';\nimport { updateDetails } from './updateDetails';\nimport { eventManager } from './eventManager';\nimport { closeGameFish } from './configureViz';\nimport { strokeAction } from './strokeAction';\nimport { updatePlayer } from './updatePlayer';\nimport { changeFormat } from './changeFormat';\nimport { classAction } from './classAction';\nimport { exportMatch } from './exportMatch';\nimport { toggleChart } from './toggleChart';\nimport { updateStats } from './updateStats';\nimport { modalShare } from './modalShare';\nimport { updatePoint } from './editPoint';\nimport { editPlayer } from './editPlayer';\nimport { modalHelp } from './modalHelp';\nimport { modalInfo } from './modalInfo';\nimport { updateAppState } from './env';\nimport { closeModal } from './modals';\nimport { enterKey } from './enterKey';\nimport {\n  outcomeEntry,\n  matchArchive,\n  settings,\n  mainMenu,\n  swapAction,\n  undoAction,\n  redoAction,\n  changeServer,\n  viewStats,\n  viewPointHistory,\n  viewMomentum,\n  viewGameTree,\n  viewMatchFormat,\n  viewGameFish,\n  viewEditPoint,\n} from './clickActions';\n\nexport function registerEvents() {\n  eventManager\n    .register('modalInfo', 'tap', modalInfo)\n    .register('toggleChart', 'tap', toggleChart)\n    .register('broadcastToggle', 'tap', broadcastToggle)\n    .register('modalShare', 'tap', modalShare)\n    .register('enterKey', 'tap', enterKey)\n    .register('changeFormat', 'tap', changeFormat)\n    .register('closeModal', 'tap', closeModal)\n    .register('newMatch', 'tap', newMatch)\n    .register('exportMatch', 'tap', exportMatch)\n    .register('sendHistory', 'tap', sendHistory)\n    .register('settings', 'tap', settings)\n    .register('outcomeEntry', 'tap', outcomeEntry)\n    .register('matchArchive', 'tap', matchArchive)\n    .register('mainMenu', 'tap', mainMenu)\n    .register('modalHelp', 'tap', modalHelp)\n    .register('updateAppState', 'tap', updateAppState)\n    .register('updateStats', 'tap', updateStats)\n    .register('closeGameFish', 'tap', closeGameFish)\n    .register('strokeAction', 'tap', strokeAction)\n    .register('swapAction', 'tap', swapAction)\n    .register('undoAction', 'tap', undoAction)\n    .register('redoAction', 'tap', redoAction)\n    .register('changeServer', 'tap', changeServer)\n    .register('updatePoint', 'tap', updatePoint)\n    .register('editPlayer', 'tap', editPlayer)\n    .register('updatePlayer', 'tap', updatePlayer)\n    .register('updateTournamentDetails', 'tap', updateTournamentDetails)\n    .register('updateMatchDetails', 'tap', updateMatchDetails)\n    .register('updateDetails', 'tap', updateDetails)\n    .register('viewGameFish', 'tap', viewGameFish)\n    .register('viewStats', 'tap', viewStats)\n    .register('viewGameTree', 'tap', viewGameTree)\n    .register('viewMomentum', 'tap', viewMomentum)\n    .register('viewEditPoint', 'tap', viewEditPoint)\n    .register('viewMatchFormat', 'tap', viewMatchFormat)\n    .register('viewPointHistory', 'tap', viewPointHistory)\n    .register('editMatchDetails', 'tap', editMatchDetails)\n    .register('classAction', 'tap', classAction);\n}\n","/*!\n * clipboard.js v2.0.11\n * https://clipboardjs.com/\n *\n * Licensed MIT  Zeno Rocha\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ClipboardJS\"] = factory();\n\telse\n\t\troot[\"ClipboardJS\"] = factory();\n})(this, function() {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 686:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": function() { return /* binding */ clipboard; }\n});\n\n// EXTERNAL MODULE: ./node_modules/tiny-emitter/index.js\nvar tiny_emitter = __webpack_require__(279);\nvar tiny_emitter_default = /*#__PURE__*/__webpack_require__.n(tiny_emitter);\n// EXTERNAL MODULE: ./node_modules/good-listener/src/listen.js\nvar listen = __webpack_require__(370);\nvar listen_default = /*#__PURE__*/__webpack_require__.n(listen);\n// EXTERNAL MODULE: ./node_modules/select/src/select.js\nvar src_select = __webpack_require__(817);\nvar select_default = /*#__PURE__*/__webpack_require__.n(src_select);\n;// CONCATENATED MODULE: ./src/common/command.js\n/**\n * Executes a given operation type.\n * @param {String} type\n * @return {Boolean}\n */\nfunction command(type) {\n  try {\n    return document.execCommand(type);\n  } catch (err) {\n    return false;\n  }\n}\n;// CONCATENATED MODULE: ./src/actions/cut.js\n\n\n/**\n * Cut action wrapper.\n * @param {String|HTMLElement} target\n * @return {String}\n */\n\nvar ClipboardActionCut = function ClipboardActionCut(target) {\n  var selectedText = select_default()(target);\n  command('cut');\n  return selectedText;\n};\n\n/* harmony default export */ var actions_cut = (ClipboardActionCut);\n;// CONCATENATED MODULE: ./src/common/create-fake-element.js\n/**\n * Creates a fake textarea element with a value.\n * @param {String} value\n * @return {HTMLElement}\n */\nfunction createFakeElement(value) {\n  var isRTL = document.documentElement.getAttribute('dir') === 'rtl';\n  var fakeElement = document.createElement('textarea'); // Prevent zooming on iOS\n\n  fakeElement.style.fontSize = '12pt'; // Reset box model\n\n  fakeElement.style.border = '0';\n  fakeElement.style.padding = '0';\n  fakeElement.style.margin = '0'; // Move element out of screen horizontally\n\n  fakeElement.style.position = 'absolute';\n  fakeElement.style[isRTL ? 'right' : 'left'] = '-9999px'; // Move element to the same position vertically\n\n  var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n  fakeElement.style.top = \"\".concat(yPosition, \"px\");\n  fakeElement.setAttribute('readonly', '');\n  fakeElement.value = value;\n  return fakeElement;\n}\n;// CONCATENATED MODULE: ./src/actions/copy.js\n\n\n\n/**\n * Create fake copy action wrapper using a fake element.\n * @param {String} target\n * @param {Object} options\n * @return {String}\n */\n\nvar fakeCopyAction = function fakeCopyAction(value, options) {\n  var fakeElement = createFakeElement(value);\n  options.container.appendChild(fakeElement);\n  var selectedText = select_default()(fakeElement);\n  command('copy');\n  fakeElement.remove();\n  return selectedText;\n};\n/**\n * Copy action wrapper.\n * @param {String|HTMLElement} target\n * @param {Object} options\n * @return {String}\n */\n\n\nvar ClipboardActionCopy = function ClipboardActionCopy(target) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    container: document.body\n  };\n  var selectedText = '';\n\n  if (typeof target === 'string') {\n    selectedText = fakeCopyAction(target, options);\n  } else if (target instanceof HTMLInputElement && !['text', 'search', 'url', 'tel', 'password'].includes(target === null || target === void 0 ? void 0 : target.type)) {\n    // If input type doesn't support `setSelectionRange`. Simulate it. https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/setSelectionRange\n    selectedText = fakeCopyAction(target.value, options);\n  } else {\n    selectedText = select_default()(target);\n    command('copy');\n  }\n\n  return selectedText;\n};\n\n/* harmony default export */ var actions_copy = (ClipboardActionCopy);\n;// CONCATENATED MODULE: ./src/actions/default.js\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\n\n/**\n * Inner function which performs selection from either `text` or `target`\n * properties and then executes copy or cut operations.\n * @param {Object} options\n */\n\nvar ClipboardActionDefault = function ClipboardActionDefault() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  // Defines base properties passed from constructor.\n  var _options$action = options.action,\n      action = _options$action === void 0 ? 'copy' : _options$action,\n      container = options.container,\n      target = options.target,\n      text = options.text; // Sets the `action` to be performed which can be either 'copy' or 'cut'.\n\n  if (action !== 'copy' && action !== 'cut') {\n    throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n  } // Sets the `target` property using an element that will be have its content copied.\n\n\n  if (target !== undefined) {\n    if (target && _typeof(target) === 'object' && target.nodeType === 1) {\n      if (action === 'copy' && target.hasAttribute('disabled')) {\n        throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n      }\n\n      if (action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\n        throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n      }\n    } else {\n      throw new Error('Invalid \"target\" value, use a valid Element');\n    }\n  } // Define selection strategy based on `text` property.\n\n\n  if (text) {\n    return actions_copy(text, {\n      container: container\n    });\n  } // Defines which selection strategy based on `target` property.\n\n\n  if (target) {\n    return action === 'cut' ? actions_cut(target) : actions_copy(target, {\n      container: container\n    });\n  }\n};\n\n/* harmony default export */ var actions_default = (ClipboardActionDefault);\n;// CONCATENATED MODULE: ./src/clipboard.js\nfunction clipboard_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { clipboard_typeof = function _typeof(obj) { return typeof obj; }; } else { clipboard_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return clipboard_typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (clipboard_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n/**\n * Helper function to retrieve attribute value.\n * @param {String} suffix\n * @param {Element} element\n */\n\nfunction getAttributeValue(suffix, element) {\n  var attribute = \"data-clipboard-\".concat(suffix);\n\n  if (!element.hasAttribute(attribute)) {\n    return;\n  }\n\n  return element.getAttribute(attribute);\n}\n/**\n * Base class which takes one or more elements, adds event listeners to them,\n * and instantiates a new `ClipboardAction` on each click.\n */\n\n\nvar Clipboard = /*#__PURE__*/function (_Emitter) {\n  _inherits(Clipboard, _Emitter);\n\n  var _super = _createSuper(Clipboard);\n\n  /**\n   * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n   * @param {Object} options\n   */\n  function Clipboard(trigger, options) {\n    var _this;\n\n    _classCallCheck(this, Clipboard);\n\n    _this = _super.call(this);\n\n    _this.resolveOptions(options);\n\n    _this.listenClick(trigger);\n\n    return _this;\n  }\n  /**\n   * Defines if attributes would be resolved using internal setter functions\n   * or custom functions that were passed in the constructor.\n   * @param {Object} options\n   */\n\n\n  _createClass(Clipboard, [{\n    key: \"resolveOptions\",\n    value: function resolveOptions() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.action = typeof options.action === 'function' ? options.action : this.defaultAction;\n      this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;\n      this.text = typeof options.text === 'function' ? options.text : this.defaultText;\n      this.container = clipboard_typeof(options.container) === 'object' ? options.container : document.body;\n    }\n    /**\n     * Adds a click event listener to the passed trigger.\n     * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n     */\n\n  }, {\n    key: \"listenClick\",\n    value: function listenClick(trigger) {\n      var _this2 = this;\n\n      this.listener = listen_default()(trigger, 'click', function (e) {\n        return _this2.onClick(e);\n      });\n    }\n    /**\n     * Defines a new `ClipboardAction` on each click event.\n     * @param {Event} e\n     */\n\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      var trigger = e.delegateTarget || e.currentTarget;\n      var action = this.action(trigger) || 'copy';\n      var text = actions_default({\n        action: action,\n        container: this.container,\n        target: this.target(trigger),\n        text: this.text(trigger)\n      }); // Fires an event based on the copy operation result.\n\n      this.emit(text ? 'success' : 'error', {\n        action: action,\n        text: text,\n        trigger: trigger,\n        clearSelection: function clearSelection() {\n          if (trigger) {\n            trigger.focus();\n          }\n\n          window.getSelection().removeAllRanges();\n        }\n      });\n    }\n    /**\n     * Default `action` lookup function.\n     * @param {Element} trigger\n     */\n\n  }, {\n    key: \"defaultAction\",\n    value: function defaultAction(trigger) {\n      return getAttributeValue('action', trigger);\n    }\n    /**\n     * Default `target` lookup function.\n     * @param {Element} trigger\n     */\n\n  }, {\n    key: \"defaultTarget\",\n    value: function defaultTarget(trigger) {\n      var selector = getAttributeValue('target', trigger);\n\n      if (selector) {\n        return document.querySelector(selector);\n      }\n    }\n    /**\n     * Allow fire programmatically a copy action\n     * @param {String|HTMLElement} target\n     * @param {Object} options\n     * @returns Text copied.\n     */\n\n  }, {\n    key: \"defaultText\",\n\n    /**\n     * Default `text` lookup function.\n     * @param {Element} trigger\n     */\n    value: function defaultText(trigger) {\n      return getAttributeValue('text', trigger);\n    }\n    /**\n     * Destroy lifecycle.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.listener.destroy();\n    }\n  }], [{\n    key: \"copy\",\n    value: function copy(target) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        container: document.body\n      };\n      return actions_copy(target, options);\n    }\n    /**\n     * Allow fire programmatically a cut action\n     * @param {String|HTMLElement} target\n     * @returns Text cutted.\n     */\n\n  }, {\n    key: \"cut\",\n    value: function cut(target) {\n      return actions_cut(target);\n    }\n    /**\n     * Returns the support of the given action, or all actions if no action is\n     * given.\n     * @param {String} [action]\n     */\n\n  }, {\n    key: \"isSupported\",\n    value: function isSupported() {\n      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];\n      var actions = typeof action === 'string' ? [action] : action;\n      var support = !!document.queryCommandSupported;\n      actions.forEach(function (action) {\n        support = support && !!document.queryCommandSupported(action);\n      });\n      return support;\n    }\n  }]);\n\n  return Clipboard;\n}((tiny_emitter_default()));\n\n/* harmony default export */ var clipboard = (Clipboard);\n\n/***/ }),\n\n/***/ 828:\n/***/ (function(module) {\n\nvar DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n\n\n/***/ }),\n\n/***/ 438:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar closest = __webpack_require__(828);\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n\n\n/***/ }),\n\n/***/ 879:\n/***/ (function(__unused_webpack_module, exports) {\n\n/**\n * Check if argument is a HTML element.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.node = function(value) {\n    return value !== undefined\n        && value instanceof HTMLElement\n        && value.nodeType === 1;\n};\n\n/**\n * Check if argument is a list of HTML elements.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.nodeList = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return value !== undefined\n        && (type === '[object NodeList]' || type === '[object HTMLCollection]')\n        && ('length' in value)\n        && (value.length === 0 || exports.node(value[0]));\n};\n\n/**\n * Check if argument is a string.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.string = function(value) {\n    return typeof value === 'string'\n        || value instanceof String;\n};\n\n/**\n * Check if argument is a function.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.fn = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return type === '[object Function]';\n};\n\n\n/***/ }),\n\n/***/ 370:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar is = __webpack_require__(879);\nvar delegate = __webpack_require__(438);\n\n/**\n * Validates all params and calls the right\n * listener function based on its target type.\n *\n * @param {String|HTMLElement|HTMLCollection|NodeList} target\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listen(target, type, callback) {\n    if (!target && !type && !callback) {\n        throw new Error('Missing required arguments');\n    }\n\n    if (!is.string(type)) {\n        throw new TypeError('Second argument must be a String');\n    }\n\n    if (!is.fn(callback)) {\n        throw new TypeError('Third argument must be a Function');\n    }\n\n    if (is.node(target)) {\n        return listenNode(target, type, callback);\n    }\n    else if (is.nodeList(target)) {\n        return listenNodeList(target, type, callback);\n    }\n    else if (is.string(target)) {\n        return listenSelector(target, type, callback);\n    }\n    else {\n        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');\n    }\n}\n\n/**\n * Adds an event listener to a HTML element\n * and returns a remove listener function.\n *\n * @param {HTMLElement} node\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNode(node, type, callback) {\n    node.addEventListener(type, callback);\n\n    return {\n        destroy: function() {\n            node.removeEventListener(type, callback);\n        }\n    }\n}\n\n/**\n * Add an event listener to a list of HTML elements\n * and returns a remove listener function.\n *\n * @param {NodeList|HTMLCollection} nodeList\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNodeList(nodeList, type, callback) {\n    Array.prototype.forEach.call(nodeList, function(node) {\n        node.addEventListener(type, callback);\n    });\n\n    return {\n        destroy: function() {\n            Array.prototype.forEach.call(nodeList, function(node) {\n                node.removeEventListener(type, callback);\n            });\n        }\n    }\n}\n\n/**\n * Add an event listener to a selector\n * and returns a remove listener function.\n *\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenSelector(selector, type, callback) {\n    return delegate(document.body, selector, type, callback);\n}\n\nmodule.exports = listen;\n\n\n/***/ }),\n\n/***/ 817:\n/***/ (function(module) {\n\nfunction select(element) {\n    var selectedText;\n\n    if (element.nodeName === 'SELECT') {\n        element.focus();\n\n        selectedText = element.value;\n    }\n    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n        var isReadOnly = element.hasAttribute('readonly');\n\n        if (!isReadOnly) {\n            element.setAttribute('readonly', '');\n        }\n\n        element.select();\n        element.setSelectionRange(0, element.value.length);\n\n        if (!isReadOnly) {\n            element.removeAttribute('readonly');\n        }\n\n        selectedText = element.value;\n    }\n    else {\n        if (element.hasAttribute('contenteditable')) {\n            element.focus();\n        }\n\n        var selection = window.getSelection();\n        var range = document.createRange();\n\n        range.selectNodeContents(element);\n        selection.removeAllRanges();\n        selection.addRange(range);\n\n        selectedText = selection.toString();\n    }\n\n    return selectedText;\n}\n\nmodule.exports = select;\n\n\n/***/ }),\n\n/***/ 279:\n/***/ (function(module) {\n\nfunction E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(__webpack_module_cache__[moduleId]) {\n/******/ \t\t\treturn __webpack_module_cache__[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t!function() {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = function(module) {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\tfunction() { return module['default']; } :\n/******/ \t\t\t\tfunction() { return module; };\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t// module exports must be returned from runtime so entry inlining is disabled\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(686);\n/******/ })()\n.default;\n});","import { app, restoreAppState, setOrientation, updateAppState } from './env';\nimport { configureViz, orientationEvent, vizUpdate } from './configureViz';\nimport { setInitialState } from '../config/initialState';\nimport { setDev } from '../services/helpers/setDev';\nimport { browserStorage } from './browserStorage';\nimport { registerEvents } from './registerEvents';\nimport { newMatch } from './displayMatchArchive';\nimport { sendKey, startBroadcast } from './coms';\nimport { changeDisplay } from './viewManager';\nimport { touchManager } from './touchManager';\nimport { defineActionEvents } from './events';\nimport { generateRange } from './utilities';\nimport { modalHelp } from './modalHelp';\nimport { loadMatch } from './loadMatch';\nimport { closeModal } from './modals';\nimport clipboard from 'clipboard';\nimport { UUID } from './UUID';\nimport {\n  changePlayerName,\n  checkPlayerName,\n  loadDetails,\n  resetButtons,\n  swapServer,\n  visibleButtons,\n} from './displayUpdate';\n\nimport iocCodes from './ioc_codes.json';\n\nexport function init() {\n  setDev();\n\n  window.addEventListener(\n    'orientationchange',\n    function () {\n      orientationEvent();\n    },\n    false,\n  );\n  window.addEventListener(\n    'resize',\n    function () {\n      orientationEvent();\n    },\n    false,\n  );\n\n  const queryString: any = {};\n  const query = window.location.search.substring(1);\n  const vars = query.split('&');\n  for (let i = 0; i < vars.length; i++) {\n    const pair = vars[i].split('=');\n    if (typeof queryString[pair[0]] === 'undefined') {\n      queryString[pair[0]] = pair[1];\n    } else if (typeof queryString[pair[0]] === 'string') {\n      const arr = [queryString[pair[0]], pair[1]];\n      queryString[pair[0]] = arr;\n    } else {\n      queryString[pair[0]].push(pair[1]);\n    }\n  }\n  history.pushState('', document.title, window.location.pathname);\n\n  touchManager.disableDrag();\n  registerEvents();\n\n  // dismiss notification of requirements\n  changeDisplay('none', 'welcome');\n\n  // initialize clipboard\n  const clip = new clipboard('.c2c');\n  clip.on('success', () => {\n    closeModal();\n  });\n\n  restoreAppState();\n  checkUserUUID();\n  if (app.broadcast && navigator.onLine) startBroadcast();\n\n  defineEntryEvents();\n  defineActionEvents();\n  touchManager.addSwipeTarget(document.getElementById('mainmenu'));\n\n  // populate drop down list box selectors\n  const select_seed = Array.from(document.querySelectorAll('.md_seed'));\n  select_seed.forEach((select: any) => {\n    generateRange(0, 32).forEach((i: number) => {\n      const optionValue = (i + 1).toString();\n      select.options[i + 1] = new Option(optionValue, optionValue);\n    });\n  });\n  const select_draw_position = Array.from(document.querySelectorAll('.md_draw_position'));\n  select_draw_position.forEach((select: any) => {\n    generateRange(0, 128).forEach((i) => {\n      const optionValue = (i + 1).toString();\n      select.options[i + 1] = new Option(optionValue, optionValue);\n    });\n  });\n  const select_ioc = Array.from(document.querySelectorAll('.md_ioc'));\n  select_ioc.forEach((select: any) => {\n    iocCodes.forEach((entry: any, index: number) => (select.options[index + 1] = new Option(entry.name, entry.ioc)));\n  });\n  // load Details to be sure that ioc data can be used to populate country\n  loadDetails();\n\n  setOrientation();\n  loadCurrent();\n  configureViz();\n  vizUpdate();\n\n  if (queryString.key) {\n    setTimeout(() => sendKey({ key: queryString.key }), 1000);\n  }\n\n  setInitialState();\n}\n\nfunction checkUserUUID() {\n  if (!app.user_uuid) {\n    app.user_uuid = UUID();\n    updateAppState();\n  }\n}\n\nfunction defineEntryEvents() {\n  const catchTab = (evt: any) => {\n    if (evt.which == 9) {\n      evt.preventDefault();\n    }\n  };\n  const playername = document.getElementById('playername');\n  if (playername) {\n    playername.addEventListener('keyup', checkPlayerName, false);\n    playername.addEventListener('keydown', catchTab, false);\n    playername.onblur = function () {\n      changePlayerName();\n    };\n    playername.onfocus = function () {\n      setTimeout(() => {\n        //@ts-expect-error unknown reason\n        this.setSelectionRange(0, this.value.length);\n      }, 100);\n    };\n  }\n  const team = document.getElementById('team');\n  if (team) {\n    team.onblur = function () {\n      changePlayerName();\n    };\n    team.onfocus = function () {\n      setTimeout(() => {\n        //@ts-expect-error unknown reason\n        this.setSelectionRange(0, this.value.length);\n      }, 100);\n    };\n  }\n\n  const playerRank = document.getElementById('player_rank');\n  if (playerRank) {\n    playerRank.onfocus = function () {\n      setTimeout(() => {\n        //@ts-expect-error unknown reason\n        this.setSelectionRange(0, this.value.length);\n      }, 300);\n    };\n  }\n\n  const playerWTN = document.getElementById('player_wtn');\n  if (playerWTN) {\n    playerWTN.onfocus = function () {\n      setTimeout(() => {\n        //@ts-expect-error unknown reason\n        this.setSelectionRange(0, this.value.length);\n      }, 300);\n    };\n  }\n\n  const playerUTR = document.getElementById('player_utr');\n  if (playerUTR) {\n    playerUTR.onfocus = function () {\n      setTimeout(() => {\n        //@ts-expect-error unknown reason\n        this.setSelectionRange(0, this.value.length);\n      }, 300);\n    };\n  }\n\n  const hold_targets = Array.from(document.querySelectorAll('.pressAndHold'));\n  Array.from(hold_targets).forEach((target) => touchManager.addPressAndHold(target));\n}\n\nfunction loadCurrent() {\n  const current_match_id = browserStorage.get('current_match');\n  if (!current_match_id) {\n    const match_archive = browserStorage.get('match_archive');\n    // only show quick start if this is first launch\n    newMatch();\n    if (!match_archive) modalHelp(true);\n  } else {\n    loadMatch(current_match_id);\n    swapServer();\n    resetButtons();\n    visibleButtons();\n  }\n}\n","export default \"__VITE_ASSET__Q_tt1iRc__\"","import chLogo from \"../../assets/images/courthive-transparent-logo.png\";\nimport \"../../styles/default.css\";\nexport function renderDefaultPage(display) {\n    if (display) {\n        document.querySelector(\"#app\").innerHTML = `\n  <div>\n    <a href=\"https://courthive.com\" target=\"_blank\">\n      <img src=\"${chLogo}\" class=\"logo\" alt=\"Vite logo\" />\n    </a>\n    <h1 class=\"name\">CourtHive</h1>\n  </div>\n`;\n    }\n}\n","export var PARAMETER_REGEXP = /([:*])(\\w+)/g;\nexport var REPLACE_VARIABLE_REGEXP = \"([^/]+)\";\nexport var WILDCARD_REGEXP = /\\*/g;\nexport var REPLACE_WILDCARD = \"?(?:.*)\";\nexport var NOT_SURE_REGEXP = /\\/\\?/g;\nexport var REPLACE_NOT_SURE = \"/?([^/]+|)\";\nexport var START_BY_SLASH_REGEXP = \"(?:/^|^)\";\nexport var MATCH_REGEXP_FLAGS = \"\";","import { PARAMETER_REGEXP, WILDCARD_REGEXP, REPLACE_VARIABLE_REGEXP, REPLACE_WILDCARD, START_BY_SLASH_REGEXP, MATCH_REGEXP_FLAGS, REPLACE_NOT_SURE, NOT_SURE_REGEXP } from \"./constants\";\nexport function getCurrentEnvURL(fallback) {\n  if (fallback === void 0) {\n    fallback = \"/\";\n  }\n\n  if (windowAvailable()) {\n    return location.pathname + location.search + location.hash;\n  }\n\n  return fallback;\n}\nexport function clean(s) {\n  return s.replace(/\\/+$/, \"\").replace(/^\\/+/, \"\");\n}\nexport function isString(s) {\n  return typeof s === \"string\";\n}\nexport function isFunction(s) {\n  return typeof s === \"function\";\n}\nexport function extractHashFromURL(url) {\n  if (url && url.indexOf(\"#\") >= 0) {\n    return url.split(\"#\").pop() || \"\";\n  }\n\n  return \"\";\n}\nexport function regExpResultToParams(match, names) {\n  if (names.length === 0) return null;\n  if (!match) return null;\n  return match.slice(1, match.length).reduce(function (params, value, index) {\n    if (params === null) params = {};\n    params[names[index]] = decodeURIComponent(value);\n    return params;\n  }, null);\n}\nexport function extractGETParameters(url) {\n  var tmp = clean(url).split(/\\?(.*)?$/);\n  return [clean(tmp[0]), tmp.slice(1).join(\"\")];\n}\nexport function parseQuery(queryString) {\n  var query = {};\n  var pairs = queryString.split(\"&\");\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i].split(\"=\");\n\n    if (pair[0] !== \"\") {\n      var key = decodeURIComponent(pair[0]);\n\n      if (!query[key]) {\n        query[key] = decodeURIComponent(pair[1] || \"\");\n      } else {\n        if (!Array.isArray(query[key])) query[key] = [query[key]];\n        query[key].push(decodeURIComponent(pair[1] || \"\"));\n      }\n    }\n  }\n\n  return query;\n}\nexport function matchRoute(context, route) {\n  var _extractGETParameters = extractGETParameters(clean(context.currentLocationPath)),\n      current = _extractGETParameters[0],\n      GETParams = _extractGETParameters[1];\n\n  var params = GETParams === \"\" ? null : parseQuery(GETParams);\n  var paramNames = [];\n  var pattern;\n\n  if (isString(route.path)) {\n    pattern = START_BY_SLASH_REGEXP + clean(route.path).replace(PARAMETER_REGEXP, function (full, dots, name) {\n      paramNames.push(name);\n      return REPLACE_VARIABLE_REGEXP;\n    }).replace(WILDCARD_REGEXP, REPLACE_WILDCARD).replace(NOT_SURE_REGEXP, REPLACE_NOT_SURE) + \"$\";\n\n    if (clean(route.path) === \"\") {\n      if (clean(current) === \"\") {\n        return {\n          url: current,\n          queryString: GETParams,\n          hashString: extractHashFromURL(context.to),\n          route: route,\n          data: null,\n          params: params\n        };\n      }\n    }\n  } else {\n    pattern = route.path;\n  }\n\n  var regexp = new RegExp(pattern, MATCH_REGEXP_FLAGS);\n  var match = current.match(regexp);\n\n  if (match) {\n    var data = isString(route.path) ? regExpResultToParams(match, paramNames) : match.groups ? match.groups : match.slice(1);\n    return {\n      url: clean(current.replace(new RegExp(\"^\" + context.instance.root), \"\")),\n      queryString: GETParams,\n      hashString: extractHashFromURL(context.to),\n      route: route,\n      data: data,\n      params: params\n    };\n  }\n\n  return false;\n}\nexport function pushStateAvailable() {\n  return !!(typeof window !== \"undefined\" && window.history && window.history.pushState);\n}\nexport function undefinedOrTrue(obj, key) {\n  return typeof obj[key] === \"undefined\" || obj[key] === true;\n}\nexport function parseNavigateOptions(source) {\n  if (!source) return {};\n  var pairs = source.split(\",\");\n  var options = {};\n  var resolveOptions;\n  pairs.forEach(function (str) {\n    var temp = str.split(\":\").map(function (v) {\n      return v.replace(/(^ +| +$)/g, \"\");\n    });\n\n    switch (temp[0]) {\n      case \"historyAPIMethod\":\n        options.historyAPIMethod = temp[1];\n        break;\n\n      case \"resolveOptionsStrategy\":\n        if (!resolveOptions) resolveOptions = {};\n        resolveOptions.strategy = temp[1];\n        break;\n\n      case \"resolveOptionsHash\":\n        if (!resolveOptions) resolveOptions = {};\n        resolveOptions.hash = temp[1] === \"true\";\n        break;\n\n      case \"updateBrowserURL\":\n      case \"callHandler\":\n      case \"updateState\":\n      case \"force\":\n        options[temp[0]] = temp[1] === \"true\";\n        break;\n    }\n  });\n\n  if (resolveOptions) {\n    options.resolveOptions = resolveOptions;\n  }\n\n  return options;\n}\nexport function windowAvailable() {\n  return typeof window !== \"undefined\";\n}\nexport function accumulateHooks(hooks, result) {\n  if (hooks === void 0) {\n    hooks = [];\n  }\n\n  if (result === void 0) {\n    result = {};\n  }\n\n  hooks.filter(function (h) {\n    return h;\n  }).forEach(function (h) {\n    [\"before\", \"after\", \"already\", \"leave\"].forEach(function (type) {\n      if (h[type]) {\n        if (!result[type]) result[type] = [];\n        result[type].push(h[type]);\n      }\n    });\n  });\n  return result;\n}","export default function Q(funcs, c, done) {\n  var context = c || {};\n  var idx = 0;\n\n  (function next() {\n    if (!funcs[idx]) {\n      if (done) {\n        done(context);\n      }\n\n      return;\n    }\n\n    if (Array.isArray(funcs[idx])) {\n      funcs.splice.apply(funcs, [idx, 1].concat(funcs[idx][0](context) ? funcs[idx][1] : funcs[idx][2]));\n      next();\n    } else {\n      // console.log(funcs[idx].name + \" / \" + JSON.stringify(context));\n      // console.log(funcs[idx].name);\n      funcs[idx](context, function (moveForward) {\n        if (typeof moveForward === \"undefined\" || moveForward === true) {\n          idx += 1;\n          next();\n        } else if (done) {\n          done(context);\n        }\n      });\n    }\n  })();\n}\n\nQ[\"if\"] = function (condition, one, two) {\n  if (!Array.isArray(one)) one = [one];\n  if (!Array.isArray(two)) two = [two];\n  return [condition, one, two];\n};","import { getCurrentEnvURL } from \"../utils\";\nexport default function setLocationPath(context, done) {\n  if (typeof context.currentLocationPath === \"undefined\") {\n    context.currentLocationPath = context.to = getCurrentEnvURL(context.instance.root);\n  }\n\n  context.currentLocationPath = context.instance._checkForAHash(context.currentLocationPath);\n  done();\n}","import { matchRoute } from \"../utils\";\nexport default function matchPathToRegisteredRoutes(context, done) {\n  for (var i = 0; i < context.instance.routes.length; i++) {\n    var route = context.instance.routes[i];\n    var match = matchRoute(context, route);\n\n    if (match) {\n      if (!context.matches) context.matches = [];\n      context.matches.push(match);\n\n      if (context.resolveOptions.strategy === \"ONE\") {\n        done();\n        return;\n      }\n    }\n  }\n\n  done();\n}","export default function checkForDeprecationMethods(context, done) {\n  if (context.navigateOptions) {\n    if (typeof context.navigateOptions[\"shouldResolve\"] !== \"undefined\") {\n      console.warn(\"\\\"shouldResolve\\\" is deprecated. Please check the documentation.\");\n    }\n\n    if (typeof context.navigateOptions[\"silent\"] !== \"undefined\") {\n      console.warn(\"\\\"silent\\\" is deprecated. Please check the documentation.\");\n    }\n  }\n\n  done();\n}","export default function checkForForceOp(context, done) {\n  if (context.navigateOptions.force === true) {\n    context.instance._setCurrent([context.instance._pathToMatchObject(context.to)]);\n\n    done(false);\n  } else {\n    done();\n  }\n}","import { undefinedOrTrue, pushStateAvailable, windowAvailable } from \"../utils\";\nvar isWindowAvailable = windowAvailable();\nvar isPushStateAvailable = pushStateAvailable();\nexport default function updateBrowserURL(context, done) {\n  if (undefinedOrTrue(context.navigateOptions, \"updateBrowserURL\")) {\n    var value = (\"/\" + context.to).replace(/\\/\\//g, \"/\"); // making sure that we don't have two slashes\n\n    var isItUsingHash = isWindowAvailable && context.resolveOptions && context.resolveOptions.hash === true;\n\n    if (isPushStateAvailable) {\n      history[context.navigateOptions.historyAPIMethod || \"pushState\"](context.navigateOptions.stateObj || {}, context.navigateOptions.title || \"\", isItUsingHash ? \"#\" + value : value); // This is to solve a nasty bug where the page doesn't scroll to the anchor.\n      // We set a microtask to update the hash only.\n\n      if (location && location.hash) {\n        context.instance.__freezeListening = true;\n        setTimeout(function () {\n          if (!isItUsingHash) {\n            var tmp = location.hash;\n            location.hash = \"\";\n            location.hash = tmp;\n          }\n\n          context.instance.__freezeListening = false;\n        }, 1);\n      }\n    } else if (isWindowAvailable) {\n      window.location.href = context.to;\n    }\n  }\n\n  done();\n}","import Q from \"../Q\";\nimport { undefinedOrTrue } from \"../utils\";\nexport default function checkForLeaveHook(context, done) {\n  var instance = context.instance;\n\n  if (!instance.lastResolved()) {\n    done();\n    return;\n  }\n\n  Q(instance.lastResolved().map(function (oldMatch) {\n    return function (_, leaveLoopDone) {\n      // no leave hook\n      if (!oldMatch.route.hooks || !oldMatch.route.hooks.leave) {\n        leaveLoopDone();\n        return;\n      }\n\n      var runHook = false;\n      var newLocationVSOldMatch = context.instance.matchLocation(oldMatch.route.path, context.currentLocationPath, false);\n\n      if (oldMatch.route.path !== \"*\") {\n        runHook = !newLocationVSOldMatch;\n      } else {\n        var someOfTheLastOnesMatch = context.matches ? context.matches.find(function (match) {\n          return oldMatch.route.path === match.route.path;\n        }) : false;\n        runHook = !someOfTheLastOnesMatch;\n      }\n\n      if (undefinedOrTrue(context.navigateOptions, \"callHooks\") && runHook) {\n        Q(oldMatch.route.hooks.leave.map(function (f) {\n          // just so we match the Q interface\n          return function (_, d) {\n            return f(function (shouldStop) {\n              if (shouldStop === false) {\n                context.instance.__markAsClean(context);\n              } else {\n                d();\n              }\n            }, context.matches && context.matches.length > 0 ? context.matches.length === 1 ? context.matches[0] : context.matches : undefined);\n          };\n        }).concat([function () {\n          return leaveLoopDone();\n        }]));\n        return;\n      } else {\n        leaveLoopDone();\n      }\n    };\n  }), {}, function () {\n    return done();\n  });\n}","import Q from \"../Q\";\nimport { undefinedOrTrue } from \"../utils\";\nexport default function checkForBeforeHook(context, done) {\n  if (context.match.route.hooks && context.match.route.hooks.before && undefinedOrTrue(context.navigateOptions, \"callHooks\")) {\n    Q(context.match.route.hooks.before.map(function (f) {\n      // just so we match the Q interface\n      return function beforeHookInternal(_, d) {\n        return f(function (shouldStop) {\n          if (shouldStop === false) {\n            context.instance.__markAsClean(context);\n          } else {\n            d();\n          }\n        }, context.match);\n      };\n    }).concat([function () {\n      return done();\n    }]));\n  } else {\n    done();\n  }\n}","import { undefinedOrTrue } from \"../utils\";\nexport default function callHandler(context, done) {\n  if (undefinedOrTrue(context.navigateOptions, \"callHandler\")) {\n    context.match.route.handler(context.match);\n  }\n\n  context.instance.updatePageLinks();\n  done();\n}","import { undefinedOrTrue } from \"../utils\";\nexport default function checkForAfterHook(context, done) {\n  if (context.match.route.hooks && context.match.route.hooks.after && undefinedOrTrue(context.navigateOptions, \"callHooks\")) {\n    context.match.route.hooks.after.forEach(function (f) {\n      return f(context.match);\n    });\n  }\n\n  done();\n}","import { undefinedOrTrue } from \"../utils\";\nexport default function checkForAlreadyHook(context, done) {\n  var current = context.instance.lastResolved();\n\n  if (current && current[0] && current[0].route === context.match.route && current[0].url === context.match.url && current[0].queryString === context.match.queryString) {\n    current.forEach(function (c) {\n      if (c.route.hooks && c.route.hooks.already) {\n        if (undefinedOrTrue(context.navigateOptions, \"callHooks\")) {\n          c.route.hooks.already.forEach(function (f) {\n            return f(context.match);\n          });\n        }\n      }\n    });\n    done(false);\n    return;\n  }\n\n  done();\n}","import { parseQuery, extractGETParameters, clean, extractHashFromURL } from \"../utils\";\nexport default function checkForNotFoundHandler(context, done) {\n  var notFoundRoute = context.instance._notFoundRoute;\n\n  if (notFoundRoute) {\n    context.notFoundHandled = true;\n\n    var _extractGETParameters = extractGETParameters(context.currentLocationPath),\n        url = _extractGETParameters[0],\n        queryString = _extractGETParameters[1];\n\n    var hashString = extractHashFromURL(context.to);\n    notFoundRoute.path = clean(url);\n    var notFoundMatch = {\n      url: notFoundRoute.path,\n      queryString: queryString,\n      hashString: hashString,\n      data: null,\n      route: notFoundRoute,\n      params: queryString !== \"\" ? parseQuery(queryString) : null\n    };\n    context.matches = [notFoundMatch];\n    context.match = notFoundMatch;\n  }\n\n  done();\n}","export default function errorOut(context, done) {\n  if (!context.resolveOptions || context.resolveOptions.noMatchWarning === false || typeof context.resolveOptions.noMatchWarning === \"undefined\") console.warn(\"Navigo: \\\"\" + context.currentLocationPath + \"\\\" didn't match any of the registered routes.\");\n  done();\n}","export default function flushCurrent(context, done) {\n  context.instance._setCurrent(null);\n\n  done();\n}","import { undefinedOrTrue } from \"../utils\";\nexport default function updateState(context, done) {\n  if (undefinedOrTrue(context.navigateOptions, \"updateState\")) {\n    context.instance._setCurrent(context.matches);\n  }\n\n  done();\n}","import Q from \"./Q\";\nimport checkForLeaveHook from \"./middlewares/checkForLeaveHook\";\nimport checkForBeforeHook from \"./middlewares/checkForBeforeHook\";\nimport callHandler from \"./middlewares/callHandler\";\nimport checkForAfterHook from \"./middlewares/checkForAfterHook\";\nimport checkForAlreadyHook from \"./middlewares/checkForAlreadyHook\";\nimport checkForNotFoundHandler from \"./middlewares/checkForNotFoundHandler\";\nimport errorOut from \"./middlewares/errorOut\";\nimport flushCurrent from \"./middlewares/flushCurrent\";\nimport updateState from \"./middlewares/updateState\";\nexport var foundLifecycle = [checkForAlreadyHook, checkForBeforeHook, callHandler, checkForAfterHook];\nexport var notFoundLifeCycle = [checkForLeaveHook, checkForNotFoundHandler, Q[\"if\"](function (_ref) {\n  var notFoundHandled = _ref.notFoundHandled;\n  return notFoundHandled;\n}, foundLifecycle.concat([updateState]), [errorOut, flushCurrent])];","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport Q from \"../Q\";\nimport { foundLifecycle } from \"../lifecycles\";\nimport updateState from \"./updateState\";\nimport checkForLeaveHook from \"./checkForLeaveHook\";\nexport default function processMatches(context, done) {\n  var idx = 0;\n\n  function nextMatch() {\n    if (idx === context.matches.length) {\n      updateState(context, done);\n      return;\n    }\n\n    Q(foundLifecycle, _extends({}, context, {\n      match: context.matches[idx]\n    }), function end() {\n      idx += 1;\n      nextMatch();\n    });\n  }\n\n  checkForLeaveHook(context, nextMatch);\n}","export default function waitingList(context) {\n  context.instance.__markAsClean(context);\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { pushStateAvailable, matchRoute, parseQuery, extractGETParameters, isFunction, isString, clean, parseNavigateOptions, windowAvailable, getCurrentEnvURL, accumulateHooks, extractHashFromURL } from \"./utils\";\nimport Q from \"./Q\";\nimport setLocationPath from \"./middlewares/setLocationPath\";\nimport matchPathToRegisteredRoutes from \"./middlewares/matchPathToRegisteredRoutes\";\nimport checkForDeprecationMethods from \"./middlewares/checkForDeprecationMethods\";\nimport checkForForceOp from \"./middlewares/checkForForceOp\";\nimport updateBrowserURL from \"./middlewares/updateBrowserURL\";\nimport processMatches from \"./middlewares/processMatches\";\nimport waitingList from \"./middlewares/waitingList\";\nimport { notFoundLifeCycle } from \"./lifecycles\";\nvar DEFAULT_LINK_SELECTOR = \"[data-navigo]\";\nexport default function Navigo(appRoute, options) {\n  var DEFAULT_RESOLVE_OPTIONS = options || {\n    strategy: \"ONE\",\n    hash: false,\n    noMatchWarning: false,\n    linksSelector: DEFAULT_LINK_SELECTOR\n  };\n  var self = this;\n  var root = \"/\";\n  var current = null;\n  var routes = [];\n  var destroyed = false;\n  var genericHooks;\n  var isPushStateAvailable = pushStateAvailable();\n  var isWindowAvailable = windowAvailable();\n\n  if (!appRoute) {\n    console.warn('Navigo requires a root path in its constructor. If not provided will use \"/\" as default.');\n  } else {\n    root = clean(appRoute);\n  }\n\n  function _checkForAHash(url) {\n    if (url.indexOf(\"#\") >= 0) {\n      if (DEFAULT_RESOLVE_OPTIONS.hash === true) {\n        url = url.split(\"#\")[1] || \"/\";\n      } else {\n        url = url.split(\"#\")[0];\n      }\n    }\n\n    return url;\n  }\n\n  function composePathWithRoot(path) {\n    return clean(root + \"/\" + clean(path));\n  }\n\n  function createRoute(path, handler, hooks, name) {\n    path = isString(path) ? composePathWithRoot(path) : path;\n    return {\n      name: name || clean(String(path)),\n      path: path,\n      handler: handler,\n      hooks: accumulateHooks(hooks)\n    };\n  } // public APIs\n\n\n  function on(path, handler, hooks) {\n    var _this = this;\n\n    if (typeof path === \"object\" && !(path instanceof RegExp)) {\n      Object.keys(path).forEach(function (p) {\n        if (typeof path[p] === \"function\") {\n          _this.on(p, path[p]);\n        } else {\n          var _path$p = path[p],\n              _handler = _path$p.uses,\n              name = _path$p.as,\n              _hooks = _path$p.hooks;\n          routes.push(createRoute(p, _handler, [genericHooks, _hooks], name));\n        }\n      });\n      return this;\n    } else if (typeof path === \"function\") {\n      hooks = handler;\n      handler = path;\n      path = root;\n    }\n\n    routes.push(createRoute(path, handler, [genericHooks, hooks]));\n    return this;\n  }\n\n  function resolve(to, options) {\n    if (self.__dirty) {\n      self.__waiting.push(function () {\n        return self.resolve(to, options);\n      });\n\n      return;\n    } else {\n      self.__dirty = true;\n    }\n\n    to = to ? clean(root) + \"/\" + clean(to) : undefined; // console.log(\"-- resolve --> \" + to, self.__dirty);\n\n    var context = {\n      instance: self,\n      to: to,\n      currentLocationPath: to,\n      navigateOptions: {},\n      resolveOptions: _extends({}, DEFAULT_RESOLVE_OPTIONS, options)\n    };\n    Q([setLocationPath, matchPathToRegisteredRoutes, Q[\"if\"](function (_ref) {\n      var matches = _ref.matches;\n      return matches && matches.length > 0;\n    }, processMatches, notFoundLifeCycle)], context, waitingList);\n    return context.matches ? context.matches : false;\n  }\n\n  function navigate(to, navigateOptions) {\n    // console.log(\"-- navigate --> \" + to, self.__dirty);\n    if (self.__dirty) {\n      self.__waiting.push(function () {\n        return self.navigate(to, navigateOptions);\n      });\n\n      return;\n    } else {\n      self.__dirty = true;\n    }\n\n    to = clean(root) + \"/\" + clean(to);\n    var context = {\n      instance: self,\n      to: to,\n      navigateOptions: navigateOptions || {},\n      resolveOptions: navigateOptions && navigateOptions.resolveOptions ? navigateOptions.resolveOptions : DEFAULT_RESOLVE_OPTIONS,\n      currentLocationPath: _checkForAHash(to)\n    };\n    Q([checkForDeprecationMethods, checkForForceOp, matchPathToRegisteredRoutes, Q[\"if\"](function (_ref2) {\n      var matches = _ref2.matches;\n      return matches && matches.length > 0;\n    }, processMatches, notFoundLifeCycle), updateBrowserURL, waitingList], context, waitingList);\n  }\n\n  function navigateByName(name, data, options) {\n    var url = generate(name, data);\n\n    if (url !== null) {\n      navigate(url.replace(new RegExp(\"^/?\" + root), \"\"), options);\n      return true;\n    }\n\n    return false;\n  }\n\n  function off(what) {\n    this.routes = routes = routes.filter(function (r) {\n      if (isString(what)) {\n        return clean(r.path) !== clean(what);\n      } else if (isFunction(what)) {\n        return what !== r.handler;\n      }\n\n      return String(r.path) !== String(what);\n    });\n    return this;\n  }\n\n  function listen() {\n    if (isPushStateAvailable) {\n      this.__popstateListener = function () {\n        if (!self.__freezeListening) {\n          resolve();\n        }\n      };\n\n      window.addEventListener(\"popstate\", this.__popstateListener);\n    }\n  }\n\n  function destroy() {\n    this.routes = routes = [];\n\n    if (isPushStateAvailable) {\n      window.removeEventListener(\"popstate\", this.__popstateListener);\n    }\n\n    this.destroyed = destroyed = true;\n  }\n\n  function notFound(handler, hooks) {\n    self._notFoundRoute = createRoute(\"*\", handler, [genericHooks, hooks], \"__NOT_FOUND__\");\n    return this;\n  }\n\n  function updatePageLinks() {\n    if (!isWindowAvailable) return;\n    findLinks().forEach(function (link) {\n      if (\"false\" === link.getAttribute(\"data-navigo\") || \"_blank\" === link.getAttribute(\"target\")) {\n        if (link.hasListenerAttached) {\n          link.removeEventListener(\"click\", link.navigoHandler);\n        }\n\n        return;\n      }\n\n      if (!link.hasListenerAttached) {\n        link.hasListenerAttached = true;\n\n        link.navigoHandler = function (e) {\n          if ((e.ctrlKey || e.metaKey) && e.target.tagName.toLowerCase() === \"a\") {\n            return false;\n          }\n\n          var location = link.getAttribute(\"href\");\n\n          if (typeof location === \"undefined\" || location === null) {\n            return false;\n          } // handling absolute paths\n\n\n          if (location.match(/^(http|https)/) && typeof URL !== \"undefined\") {\n            try {\n              var u = new URL(location);\n              location = u.pathname + u.search;\n            } catch (err) {}\n          }\n\n          var options = parseNavigateOptions(link.getAttribute(\"data-navigo-options\"));\n\n          if (!destroyed) {\n            e.preventDefault();\n            e.stopPropagation();\n            self.navigate(clean(location), options);\n          }\n        };\n\n        link.addEventListener(\"click\", link.navigoHandler);\n      }\n    });\n    return self;\n  }\n\n  function findLinks() {\n    if (isWindowAvailable) {\n      return [].slice.call(document.querySelectorAll(DEFAULT_RESOLVE_OPTIONS.linksSelector || DEFAULT_LINK_SELECTOR));\n    }\n\n    return [];\n  }\n\n  function link(path) {\n    return \"/\" + root + \"/\" + clean(path);\n  }\n\n  function setGenericHooks(hooks) {\n    genericHooks = hooks;\n    return this;\n  }\n\n  function lastResolved() {\n    return current;\n  }\n\n  function generate(name, data, options) {\n    var route = routes.find(function (r) {\n      return r.name === name;\n    });\n    var result = null;\n\n    if (route) {\n      result = route.path;\n\n      if (data) {\n        for (var key in data) {\n          result = result.replace(\":\" + key, data[key]);\n        }\n      }\n\n      result = !result.match(/^\\//) ? \"/\" + result : result;\n    }\n\n    if (result && options && !options.includeRoot) {\n      result = result.replace(new RegExp(\"^/\" + root), \"\");\n    }\n\n    return result;\n  }\n\n  function getLinkPath(link) {\n    return link.getAttribute(\"href\");\n  }\n\n  function pathToMatchObject(path) {\n    var _extractGETParameters = extractGETParameters(clean(path)),\n        url = _extractGETParameters[0],\n        queryString = _extractGETParameters[1];\n\n    var params = queryString === \"\" ? null : parseQuery(queryString);\n    var hashString = extractHashFromURL(path);\n    var route = createRoute(url, function () {}, [genericHooks], url);\n    return {\n      url: url,\n      queryString: queryString,\n      hashString: hashString,\n      route: route,\n      data: null,\n      params: params\n    };\n  }\n\n  function getCurrentLocation() {\n    return pathToMatchObject(clean(getCurrentEnvURL(root)).replace(new RegExp(\"^\" + root), \"\"));\n  }\n\n  function directMatchWithRegisteredRoutes(path) {\n    var context = {\n      instance: self,\n      currentLocationPath: path,\n      to: path,\n      navigateOptions: {},\n      resolveOptions: DEFAULT_RESOLVE_OPTIONS\n    };\n    matchPathToRegisteredRoutes(context, function () {});\n    return context.matches ? context.matches : false;\n  }\n\n  function directMatchWithLocation(path, currentLocation, annotatePathWithRoot) {\n    if (typeof currentLocation !== \"undefined\" && (typeof annotatePathWithRoot === \"undefined\" || annotatePathWithRoot)) {\n      currentLocation = composePathWithRoot(currentLocation);\n    }\n\n    var context = {\n      instance: self,\n      to: currentLocation,\n      currentLocationPath: currentLocation\n    };\n    setLocationPath(context, function () {});\n\n    if (typeof path === \"string\") {\n      path = typeof annotatePathWithRoot === \"undefined\" || annotatePathWithRoot ? composePathWithRoot(path) : path;\n    }\n\n    var match = matchRoute(context, {\n      name: String(path),\n      path: path,\n      handler: function handler() {},\n      hooks: {}\n    });\n    return match ? match : false;\n  }\n\n  function addHook(type, route, func) {\n    if (typeof route === \"string\") {\n      route = getRoute(route);\n    }\n\n    if (route) {\n      if (!route.hooks[type]) route.hooks[type] = [];\n      route.hooks[type].push(func);\n      return function () {\n        route.hooks[type] = route.hooks[type].filter(function (f) {\n          return f !== func;\n        });\n      };\n    } else {\n      console.warn(\"Route doesn't exists: \" + route);\n    }\n\n    return function () {};\n  }\n\n  function getRoute(nameOrHandler) {\n    if (typeof nameOrHandler === \"string\") {\n      return routes.find(function (r) {\n        return r.name === composePathWithRoot(nameOrHandler);\n      });\n    }\n\n    return routes.find(function (r) {\n      return r.handler === nameOrHandler;\n    });\n  }\n\n  function __markAsClean(context) {\n    context.instance.__dirty = false;\n\n    if (context.instance.__waiting.length > 0) {\n      context.instance.__waiting.shift()();\n    }\n  }\n\n  this.root = root;\n  this.routes = routes;\n  this.destroyed = destroyed;\n  this.current = current;\n  this.__freezeListening = false;\n  this.__waiting = [];\n  this.__dirty = false;\n  this.__markAsClean = __markAsClean;\n  this.on = on;\n  this.off = off;\n  this.resolve = resolve;\n  this.navigate = navigate;\n  this.navigateByName = navigateByName;\n  this.destroy = destroy;\n  this.notFound = notFound;\n  this.updatePageLinks = updatePageLinks;\n  this.link = link;\n  this.hooks = setGenericHooks;\n\n  this.extractGETParameters = function (url) {\n    return extractGETParameters(_checkForAHash(url));\n  };\n\n  this.lastResolved = lastResolved;\n  this.generate = generate;\n  this.getLinkPath = getLinkPath;\n  this.match = directMatchWithRegisteredRoutes;\n  this.matchLocation = directMatchWithLocation;\n  this.getCurrentLocation = getCurrentLocation;\n  this.addBeforeHook = addHook.bind(this, \"before\");\n  this.addAfterHook = addHook.bind(this, \"after\");\n  this.addAlreadyHook = addHook.bind(this, \"already\");\n  this.addLeaveHook = addHook.bind(this, \"leave\");\n  this.getRoute = getRoute;\n  this._pathToMatchObject = pathToMatchObject;\n  this._clean = clean;\n  this._checkForAHash = _checkForAHash;\n\n  this._setCurrent = function (c) {\n    return current = self.current = c;\n  };\n\n  listen.call(this);\n  updatePageLinks.call(this);\n}","import { renderDefaultPage } from \"../pages/courthive/default\";\nimport Navigo from \"navigo\";\n\nexport function router() {\n  const routerRoot = window.location.host.startsWith(\"localhost\")\n    ? \"/\"\n    : process.env.PUBLIC_URL ?? \"/\";\n\n  const useHash = true;\n  const router = new Navigo(useHash ? \"/\" : `/${routerRoot}`, {\n    hash: useHash,\n  });\n  router.on(`/default`, () => renderDefaultPage(false));\n\n  router.notFound(() => {\n    router.navigate(\"/default\");\n  });\n  router.resolve();\n}\n","import { init } from './transition/init.ts';\nimport { router } from './router/router';\n\ninit();\nrouter();\n"],"names":["_hasLocalStorageSupport","_readCookie","name","nameEQ","ca","i","c","_writeCookie","value","days","expiration","date","browserStorage","isJSON","str","showModal","text","data","modalText","c2c","modal","firstAndLast","parts","display","getOpponents","match","format","sides","e","teamName","side","attemptJSONparse","formatDate","separator","d","month","day","year","generateRange","start","end","_","k","findUpClass","el","class_name","umo","defaultPointParser","formats","type","code","description","tiebreak","hasDecider","threshold","minDiff","children","decidingChild","hasType","hasCode","index","object","parent_object","child","common","so","fx","action","episode","set","points","point","point_history","counters","score","map","_a","team","counter","force","beyondDoubleThreshold","last_child","descendent","last_first_service","next_first_service","min_diff","countersAtValue","deciding_child_required","total_children","new_child","source_format","copyAttributes","source","target","attributes","attribute","addPoint","server","points_to_game","has_game_point","points_to_set","values","last_point","last_points","attempt","change","p","f","result","player","points_to_player","added","rejected","indices","numbersArray","past_threshold","value_difference","winner","v","m","progression","adProgression","noAdProgression","key","point_value","count","undo","undo_actions","undone","common_episode","last_child_complete","params","perspective","loser","pts","deciding_game","score_difference","deciding_game_format_required","games_to_set","player_score","opponent_score","last_game","player_games_to_set","points_needed","formatScore","p0score","p1score","t0score","t1score","last_game_score","tiebreak_score","game","deciding_point","scoreboard","opponent_points","opponent_point","teams","score_object","winning_team","serving_team","parseCode","parseScore","upper_code","modifier","last_score","combinedTotal","a","b","last_values","mf","sf","gf","plural","fo","format_type","players","has_decider","number_of_players","addPoint_events","undo_events","reset_events","metadata","stat_points","last_episode","filtered_stats","accessors","order","changeOrder","birth","playerId","hand","seed","rank","age","entry","ioc","draw_position","wtn","utr","id","definition","tuid","start_date","tour","surface","in_out","draw","draw_size","round","level","muid","gender","court","start_time","end_time","duration","status","umpire","official_score","first_service","calcTiebreakService","submitted","counterpart","sameOrder","o","notXinY","x","y","n","no_format_change","new_teams","serviceToOpponent","opponents","sameTeam","s","number","calcNext","last_position","pos","next_position","last_service","pub","setServiceOrder","existing_order","new_order","addEvent","add_event","undoEvent","undo_event","resetEvent","reset_event","clearEvents","parser","service","history","set_filter","calculatedStats","episodes","server_team","team_winner","team_loser","addStat","grouping","group","stat","stats","calculated_stats","reduceComponents","components","component","component_team","numeratorDenominator","stat_obj","numerator","denominator","displayPct","pct","stat_calcs","current","max_consecutive","consecutive","diff","point_counts","total_points","teams_counters","required_counters","team_stats","mo","version","charts","app","settings","env","c1","c2","c3","buttons","options","device","default_players","clearActionEvents","updatePositions","left_side","right_side","updateMatchArchive","player_names","p1","p2","element","match_id","match_archive","match_object","restoreAppState","app_settings","em","app_state","updateAppState","setOrientation","formatChangePossible","isFunction","isString","item","isNumeric","rallyCount","rally","displayPointHistory","games","groupGames","html","gameEntry","matchDuration","phFrame","point_episodes","game_counter","current_game","game_score","servergame","pointEntry","evenodd","point_score","player_initials","shot_by","point_hand","point_result","point_description","timestamps","seconds","HHMMSS","sec_num","hours","minutes","closeModal","updateScore","sets_counter","games_counter","field","sets","max_games","loadDetails","detail","target_id","match_details","tid","tournament","stateChangeEvent","updateState","visibleButtons","div","status_message","statusMessage","swapServer","resetButtons","server_side","receiver_side","server_mode","server_fault","server_ace","server_let","receiver_mode","receiver_ufe","receiver_winner","receiver_forced","game_number","swapSides","setCourtSide","changeTextColor","changeClassDisplay","classes","obj","className","checkPlayerName","keypress","player_hand","changePlayerName","player_name","update","editMatchDetails","matchDetails","detailContent","exportImage","recycleImage","modalExport","selector","match_data","header","save","copy","modaltext","util","newclass","re","SwipeList","opt","swipeLeft","swipeRight","instances","instance","moveX","moveY","moveStart","leftpx","rightpx","button","btn","abtn","img","event","inst","touches","nowX","nowY","defineActionEvents","resetStyles","resetButton","UUID","lut","d0","d1","d2","d3","loadMatch","view","viewManager","json","mdFormat","displayMatchArchive","active","newMatch","archiveEntry","ma_elem","_b","deleteMatch","current_match_id","archive_id","resetMatch","force_format","months","display_date","display_players","match_score","match_format","displayFormats","format_types","formatEntry","matchFormatList","isCurrent","strokeSlider","show","width","stroke_slider","slideRight","slideLeft","hideSlide","supportsPassive","opts","behaviors","handleTouchStart","handleTouchMove","swipeTouchEnd","pressAndHoldEnd","preventDrag","preventDoubleTap","evt","now","last_touch","xDown","yDown","xDiff","yDiff","timeDown","touch_target","xUp","yUp","findAncestor","cls","timeDiff","touchManager","ascending$1","bisector","compare","ascendingComparator","lo","hi","mid","ascending","ascendingBisect","bisectRight","sequence","stop","step","range","e10","e5","e2","ticks","reverse","tickIncrement","power","error","tickStep","step0","step1","slice","identity$2","top","right","bottom","left","epsilon","translateX","translateY","scale","center","offset","entering","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","transform","context","identity","spacing","range0","range1","position","selection","path","tick","tickExit","tickEnter","line","axisBottom","axisLeft","noop","dispatch","t","Dispatch","parseTypenames","typenames","types","typename","callback","T","get","that","args","xhtml","namespaces","namespace","prefix","creatorInherit","document","uri","creatorFixed","fullname","creator","none","selection_select","select","groups","subgroups","j","subgroup","node","subnode","Selection","empty","selectorAll","selection_selectAll","parents","matcher","vendorMatches","matcher$1","selection_filter","sparse","selection_enter","EnterNode","parent","datum","next","constant$3","keyPrefix","bindIndex","enter","exit","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","keyValue","selection_data","bind","constant","enterGroup","updateGroup","exitGroup","i0","i1","previous","selection_exit","selection_merge","groups0","groups1","m0","m1","merges","group0","group1","merge","selection_order","selection_sort","compareNode","sortgroups","sortgroup","selection_call","selection_nodes","nodes","selection_node","selection_size","size","selection_empty","selection_each","attrRemove","attrRemoveNS","attrConstant","attrConstantNS","attrFunction","attrFunctionNS","selection_attr","defaultView","styleRemove","styleConstant","priority","styleFunction","selection_style","styleValue","propertyRemove","propertyConstant","propertyFunction","selection_property","classArray","string","classList","ClassList","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","selection_classed","textRemove","textConstant","textFunction","selection_text","htmlRemove","htmlConstant","htmlFunction","selection_html","raise","selection_raise","lower","selection_lower","selection_append","create","constantNull","selection_insert","before","remove","selection_remove","selection_cloneShallow","selection_cloneDeep","selection_clone","deep","selection_datum","filterEvents","filterContextListener","listener","contextListener","related","event1","onRemove","on","onAdd","capture","wrap","selection_on","dispatchEvent","window","dispatchConstant","dispatchFunction","selection_dispatch","root","nextId","Local","selectAll","define","constructor","factory","prototype","extend","Color","darker","brighter","reI","reN","reP","reHex3","reHex6","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","color","Rgb","rgbn","rgba","hsla","r","g","rgbConvert","rgb","opacity","h","l","Hsl","hslConvert","min","max","hsl","m2","hsl2rgb","deg2rad","rad2deg","Kn","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","rgb2xyz","xyz2lab","z","lab","lab2xyz","xyz2rgb","hclConvert","hcl","A","B","C","D","E","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","cubehelix","cosh","sinh","constant$2","linear","exponential","hue","gamma","nogamma","interpolateRgb","rgbGamma","colorRgb","array$1","nb","na","reinterpolate","reA","reB","zero","one","interpolateString","bi","am","bm","bs","q","interpolateValue","array","interpolateRound","degrees","decompose","scaleX","scaleY","skewX","cssNode","cssRoot","cssView","svgNode","parseCss","parseSvg","interpolateTransform","parse","pxComma","pxParen","degParen","pop","translate","xa","ya","xb","yb","rotate","interpolateTransformCss","interpolateTransformSvg","colorHcl","hcl$1","cubehelixGamma","colorCubehelix","cubehelixLong","frame","timeout","interval","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","setFrame","clearNow","Timer","timer","delay","time","sleep","timerFlush","wake","nap","poke","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedule","timing","schedules","init","self","tween","interrupt","selection_interrupt","tweenRemove","tween0","tween1","tweenFunction","transition_tween","tweenValue","transition","interpolate","interpolateNumber","value1","value00","interpolate0","value0","value10","transition_attr","attrTweenNS","attrTween","transition_attrTween","delayFunction","delayConstant","transition_delay","durationFunction","durationConstant","transition_duration","easeConstant","transition_ease","transition_filter","Transition","transition_merge","onFunction","on0","on1","sit","transition_on","removeFunction","transition_remove","transition_select","transition_selectAll","inherit","transition_selection","style","styleRemoveEnd","transition_style","styleTween","transition_styleTween","transition_text","transition_transition","id0","id1","newId","selection_prototype","cubicInOut","exponent","custom","polyIn","polyOut","polyInOut","overshoot","backIn","backOut","backInOut","tau","amplitude","period","elasticIn","elasticOut","elasticInOut","defaultTiming","easeCubicInOut","selection_transition","pi","tauEpsilon","Path","x1","y1","x2","y2","x0","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","a0","a1","ccw","dx","dy","cw","da","w","Map","property","keys","entries","Set","proto","EOL","EOF","QUOTE","NEWLINE","RETURN","objectConverter","columns","customConverter","row","inferColumns","rows","columnSet","column","dsv","delimiter","reFormat","DELIMITER","convert","parseRows","N","I","eof","eol","token","formatValue","formatRows","formatRow","tree_add","add","tree","leaf","xm","ym","xp","yp","addAll","xz","yz","tree_cover","tree_data","tree_extent","Quad","tree_find","radius","x3","y3","quads","tree_remove","retainer","removeAll","tree_root","tree_size","tree_visit","tree_visitAfter","tree_x","tree_y","Quadtree","leaf_copy","treeProto","tree_addAll","tree_removeAll","formatDecimal","coefficient","formatGroup","thousands","length","formatNumerals","numerals","formatDefault","out","prefixExponent","formatPrefixAuto","formatRounded","formatTypes","formatSpecifier","specifier","FormatSpecifier","fill","align","sign","symbol","comma","precision","prefixes","formatLocale$1","locale","currency","decimal","percent","newFormat","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","padding","formatPrefix","defaultLocale","formatLocale","precisionFixed","precisionPrefix","precisionRound","adder","Adder","temp","bv","av","rotationIdentity","lambda","phi","TransformStream","equirectangularRaw","sum","node_count","node_each","node_eachBefore","node_eachAfter","node_sum","node_sort","node_path","ancestor","leastCommonAncestor","aNodes","bNodes","node_ancestors","node_descendants","node_leaves","leaves","node_links","links","hierarchy","Node","valued","childs","defaultChildren","computeHeight","node_copy","copyData","height","treemapDice","treemapSlice","squarifyRatio","ratio","nodeValue","sumValue","minValue","maxValue","newRatio","minRatio","alpha","beta","squarify","resquarify","noabort","Queue","abort","results","maybeNotify","defaultSource","sourceRandomUniform","randomUniform","normal","sourceRandomNormal","randomNormal","mu","sigma","sourceRandomLogNormal","randomLogNormal","irwinHall","sourceRandomIrwinHall","randomIrwinHall","sourceRandomBates","randomBates","sourceRandomExponential","randomExponential","implicit","ordinal","domain","unknown","band","ordinalRange","bandwidth","paddingInner","paddingOuter","rescale","pointish","constant$1","unit","deinterpolateLinear","deinterpolateClamp","deinterpolate","reinterpolateClamp","bimap","r0","r1","polymap","bisect","continuous","clamp","piecewise","output","input","linearish","newInterval","floori","offseti","test","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","second","minute","hour","weekday","sunday","monday","tuesday","wednesday","thursday","friday","saturday","utcMinute","utcHour","utcDay","utcWeekday","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcMonth","utcYear","localDate","utcDate","newYear","locale_dateTime","locale_date","locale_time","locale_periods","locale_weekdays","locale_shortWeekdays","locale_months","locale_shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseYear","parseFullYear","parseZone","parseLiteralPercent","pad","pads","newParse","newDate","parseSpecifier","week","timeMonday","timeDay","numberRe","percentRe","requoteRe","requote","timeYear","timeSunday","timeThursday","dow","utcFormat","utcParse","isoSpecifier","formatIsoNative","parseIsoNative","colors","interpolateCubehelixLong","ramp","Linear","curveLinear","pointX","pointY","defined","curve","defined0","buffer","noop$1","Basis","Bundle","bundle","Cardinal","tension","cardinal","CardinalClosed","CardinalOpen","CatmullRom","x23","y23","catmullRom","CatmullRomClosed","CatmullRomOpen","slope3","h0","h1","s0","s1","slope2","MonotoneX","RedBlackTree","RedBlackNode","after","grandpa","uncle","RedBlackFirst","RedBlackRotateLeft","RedBlackRotateRight","sibling","red","createEdge","v0","v1","edge","edges","setEdgeEnd","cells","createBorderEdge","vertex","clipEdge","ax","ay","bx","by","connectEdge","lx","ly","rx","ry","fy","fm","fb","clipEdges","createCell","site","cellHalfedgeAngle","cell","va","vb","cellHalfedgeStart","cellHalfedgeEnd","sortCellHalfedges","halfedges","clipCells","nCells","iCell","iHalfedge","nHalfedges","startX","startY","endX","endY","cover","dc","v00","v01","v11","v10","circlePool","firstCircle","Circle","attachCircle","arc","lArc","rArc","lSite","cSite","rSite","cx","cy","epsilon2","ha","hc","circle","circles","detachCircle","beachPool","Beach","createBeach","beach","detachBeach","beaches","removeBeach","disappearing","nArcs","iArc","addBeach","directrix","dxl","dxr","leftBreakPoint","rightBreakPoint","newArc","hb","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","triangleArea","lexicographic","Diagram","sites","extent","polygon","triangles","e1","vx","vy","v2","Transform","location","simpleChart","dom_parent","d3.select","screen_width","screen_height","min_points","svg","margin","d3.scaleLinear","d3.line","chart","maxY","d3.axisBottom","d3.axisLeft","drawLines","appendCircles","lineData","targetclass","updateStats","setNumber","statselectors","stripModifiers","statView","left_display","right_display","numerators","statclass","table","left_results","right_results","stroke","statLines","addCharts","player_points","changeDisplay","new_view","views","activate","menuMatchArchive","menuMatchFormat","menuChangeServer","noAd","view_keys","gameFish","fish_width","fish_height","coords","last_coords","images","default_colors","events","fishFrame","bars","fish","dims","multiplier","max_rally","vert","fish_offset","fish_length","midpoint","sw","rw","cell_size","offset_divisor","cell_offset","cell_length","diag","grid_data","grid_labels","grid_side","label","gscoreT","gridcells","lineWidth","gridCT","gamecells","gameCT","zX","zY","circleRadius","oScale","lScale","d3.scaleBand","d3.range","rally_bars","rallyTstart","rallyT","rallyCalc","set_score","sscoreT","ssb","ssbT","serves","first_serve","serve_outcomes","sX","sY","colorShot","service_box","sBoxT","returns","rX","rY","colorReturn","findOffset","cL","rO","rL","sO","sL","zO","zL","keyWalk","valuesObject","optionsObject","vKeys","oKeys","oo","vo","functions","color3s","momentumChart","fish_school","momentumFrame","all_games","cellSize","d3.selectAll","score_lines","new_coords","showImages","hideImages","midline","scoreLines","score_text","scoreText","scores","scoreT","maxDiff","max_diff","cumulative","gameTree","applyMax","arr","applyMin","canvas","transition_time","point_connector","selectView","counterCalcs","tree_width","tree_height","point_lines","point_min","point_max","gradients","get_id","point_stops","calcStops","lines","ulines","under_lines","point_circles","colorShade","getHexColor","point_text","labels","label_text","selectors","clearView","_data","selected","previous_episode","calcPosition","winners","errors","winner_pct","u_pct","c_start","c_dist","r_start","r_dist","shadeColor2","R","G","shadeRGBColor","colorStr","ptsMatch","pts_sets","pts_charts","ptsChart","true_height","colores","max_width_points","matchObject","set_data","game_data","ptsHover","set_winner","resize","range_start","pts_max","pts_start","longest_rally","displayScore","xScale","calcWidth","pointScale","yScale","set_box","boxWidth","game_boundaries","game_boxes","lineGen","pts_lines","bp_data","bp_wrappers","breakpoints","add_index","points_index","barsX","bX","point_bars","lastName","split","legend","win_pct","err_pct","rally_pct","dl","vKey","sKeys","osKeys","sKey","set_object","fKeys","eKeys","fKey","configureViz","pcolors","showGame","showGameFish","closeGameFish","gFish","vizUpdate","direction","orientationEvent","setWindow","windowEvent","reason","message","setInitialState","provider","getJwtTokenStorageKey","tmxTimer","remaining","timerId","pause","reset","resume","DOUBLE_FAULT","CENTER","RIGHT","LEFT","containers","defaults","generateStyle","offsetTop","offsetBottom","offsetLeft","offsetRight","alignItems","textAlign","getContainer","container","toast","createToast","cleanUp","speed","animation","endAnimation","dismissButton","actionButton","onClose","removeParent","animations","tmxToast","intent","pauseOnHover","dismissible","clickClose","single","pulseCircle","pulse_circles","stroke_width","delay_multiplier","color_range","margins","d3.interpolateHcl","colorFill","d3.scalePoint","broadcastToggle","repeat","d3.active","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","withNativeBlob","withNativeArrayBuffer","isView","encodePacket","supportsBinary","encodeBlobAsBase64","fileReader","content","toArray","TEXT_ENCODER","encodePacketToBinary","packet","encoded","chars","lookup","decode","base64","bufferLength","len","encoded1","encoded2","encoded3","encoded4","arraybuffer","bytes","decodePacket","encodedPacket","binaryType","mapBinary","decodeBase64Packet","decoded","SEPARATOR","encodePayload","packets","encodedPackets","decodePayload","encodedPayload","decodedPacket","createPacketEncoderStream","controller","payloadLength","TEXT_DECODER","totalLength","chunks","acc","chunk","concatChunks","createPacketDecoderStream","maxPayload","state","expectedLength","isBinary","headerArray","protocol","Emitter","mixin","fn","callbacks","cb","globalThisShim","pick","attr","NATIVE_SET_TIMEOUT","globalThis","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","BASE64_OVERHEAD","byteLength","utf8Length","encode","qs","qry","pairs","pair","TransportError","Transport","details","onPause","schema","query","hostname","encodedQuery","alphabet","prev","num","yeast","hasCORS","XHR","xdomain","hasXHR2","XMLHttpRequest","Polling","isSSL","port","forceBase64","total","close","Request","req","xhrStatus","xhr","err","fromError","unloadHandler","terminationEvent","nextTick","setTimeoutFn","WebSocket","usingBrowserWebSocket","defaultBinaryType","isReactNative","WS","protocols","closeEvent","ev","lastPacket","WT","stream","decoderStream","reader","encoderStream","read","done","transports","src","pathNames","queryKey","regx","$0","$1","$2","Socket","transport","failed","onTransportOpen","msg","cleanup","freezeTransport","onerror","onTransportClose","onclose","onupgrade","to","payloadSize","cleanupAndClose","waitForUpgrade","upgrades","filteredUpgrades","url","loc","host","toString","withNativeFile","hasBinary","toJSON","deconstructPacket","buffers","packetData","pack","_deconstructPacket","placeholder","newData","reconstructPacket","_reconstructPacket","RESERVED_EVENTS","PacketType","Encoder","replacer","deconstruction","isObject","Decoder","reviver","isBinaryEvent","BinaryReconstructor","buf","payload","binData","io","nsp","ack","isTransportWritable","withErr","resolve","reject","arg1","arg2","responseArgs","listeners","sent","pid","subDestroy","compress","Backoff","ms","rand","deviation","jitter","Manager","_parser","Engine","socket","openSubDestroy","onError","errorSub","nsps","cache","parsed","sameNamespace","newConnection","getAuthorization","coms","connectSocket","connectionString","connectionOptions","connect","comsConnect","comsDisconnect","comsError","sendHistory","receiveMatchUp","exeption","disconnectSocket","endBroadcast","auth_match","surfaces","inout","broadcasting","startBroadcast","pc","sendKey","broadcastStatus","InvalidTokenError","b64DecodeUnicode","base64UrlDecode","jwtDecode","part","validateToken","decodedToken","dateNow","JWT_TOKEN_STORAGE_NAME","logOut","logIn","thisArg","getPrototypeOf","kindOf","thing","kindOfTest","typeOfTest","isArray","isUndefined","isBuffer","val","isArrayBuffer","isArrayBufferView","isNumber","isBoolean","isPlainObject","isDate","isFile","isBlob","isFileList","isStream","isFormData","kind","isURLSearchParams","trim","forEach","allOwnKeys","findKey","_key","_global","isContextDefined","caseless","assignValue","targetKey","stripBOM","inherits","superConstructor","props","descriptors","toFlatObject","sourceObj","destObj","filter","propFilter","prop","merged","endsWith","searchString","lastIndex","isTypedArray","TypedArray","forEachEntry","iterator","matchAll","regExp","matches","isHTMLForm","toCamelCase","hasOwnProperty","isRegExp","reduceDescriptors","reducer","reducedDescriptors","descriptor","ret","freezeMethods","toObjectSet","arrayOrString","toFiniteNumber","defaultValue","ALPHA","DIGIT","ALPHABET","generateString","isSpecCompliantForm","toJSONObject","stack","visit","reducedValue","isAsyncFn","isThenable","utils$1","AxiosError","config","request","response","utils","customProps","axiosError","httpAdapter","isVisitable","removeBrackets","renderKey","dots","isFlatArray","predicates","toFormData","formData","option","metaTokens","visitor","defaultVisitor","indexes","useBlob","convertValue","exposedHelpers","build","charMap","AxiosURLSearchParams","encoder","_encode","buildURL","serializeFn","serializedParams","hashmarkIndex","InterceptorManager","fulfilled","InterceptorManager$1","transitionalDefaults","URLSearchParams$1","FormData$1","Blob$1","platform$1","URLSearchParams","FormData","Blob","hasBrowserEnv","hasStandardBrowserEnv","product","hasStandardBrowserWebWorkerEnv","platform","toURLEncodedForm","helpers","parsePropPath","arrayToObject","formDataToJSON","buildPath","isNumericKey","isLast","stringifySafely","rawValue","headers","contentType","hasJSONContentType","isObjectPayload","_FormData","transitional","forcedJSONParsing","JSONRequested","strictJSONParsing","method","defaults$1","ignoreDuplicateOf","parseHeaders","rawHeaders","$internals","normalizeHeader","normalizeValue","parseTokens","tokens","tokensRE","isValidHeaderName","matchHeaderValue","isHeaderNameFilter","formatHeader","char","buildAccessors","accessorName","methodName","arg3","AxiosHeaders","valueOrRewrite","rewrite","setHeader","_value","_header","_rewrite","lHeader","setHeaders","deleted","deleteHeader","normalized","targets","asStrings","first","computed","defineAccessor","mapped","headerValue","AxiosHeaders$1","transformData","fns","isCancel","CanceledError","settle","validateStatus","cookies","expires","secure","cookie","isAbsoluteURL","combineURLs","baseURL","relativeURL","buildFullPath","requestedURL","isURLSameOrigin","msie","urlParsingNode","originURL","resolveURL","href","requestURL","parseProtocol","speedometer","samplesCount","head","tail","firstSampleTS","chunkLength","startedAt","bytesCount","passed","progressEventReducer","isDownloadStream","bytesNotified","_speedometer","loaded","progressBytes","rate","inRange","isXHRAdapterSupported","xhrAdapter","requestData","requestHeaders","responseType","withXSRFToken","onCanceled","username","password","fullPath","onloadend","responseHeaders","timeoutErrorMessage","xsrfValue","cancel","knownAdapters","renderReason","isResolvedHandle","adapter","adapters","nameOrAdapter","rejectedReasons","reasons","throwIfCancellationRequested","dispatchRequest","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","VERSION","validators","deprecatedWarnings","validator","formatMessage","desc","assertOptions","allowUnknown","Axios","instanceConfig","configOrUrl","dummy","paramsSerializer","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","promise","chain","newConfig","onFulfilled","onRejected","generateHTTPMethod","isForm","Axios$1","CancelToken","executor","resolvePromise","onfulfilled","_resolve","CancelToken$1","spread","isAxiosError","HttpStatusCode","HttpStatusCode$1","createInstance","defaultConfig","axios","promises","axios$1","axiosInstance","removeAuthorization","addAuthorization","baseApi","systemLogin","email","submitCredentials","res","setDev","updateTournamentDetails","updateMatchDetails","updateDetails","touchTimer","registeredFunctions","intersection","evnt","mouse","tapHandler","processEvnt","lastTap","stopPropagation","matchedClasses","thisTap","callFunction","pointerEvent","holdAction","touchleave","isTouch","isTouchTimer","curRootClass","addtouchclass","removetouchclass","eventManager","broadcastScore","match_meta","match_message","sendScoreUpdate","next_update","last_timeout","last_update","update_window","wait_time","checkMatchEnd","strokeAction","last_action","updatePlayer","updatePlayerDetails","rankElement","wtnElement","utrElement","teamElement","idElement","changeFormat","selectionContainer","format_name","toggles","classAction","playerRole","slider_side","changeValue","rallyMode","actions","player_side","sound","styleButton","player_position","checkStartTime","point_location","getPointLocation","what","p0location","p1location","exportMatch","download","textToWrite","fileNameToSaveAs","textFileAsBlob","downloadLink","toggleChart","visible","emailblackImage","modalShare","json_data","shareResult","email_message","emailOption","clipboardOption","sendHistoryOption","editPoint","epSGP","point_winner","point_loser","changePointWinner","changePointPlayer","changeResultOptions","editPointDisplay","pointPlayer","pointResult","pointWinner","updatePoint","editPlayer","editPlayerDisplay","playerName","targetElement","playerRank","playerWTN","playerUTR","pointsImage","modalHelp","quick_start","quick","helptext","modalInfo","enterKey","key_entry","keyAction","submit","submitKey","viewGameFish","gameIndex","viewEditPoint","pointIndex","viewStats","viewMatchFormat","viewGameTree","viewMomentum","viewPointHistory","matchArchive","outcomeEntry","mainMenu","undoAction","redoAction","changeServer","swapAction","registerEvents","module","this","__webpack_modules__","__unused_webpack_module","__webpack_exports__","__webpack_require__","clipboard","tiny_emitter","tiny_emitter_default","listen","listen_default","src_select","select_default","command","ClipboardActionCut","selectedText","actions_cut","createFakeElement","isRTL","fakeElement","yPosition","fakeCopyAction","ClipboardActionCopy","actions_copy","_typeof","ClipboardActionDefault","_options$action","actions_default","clipboard_typeof","_classCallCheck","Constructor","_defineProperties","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","call","_assertThisInitialized","getAttributeValue","Clipboard","_Emitter","_super","trigger","_this","_this2","support","DOCUMENT_NODE_TYPE","closest","__unused_webpack_exports","_delegate","useCapture","listenerFn","delegate","elements","exports","is","listenNode","listenNodeList","listenSelector","nodeList","isReadOnly","ctx","evtArr","evts","liveEvents","__webpack_module_cache__","moduleId","getter","queryString","vars","checkUserUUID","defineEntryEvents","optionValue","iocCodes","loadCurrent","catchTab","playername","hold_targets","chLogo","renderDefaultPage","PARAMETER_REGEXP","REPLACE_VARIABLE_REGEXP","WILDCARD_REGEXP","REPLACE_WILDCARD","NOT_SURE_REGEXP","REPLACE_NOT_SURE","START_BY_SLASH_REGEXP","MATCH_REGEXP_FLAGS","getCurrentEnvURL","fallback","windowAvailable","clean","extractHashFromURL","regExpResultToParams","extractGETParameters","tmp","parseQuery","matchRoute","route","_extractGETParameters","GETParams","paramNames","pattern","full","regexp","pushStateAvailable","undefinedOrTrue","parseNavigateOptions","resolveOptions","accumulateHooks","hooks","Q","funcs","idx","moveForward","condition","two","setLocationPath","matchPathToRegisteredRoutes","checkForDeprecationMethods","checkForForceOp","isWindowAvailable","isPushStateAvailable","updateBrowserURL","isItUsingHash","checkForLeaveHook","oldMatch","leaveLoopDone","runHook","newLocationVSOldMatch","someOfTheLastOnesMatch","shouldStop","checkForBeforeHook","callHandler","checkForAfterHook","checkForAlreadyHook","checkForNotFoundHandler","notFoundRoute","hashString","notFoundMatch","errorOut","flushCurrent","foundLifecycle","notFoundLifeCycle","_ref","notFoundHandled","_extends","processMatches","nextMatch","waitingList","DEFAULT_LINK_SELECTOR","Navigo","appRoute","DEFAULT_RESOLVE_OPTIONS","routes","destroyed","genericHooks","_checkForAHash","composePathWithRoot","createRoute","handler","_path$p","_handler","_hooks","navigate","navigateOptions","_ref2","navigateByName","generate","off","destroy","notFound","updatePageLinks","findLinks","link","u","setGenericHooks","lastResolved","getLinkPath","pathToMatchObject","getCurrentLocation","directMatchWithRegisteredRoutes","directMatchWithLocation","currentLocation","annotatePathWithRoot","addHook","func","getRoute","nameOrHandler","__markAsClean","define_process_env_default","router"],"mappings":"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KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,KAAM,EAAGA,EAAE,IAAK,EAC/B,OAAQ,CAAE,EAAGA,EAAE,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AG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,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","x_google_ignoreList":[23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,302,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,373,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397]}