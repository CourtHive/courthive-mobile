{"version":3,"file":"index-2zPTAJUp.js","sources":["../../src/transition/browserStorage.ts","../../src/transition/utilities.ts","../../src/services/matchObject/umo.ts","../../src/transition/env.ts","../../src/transition/formatChangePossible.ts","../../src/transition/displayPointHistory.ts","../../src/transition/groupGames.ts","../../src/transition/modals.ts","../../src/transition/displayUpdate.ts","../../src/assets/icons/exportwhite.png","../../src/assets/icons/recycle.png","../../src/transition/modalExport.ts","../../src/transition/swipeList.ts","../../src/transition/events.ts","../../src/transition/UUID.ts","../../src/transition/loadMatch.ts","../../src/transition/displayMatchArchive.ts","../../src/transition/displayFormats.ts","../../node_modules/.pnpm/d3-array@1.2.1/node_modules/d3-array/src/ascending.js","../../node_modules/.pnpm/d3-array@1.2.1/node_modules/d3-array/src/bisector.js","../../node_modules/.pnpm/d3-array@1.2.1/node_modules/d3-array/src/bisect.js","../../node_modules/.pnpm/d3-array@1.2.1/node_modules/d3-array/src/range.js","../../node_modules/.pnpm/d3-array@1.2.1/node_modules/d3-array/src/ticks.js","../../node_modules/.pnpm/d3-axis@1.0.8/node_modules/d3-axis/src/array.js","../../node_modules/.pnpm/d3-axis@1.0.8/node_modules/d3-axis/src/identity.js","../../node_modules/.pnpm/d3-axis@1.0.8/node_modules/d3-axis/src/axis.js","../../node_modules/.pnpm/d3-dispatch@1.0.3/node_modules/d3-dispatch/src/dispatch.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/namespaces.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/namespace.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/creator.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selector.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/select.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selectorAll.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/selectAll.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/matcher.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/filter.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/sparse.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/enter.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/constant.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/data.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/exit.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/merge.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/order.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/sort.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/call.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/nodes.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/node.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/size.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/empty.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/each.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/attr.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/window.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/style.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/property.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/classed.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/text.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/html.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/raise.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/lower.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/append.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/insert.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/remove.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/clone.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/datum.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/on.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/dispatch.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selection/index.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/select.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/local.js","../../node_modules/.pnpm/d3-selection@1.3.0/node_modules/d3-selection/src/selectAll.js","../../node_modules/.pnpm/d3-color@1.0.3/node_modules/d3-color/src/define.js","../../node_modules/.pnpm/d3-color@1.0.3/node_modules/d3-color/src/color.js","../../node_modules/.pnpm/d3-color@1.0.3/node_modules/d3-color/src/math.js","../../node_modules/.pnpm/d3-color@1.0.3/node_modules/d3-color/src/lab.js","../../node_modules/.pnpm/d3-color@1.0.3/node_modules/d3-color/src/cubehelix.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/constant.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/color.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/rgb.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/array.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/date.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/number.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/object.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/string.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/value.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/round.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/transform/decompose.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/transform/parse.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/transform/index.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/hcl.js","../../node_modules/.pnpm/d3-interpolate@1.1.6/node_modules/d3-interpolate/src/cubehelix.js","../../node_modules/.pnpm/d3-timer@1.0.7/node_modules/d3-timer/src/timer.js","../../node_modules/.pnpm/d3-timer@1.0.7/node_modules/d3-timer/src/timeout.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/schedule.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/interrupt.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/selection/interrupt.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/tween.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/interpolate.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/attr.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/attrTween.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/delay.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/duration.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/ease.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/filter.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/merge.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/on.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/remove.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/select.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/selectAll.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/selection.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/style.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/styleTween.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/text.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/transition.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/transition/index.js","../../node_modules/.pnpm/d3-ease@1.0.3/node_modules/d3-ease/src/cubic.js","../../node_modules/.pnpm/d3-ease@1.0.3/node_modules/d3-ease/src/poly.js","../../node_modules/.pnpm/d3-ease@1.0.3/node_modules/d3-ease/src/back.js","../../node_modules/.pnpm/d3-ease@1.0.3/node_modules/d3-ease/src/elastic.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/selection/transition.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/selection/index.js","../../node_modules/.pnpm/d3-transition@1.1.1/node_modules/d3-transition/src/active.js","../../node_modules/.pnpm/d3-path@1.0.5/node_modules/d3-path/src/path.js","../../node_modules/.pnpm/d3-collection@1.0.4/node_modules/d3-collection/src/map.js","../../node_modules/.pnpm/d3-collection@1.0.4/node_modules/d3-collection/src/set.js","../../node_modules/.pnpm/d3-dsv@1.0.8/node_modules/d3-dsv/src/dsv.js","../../node_modules/.pnpm/d3-dsv@1.0.8/node_modules/d3-dsv/src/csv.js","../../node_modules/.pnpm/d3-dsv@1.0.8/node_modules/d3-dsv/src/tsv.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/add.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/cover.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/data.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/extent.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/quad.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/find.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/remove.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/root.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/size.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/visit.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/visitAfter.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/x.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/y.js","../../node_modules/.pnpm/d3-quadtree@1.0.3/node_modules/d3-quadtree/src/quadtree.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/formatDecimal.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/exponent.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/formatGroup.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/formatNumerals.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/formatDefault.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/formatPrefixAuto.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/formatRounded.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/formatTypes.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/formatSpecifier.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/identity.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/locale.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/defaultLocale.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/precisionFixed.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/precisionPrefix.js","../../node_modules/.pnpm/d3-format@1.2.2/node_modules/d3-format/src/precisionRound.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/adder.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/math.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/area.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/bounds.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/rotation.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/polygonContains.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/length.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/path/area.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/path/measure.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/transform.js","../../node_modules/.pnpm/d3-geo@1.9.1/node_modules/d3-geo/src/projection/equirectangular.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/count.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/each.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/sum.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/sort.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/path.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/descendants.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/leaves.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/links.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/hierarchy/index.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/treemap/dice.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/tree.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/treemap/slice.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/treemap/squarify.js","../../node_modules/.pnpm/d3-hierarchy@1.1.5/node_modules/d3-hierarchy/src/treemap/resquarify.js","../../node_modules/.pnpm/d3-queue@3.0.7/node_modules/d3-queue/src/array.js","../../node_modules/.pnpm/d3-queue@3.0.7/node_modules/d3-queue/src/queue.js","../../node_modules/.pnpm/d3-random@1.1.0/node_modules/d3-random/src/defaultSource.js","../../node_modules/.pnpm/d3-random@1.1.0/node_modules/d3-random/src/uniform.js","../../node_modules/.pnpm/d3-random@1.1.0/node_modules/d3-random/src/normal.js","../../node_modules/.pnpm/d3-random@1.1.0/node_modules/d3-random/src/logNormal.js","../../node_modules/.pnpm/d3-random@1.1.0/node_modules/d3-random/src/irwinHall.js","../../node_modules/.pnpm/d3-random@1.1.0/node_modules/d3-random/src/bates.js","../../node_modules/.pnpm/d3-random@1.1.0/node_modules/d3-random/src/exponential.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/array.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/ordinal.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/band.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/constant.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/number.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/continuous.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/tickFormat.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/linear.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/interval.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/millisecond.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/duration.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/second.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/minute.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/hour.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/day.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/week.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/month.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/year.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/utcMinute.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/utcHour.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/utcDay.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/utcWeek.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/utcMonth.js","../../node_modules/.pnpm/d3-time@1.0.8/node_modules/d3-time/src/utcYear.js","../../node_modules/.pnpm/d3-time-format@2.1.1/node_modules/d3-time-format/src/locale.js","../../node_modules/.pnpm/d3-time-format@2.1.1/node_modules/d3-time-format/src/defaultLocale.js","../../node_modules/.pnpm/d3-time-format@2.1.1/node_modules/d3-time-format/src/isoFormat.js","../../node_modules/.pnpm/d3-time-format@2.1.1/node_modules/d3-time-format/src/isoParse.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/colors.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/category10.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/category20b.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/category20c.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/category20.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/cubehelix.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/rainbow.js","../../node_modules/.pnpm/d3-scale@1.0.7/node_modules/d3-scale/src/viridis.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/constant.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/math.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/linear.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/point.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/line.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/noop.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/basis.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/bundle.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/cardinal.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/cardinalClosed.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/cardinalOpen.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/catmullRom.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/catmullRomClosed.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/catmullRomOpen.js","../../node_modules/.pnpm/d3-shape@1.2.0/node_modules/d3-shape/src/curve/monotone.js","../../node_modules/.pnpm/d3-voronoi@1.1.2/node_modules/d3-voronoi/src/RedBlackTree.js","../../node_modules/.pnpm/d3-voronoi@1.1.2/node_modules/d3-voronoi/src/Edge.js","../../node_modules/.pnpm/d3-voronoi@1.1.2/node_modules/d3-voronoi/src/Cell.js","../../node_modules/.pnpm/d3-voronoi@1.1.2/node_modules/d3-voronoi/src/Circle.js","../../node_modules/.pnpm/d3-voronoi@1.1.2/node_modules/d3-voronoi/src/Beach.js","../../node_modules/.pnpm/d3-voronoi@1.1.2/node_modules/d3-voronoi/src/Diagram.js","../../node_modules/.pnpm/d3-zoom@1.7.1/node_modules/d3-zoom/src/transform.js","../../src/transition/strokeSlider.ts","../../src/transition/touchManager.ts","../../src/transition/simpleChart.ts","../../src/transition/updateStats.ts","../../src/transition/viewManager.ts","../../src/transition/gameFish.ts","../../src/transition/momentumChart.ts","../../src/transition/gameTree.ts","../../src/transition/ptsChart.ts","../../src/transition/configureViz.ts","../../src/config/setWindow.ts","../../src/config/version.ts","../../src/config/initialState.ts","../../src/config/getJwtTokenStorageKey.ts","../../src/transition/pulseCircle.ts","../../node_modules/.pnpm/engine.io-parser@5.2.1/node_modules/engine.io-parser/build/esm/commons.js","../../node_modules/.pnpm/engine.io-parser@5.2.1/node_modules/engine.io-parser/build/esm/encodePacket.browser.js","../../node_modules/.pnpm/engine.io-parser@5.2.1/node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js","../../node_modules/.pnpm/engine.io-parser@5.2.1/node_modules/engine.io-parser/build/esm/decodePacket.browser.js","../../node_modules/.pnpm/engine.io-parser@5.2.1/node_modules/engine.io-parser/build/esm/index.js","../../node_modules/.pnpm/@socket.io+component-emitter@3.1.0/node_modules/@socket.io/component-emitter/index.mjs","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/globalThis.browser.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/util.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/contrib/parseqs.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/transport.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/contrib/yeast.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/contrib/has-cors.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/transports/polling.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/transports/websocket.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/transports/webtransport.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/transports/index.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/contrib/parseuri.js","../../node_modules/.pnpm/engine.io-client@6.5.3/node_modules/engine.io-client/build/esm/socket.js","../../node_modules/.pnpm/socket.io-client@4.7.4/node_modules/socket.io-client/build/esm/url.js","../../node_modules/.pnpm/socket.io-parser@4.2.4/node_modules/socket.io-parser/build/esm/is-binary.js","../../node_modules/.pnpm/socket.io-parser@4.2.4/node_modules/socket.io-parser/build/esm/binary.js","../../node_modules/.pnpm/socket.io-parser@4.2.4/node_modules/socket.io-parser/build/esm/index.js","../../node_modules/.pnpm/socket.io-client@4.7.4/node_modules/socket.io-client/build/esm/on.js","../../node_modules/.pnpm/socket.io-client@4.7.4/node_modules/socket.io-client/build/esm/socket.js","../../node_modules/.pnpm/socket.io-client@4.7.4/node_modules/socket.io-client/build/esm/contrib/backo2.js","../../node_modules/.pnpm/socket.io-client@4.7.4/node_modules/socket.io-client/build/esm/manager.js","../../node_modules/.pnpm/socket.io-client@4.7.4/node_modules/socket.io-client/build/esm/index.js","../../src/transition/coms.ts","../../node_modules/.pnpm/jwt-decode@4.0.0/node_modules/jwt-decode/build/esm/index.js","../../src/services/auth/validateToken.ts","../../src/services/auth/loginState.ts","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/bind.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/utils.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/core/AxiosError.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/null.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/toFormData.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/AxiosURLSearchParams.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/buildURL.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/core/InterceptorManager.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/defaults/transitional.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/platform/browser/classes/FormData.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/platform/browser/classes/Blob.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/platform/browser/index.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/platform/common/utils.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/platform/index.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/toURLEncodedForm.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/formDataToJSON.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/defaults/index.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/parseHeaders.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/core/AxiosHeaders.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/core/transformData.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/cancel/isCancel.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/cancel/CanceledError.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/core/settle.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/cookies.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/isAbsoluteURL.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/combineURLs.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/core/buildFullPath.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/isURLSameOrigin.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/parseProtocol.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/speedometer.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/adapters/xhr.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/adapters/adapters.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/core/dispatchRequest.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/core/mergeConfig.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/env/data.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/validator.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/core/Axios.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/cancel/CancelToken.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/spread.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/isAxiosError.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/helpers/HttpStatusCode.js","../../node_modules/.pnpm/axios@1.6.5/node_modules/axios/lib/axios.js","../../src/services/messaging/baseApi.ts","../../src/services/messaging/authApi.ts","../../src/services/helpers/setDev.ts","../../src/transition/updateTournamentDetails.ts","../../src/transition/updateMatchDetails.ts","../../src/transition/updateDetails.ts","../../src/transition/eventManager.ts","../../src/transition/broadcastScore.ts","../../src/transition/checkMatchEnd.ts","../../src/transition/strokeAction.ts","../../src/transition/updatePlayer.ts","../../src/transition/changeFormat.ts","../../src/transition/constants.ts","../../src/transition/classAction.ts","../../src/transition/exportMatch.ts","../../src/transition/toggleChart.ts","../../src/assets/icons/emailblack.png","../../src/transition/modalShare.ts","../../src/transition/editPoint.ts","../../src/transition/editPlayer.ts","../../src/assets/icons/points.jpg","../../src/transition/modalHelp.ts","../../src/transition/modalInfo.ts","../../src/transition/enterKey.ts","../../src/transition/clickActions.ts","../../src/transition/registerEvents.ts","../../node_modules/.pnpm/clipboard@2.0.11/node_modules/clipboard/dist/clipboard.js","../../src/transition/init.ts","../../src/assets/images/courthive-transparent-logo.png","../../src/pages/courthive/default.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/constants.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/utils.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/Q.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/setLocationPath.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/matchPathToRegisteredRoutes.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/checkForDeprecationMethods.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/checkForForceOp.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/updateBrowserURL.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/checkForLeaveHook.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/checkForBeforeHook.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/callHandler.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/checkForAfterHook.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/checkForAlreadyHook.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/checkForNotFoundHandler.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/errorOut.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/flushCurrent.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/updateState.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/lifecycles.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/processMatches.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/middlewares/waitingList.js","../../node_modules/.pnpm/navigo@8.11.1/node_modules/navigo/lib/es/index.js","../../src/router/router.ts","../../src/main.ts"],"sourcesContent":["/**\n * Whether the current browser supports local storage as a way of storing data\n * @var {Boolean}\n */\nconst _hasLocalStorageSupport = (function () {\n  try {\n    return 'localStorage' in window && window['localStorage'] !== null;\n  } catch (e) {\n    return false;\n  }\n})();\n\n/**\n * @param {String} name The name of the property to read from this document's cookies\n * @return {?String} The specified cookie property's value (or null if it has not been set)\n */\nconst _readCookie = function (name: string) {\n  const nameEQ = name + '=';\n  const ca = document.cookie.split(';');\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i];\n    while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n    if (c.startsWith(nameEQ)) return c.substring(nameEQ.length, c.length);\n  }\n\n  return null;\n};\n\n/**\n * @param {String} name The name of the property to set by writing to a cookie\n * @param {String} value The value to use when setting the specified property\n * @param {int} [days] The number of days until the storage of this item expires\n */\nconst _writeCookie = function (name: string, value: string, days?: any) {\n  const expiration = (function () {\n    if (days) {\n      const date = new Date();\n      date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n      return '; expires=' + date.toUTCString();\n    } else {\n      return '';\n    }\n  })();\n\n  document.cookie = name + '=' + value + expiration + '; path=/';\n};\n\nexport const browserStorage = {\n  /**\n   * @param {String} name The name of the property to set\n   * @param {String} value The value to use when setting the specified property\n   * @param {int} [days] The number of days until the storage of this item expires (if storage of the provided item must fallback to using cookies)\n   */\n  set: function (name: string, value: string, days?: any) {\n    _hasLocalStorageSupport ? localStorage.setItem(name, value) : _writeCookie(name, value, days);\n  },\n\n  /**\n   * @param {String} name The name of the value to retrieve\n   * @return {?String} The value of the\n   */\n  get: function (name: string) {\n    return _hasLocalStorageSupport ? localStorage.getItem(name) : _readCookie(name);\n  },\n\n  /**\n   * @param {String} name The name of the value to delete/remove from storage\n   */\n  remove: function (name: string) {\n    _hasLocalStorageSupport ? localStorage.removeItem(name) : this.set(name, '', -1);\n  }\n};\n","export function isJSON(str: any) {\n  try {\n    JSON.parse(str);\n  } catch (e) {\n    return false;\n  }\n  return true;\n}\n\nexport function showModal(text: string, data?: any) {\n  const modalText = document.getElementById('modaltext');\n  if (modalText) modalText.innerHTML = text;\n  if (data) {\n    const c2c = document.getElementById('copy2clipboard');\n    if (c2c) c2c.setAttribute('data-clipboard-text', data);\n  }\n  const modal = document.getElementById('modal');\n  if (modal) modal.style.display = 'flex';\n}\n\nexport function firstAndLast(value: string) {\n  const parts = value.split(' ');\n  let display = parts[0];\n  if (parts.length > 1) display += ' ' + parts[parts.length - 1];\n  return display;\n}\n\nexport function getOpponents(match: any) {\n  const format = match.format;\n  const sides = match.sides;\n  return 'singles' === format\n    ? sides.map(function (e: any) {\n        return firstAndLast(e[0]);\n      })\n    : sides.map(teamName);\n}\n\nfunction teamName(side: any[]) {\n  return side[0].last_name + '/' + side[1].last_name;\n}\n\nexport function attemptJSONparse(data: string) {\n  if (!data) return undefined;\n  try {\n    return JSON.parse(data);\n  } catch (e) {\n    return undefined;\n  }\n}\n\nexport function formatDate(date: string, separator = '-', format = 'YMD') {\n  if (!date) return '';\n\n  const d = new Date(date);\n  let month = '' + (d.getMonth() + 1);\n  let day = '' + d.getDate();\n  const year = d.getFullYear();\n\n  if (month.length < 2) month = '0' + month;\n  if (day.length < 2) day = '0' + day;\n\n  if (format == 'DMY') return [day, month, year].join(separator);\n  if (format == 'MDY') return [month, day, year].join(separator);\n  if (format == 'YDM') return [year, day, month].join(separator);\n  if (format == 'DYM') return [day, year, month].join(separator);\n  if (format == 'MYD') return [month, year, day].join(separator);\n  return [year, month, day].join(separator);\n}\n\nexport function generateRange(start: number, end: number) {\n  return Array.from({ length: end - start }, (_, k) => k + start);\n}\n\nexport function findUpClass(el: any, class_name: string) {\n  while (el.parentNode) {\n    el = el.parentNode;\n    if (el.classList && Array.from(el.classList).indexOf(class_name) >= 0) return el;\n  }\n  return null;\n}\n","const umo: any = function () {};\n\n// these events will propagate to all objects created with factory functions\numo.addPoint_events = [];\numo.undo_events = [];\numo.reset_events = [];\n\numo.pointParser = defaultPointParser;\n\nconst formats = {\n  games: {\n    advantage: { description: 'Advantage Game', tiebreak: false, hasDecider: false, threshold: 4, minDiff: 2 },\n    noAdvantage: { description: 'No Advantage Game', tiebreak: false, hasDecider: true, threshold: 4, minDiff: 1 },\n    tiebreak7a: { description: 'Tiebreak to 7', tiebreak: true, hasDecider: false, threshold: 7, minDiff: 2 },\n    tiebreak10a: { description: 'Tiebreak to 10', tiebreak: true, hasDecider: false, threshold: 10, minDiff: 2 },\n    tiebreak12a: { description: 'Tiebreak to 10', tiebreak: true, hasDecider: false, threshold: 12, minDiff: 2 },\n    tiebreak9n: {\n      description: 'Tiebreak to 9, Golden Point',\n      tiebreak: true,\n      hasDecider: true,\n      threshold: 9,\n      minDiff: 1,\n    },\n  },\n  sets: {\n    AdSetsTo6tb7: {\n      description: 'Advantage, 6 games for set, Tiebreak to 7',\n      hasDecider: true,\n      threshold: 6,\n      minDiff: 2,\n      children: 'advantage',\n      decidingChild: 'tiebreak7a',\n    },\n    NoAdSetsTo6tb7: {\n      description: 'No-Ad, 6 games for set, Tiebreak to 7',\n      hasDecider: true,\n      threshold: 6,\n      minDiff: 2,\n      children: 'noAdvantage',\n      decidingChild: 'tiebreak7a',\n    },\n    NoAdSetsTo4tb7: {\n      description: 'No-Ad, 4 games for set, Tiebreak to 7',\n      hasDecider: true,\n      threshold: 4,\n      minDiff: 0,\n      children: 'noAdvantage',\n      decidingChild: 'tiebreak7a',\n    },\n    longSetTo6by2: {\n      description: 'Advantage, 6 games for set, win by 2 games',\n      hasDecider: false,\n      threshold: 6,\n      minDiff: 2,\n      children: 'advantage',\n      decidingChild: 'advantage',\n    },\n    supertiebreak: {\n      description: 'Supertiebreak',\n      hasDecider: true,\n      threshold: 1,\n      minDiff: 1,\n      children: 'tiebreak10a',\n      decidingChild: 'tiebreak10a',\n    },\n    pro10a12: {\n      description: '10 Game No Ad Pro Set; tiebreak to 12',\n      hasDecider: true,\n      threshold: 10,\n      minDiff: 2,\n      children: 'noAdvantage',\n      decidingChild: 'tiebreak12a',\n    },\n    pro8a7: {\n      description: '8 Game Pro Set; tiebreak to 7',\n      hasDecider: true,\n      threshold: 8,\n      minDiff: 2,\n      children: 'advantage',\n      decidingChild: 'tiebreak7a',\n    },\n    college6a7: {\n      description: '6 Game College Doubless Set; no advantage; tiebreak to 7',\n      hasDecider: true,\n      threshold: 6,\n      minDiff: 2,\n      children: 'noAdvantage',\n      decidingChild: 'tiebreak7a',\n    },\n  },\n  matches: {\n    '3_6a_7': {\n      name: 'Standard Advantage',\n      description: 'best of 3 sets, Advantage, 6 games for set, Tiebreak to 7',\n      hasDecider: true,\n      threshold: 2,\n      minDiff: 0,\n      children: 'AdSetsTo6tb7',\n      decidingChild: 'AdSetsTo6tb7',\n    },\n    '3_6n_7': {\n      name: 'Standard No-Advantage',\n      description: 'best of 3 sets, No Advantage, 6 games for set, Tiebreak to 7',\n      hasDecider: true,\n      threshold: 2,\n      minDiff: 0,\n      children: 'NoAdSetsTo6tb7',\n      decidingChild: 'NoAdSetsTo6tb7',\n    },\n    '3_4n_10': {\n      name: 'Standard Under 10',\n      description: 'best of 3 sets, No Advantage, 4 games for set, Tiebreak to 7, final set Supertiebreak',\n      hasDecider: true,\n      threshold: 2,\n      minDiff: 0,\n      children: 'NoAdSetsTo4tb7',\n      decidingChild: 'supertiebreak',\n    },\n    '1_4n_7': {\n      name: 'Under 10 Qualifying',\n      description: '4 games for set, No Advantage, Tiebreak to 7 at 3-3',\n      hasDecider: false,\n      threshold: 1,\n      minDiff: 0,\n      children: 'NoAdSetsTo4tb7',\n      decidingChild: 'NoAdSetsTo4tb7',\n    },\n    '3_6n_10': {\n      name: 'No-Ad, 3rd Set Supertiebreak',\n      description: 'best of 3 sets, No-Ad, 6 games for set, Tiebreak to 7, final set Supertiebreak',\n      hasDecider: true,\n      threshold: 2,\n      minDiff: 0,\n      children: 'NoAdSetsTo6tb7',\n      decidingChild: 'supertiebreak',\n    },\n    '5_6a_7': {\n      name: 'US Open Men',\n      description: 'best of 5 sets, Advantage, 6 games for set, Tiebreak to 7',\n      hasDecider: true,\n      threshold: 3,\n      minDiff: 0,\n      children: 'AdSetsTo6tb7',\n      decidingChild: 'AdSetsTo6tb7',\n    },\n    '5_6a_7_long': {\n      name: 'Grand Slam Men - Final Advantage Set',\n      description: 'best of 5 sets, Advantage, 6 games for set, Tiebreak to 7, final set by 2 games',\n      hasDecider: true,\n      threshold: 3,\n      minDiff: 0,\n      children: 'AdSetsTo6tb7',\n      decidingChild: 'longSetTo6by2',\n    },\n    '3_6a_7_long': {\n      name: 'Grand Slam Women - Final Advantage Set',\n      description: 'best of 5 sets, Advantage, 6 games for set, Tiebreak to 7, final set by 2 games',\n      hasDecider: true,\n      threshold: 2,\n      minDiff: 0,\n      children: 'AdSetsTo6tb7',\n      decidingChild: 'longSetTo6by2',\n    },\n    '1_8a_7': {\n      name: '8 Game Pro Set',\n      description: '1 set, Advantage, 8 games for set, Tiebreak to 7',\n      hasDecider: true,\n      threshold: 1,\n      minDiff: 0,\n      children: 'pro8a7',\n      decidingChild: 'pro8a7',\n    },\n    '1_6a_7': {\n      name: '6 Game College Doubles Set',\n      description: '1 set, No Advantage, 6 games for set, Tiebreak to 7',\n      hasDecider: true,\n      threshold: 1,\n      minDiff: 0,\n      children: 'college6a7',\n      decidingChild: 'college6a7',\n    },\n  },\n};\n\numo.formats = () => formats;\numo.newFormat = ({ type, code, description, tiebreak, hasDecider, threshold, minDiff, children, decidingChild }) => {\n  const hasType = Object.keys(formats).indexOf(type) >= 0;\n  const hasCode = hasType && Object.keys(formats[type]).indexOf(code) >= 0;\n  if (hasType && hasCode) return false;\n  formats[type][code] = { description, tiebreak, hasDecider, threshold, minDiff, children, decidingChild };\n  return true;\n};\n\numo.stateObject = ({ index, object, parent_object, child, format, common = umo.common() }) => {\n  const so: any = {};\n  so.child = child;\n  so.format = format;\n  so.child_attributes = ['hasDecider', 'threshold', 'minDiff', 'tiebreak', 'code', 'description'];\n\n  (so.reset = (format?: any) => {\n    so.children = [];\n    so.local_history = [];\n    so.counter = [0, 0];\n    so.first_service = 0;\n    if (!parent_object) {\n      common.metadata.reset();\n      common.metadata.resetStats();\n      common.history = [];\n      common.perspective_score = false;\n      common.events.reset().forEach((fx) => fx());\n    }\n    if (!parent_object && format) {\n      so.format.singles(true);\n      so.format.type(format);\n    }\n  })();\n\n  so.set = {\n    index(value) {\n      if (!arguments.length) return index;\n      if (!isNaN(value)) index = value;\n      return so.set;\n    },\n    liveStats(value) {\n      if (!arguments.length) return common.live_stats;\n      if ([true, false].indexOf(value) < 0) return false;\n      if (value && !common.live_stats && so.history.points().length) {\n        common.metadata.resetStats();\n        common.stats.counters();\n      }\n      if (!value && common.live_stats) common.metadata.resetStats();\n      common.live_stats = value;\n      return so.set;\n    },\n    perspectiveScore(value) {\n      if (!arguments.length) return common.perspective_score;\n      if (so.history.points().length) return false;\n      if ([true, false].indexOf(value) >= 0) common.perspective_score = value;\n      return so.set;\n    },\n    firstService(value) {\n      if (!arguments.length) return so.first_service;\n      if (common.metadata.serviceOrder().indexOf(value) < 0) return false;\n      so.first_service = value;\n      return so.set;\n    },\n  };\n\n  so.history = {};\n  so.history.local = () => so.local_history;\n  so.history.action = (action) => common.history.filter((episode) => episode.action == action);\n  so.history.points = (set) => {\n    let points = common.history.filter((episode) => episode.action == 'addPoint').map((episode) => episode.point);\n    if (set != undefined) points = points.filter((point) => point.set == set);\n    return points;\n  };\n  so.history.score = () => {\n    if (object == 'Game') return so.history.points().map((point) => point.score);\n    return [].concat(...so.children.map((child) => child.history.score()));\n  };\n  so.history.games = () =>\n    object == 'Set' ? so.local_history : [].concat(...so.children.map((child) => child.history.games()));\n  so.history.lastPoint = () => {\n    const point_history = so.history.points();\n    return point_history[point_history.length - 1] || { score: '0-0' };\n  };\n  so.history.common = () => common.history;\n\n  so.score = () => {\n    const counters: any = {\n      local: so.counter,\n    };\n    counters.points =\n      object == 'Game'\n        ? so.complete()\n          ? [0, 0]\n          : so.counter\n        : so.lastChild()\n          ? so.lastChild().score().counters.points\n          : [0, 0];\n    counters.games =\n      object == 'Set'\n        ? so.complete()\n          ? [0, 0]\n          : so.counter\n        : object == 'Match'\n          ? so.lastChild()\n            ? so.lastChild().score().counters.games\n            : [0, 0]\n          : undefined;\n    counters.sets = object == 'Match' ? so.counter : undefined;\n    // let current = {};\n    const score: any = { counters };\n    score.points =\n      object == 'Game'\n        ? so.complete()\n          ? '0-0'\n          : so.scoreboard()\n        : so.lastChild()\n          ? so.lastChild().score().points\n          : '0-0';\n    score.games =\n      object == 'Set'\n        ? so.complete()\n          ? '0-0'\n          : so.perspectiveScore().join('-')\n        : so.lastChild()\n          ? so.lastChild().score().games\n          : '0-0';\n    score.sets =\n      object == 'Match'\n        ? so.complete()\n          ? '0-0'\n          : so.perspectiveScore().join('-')\n        : so.lastChild()\n          ? so.lastChild().score().sets\n          : '0-0';\n    score.components = {};\n    if (object == 'Match' && so.children.length) {\n      score.components.sets = so.children.map((set) => {\n        const map: any = { games: set.score().counters.local };\n        if (set.lastChild() && set.lastChild().format.tiebreak()) map.tiebreak = set.lastChild().score().counters.local;\n        return map;\n      });\n    }\n    score.display = {};\n    return score;\n  };\n\n  so.accessChildren = () => so.children;\n  so.lastChild = () => so.children[so.children.length - 1];\n  so.scoreDifference = () => Math.abs(so.counter[0] - so.counter[1]);\n  so.thresholdMet = () => Math.max(...so.counter) >= so.format.threshold();\n  so.minDifferenceMet = () => so.scoreDifference() >= so.format.minDiff();\n  so.singleThresholdMet = () =>\n    Math.max(...so.counter) >= so.format.threshold() && Math.min(...so.counter) < so.format.threshold();\n  so.winner = () => (so.complete() ? (so.counter[0] > so.counter[1] ? 0 : 1) : undefined);\n  so.reverseScore = () => common.perspective_score && so.nextTeamServing() % 2 == 1;\n  so.nextTeamServing = () =>\n    common.metadata\n      .teams()\n      .map((team: any) => team.indexOf(so.nextService()) >= 0)\n      .indexOf(true);\n  so.nextTeamReceiving = () =>\n    common.metadata\n      .teams()\n      .map((team: any) => team.indexOf(so.nextService()) >= 0)\n      .indexOf(false);\n  so.perspectiveScore = (counter = so.counter, force: boolean) => {\n    if (force != undefined) return force ? counter.slice().reverse() : counter;\n    return so.reverseScore() ? counter.slice().reverse() : counter;\n  };\n  so.complete = () => {\n    function beyondDoubleThreshold() {\n      return so.counter[0] >= so.format.threshold() && so.counter[1] >= so.format.threshold();\n    }\n    return (so.thresholdMet() && so.minDifferenceMet()) ||\n      (beyondDoubleThreshold() && so.scoreDifference() && so.format.hasDecider())\n      ? true\n      : false;\n  };\n  so.nextService = () => {\n    if (so.complete()) return false;\n    let last_child = so.lastChild();\n\n    if (common.metadata.serviceOrder().indexOf(so.first_service) < 0) {\n      // this would imply that #players decreased from 4 to 2\n      // so, if at the beginning of a game the next team should be 1 - last team\n      console.log('PROBLEM');\n    }\n\n    if (object == 'Game') {\n      if (!so.format.tiebreak()) return so.first_service;\n      return common.nextTiebreakService(so.local_history, so.first_service);\n    }\n\n    if (!last_child) return so.first_service;\n    if (last_child.complete()) {\n      let descendent = last_child.lastChild();\n      while (descendent) {\n        last_child = descendent;\n        descendent = last_child.lastChild();\n      }\n      const last_first_service = last_child.set.firstService();\n      return common.advanceService(last_first_service);\n    }\n    return last_child.nextService();\n  };\n\n  so.currentChild = () => {\n    if (so.complete()) return false;\n    const last_child = so.lastChild();\n    if (last_child && !last_child.complete()) return last_child;\n    return so.newChild();\n  };\n\n  so.newChild = () => {\n    let last_child = so.lastChild();\n    let next_first_service;\n    if (!last_child) {\n      next_first_service = so.first_service;\n    } else {\n      let descendent = last_child.lastChild();\n      while (descendent) {\n        last_child = descendent;\n        descendent = last_child.lastChild();\n      }\n      next_first_service = common.advanceService(last_child.set.firstService());\n    }\n\n    const threshold = so.format.threshold();\n    const min_diff = so.format.minDiff();\n    const countersAtValue = (value: any) => so.counter[0] == value && so.counter[1] == value;\n    const deciding_child_required =\n      (countersAtValue(threshold) && (so.format.hasDecider() || min_diff == 1)) ||\n      (countersAtValue(threshold - 1) && min_diff == 0);\n    const code = deciding_child_required ? so.format.decidingChild.settings().code : so.format.children.settings().code;\n    const total_children = so.children.length;\n\n    const new_child = umo[so.child.object]({ index: total_children, parent_object: so, type: code, common: common });\n    new_child.set.firstService(next_first_service);\n\n    if (!code) {\n      const source_format = deciding_child_required ? so.format.decidingChild : so.format.children;\n      copyAttributes(source_format, new_child.format, so.child_attributes);\n      if (source_format.children) {\n        copyAttributes(source_format.children, new_child.format.children, so.child_attributes);\n        copyAttributes(source_format.decidingChild, new_child.format.decidingChild, so.child_attributes);\n      }\n    }\n\n    so.children.push(new_child);\n    return new_child;\n\n    function copyAttributes(source, target, attributes) {\n      attributes.forEach((attribute: any) => {\n        if (typeof source[attribute] == 'function') {\n          const value = source[attribute]();\n          // let existing_value = target[attribute]();\n          target[attribute](value);\n          // let new_value = target[attribute]();\n        }\n      });\n    }\n  };\n\n  const addPoint = (value: any) => {\n    if (so.complete()) return { result: false };\n\n    const server = so.nextService();\n    const point = common.pointParser(\n      value,\n      server,\n      so.history.lastPoint(),\n      so.format,\n      common.metadata.teams(),\n      so.set.perspectiveScore(),\n      so.score(),\n    );\n    if (!point) return { result: false };\n    so.counter[point.winner] += 1;\n\n    const attributes: any = {\n      points: so.counter.slice(),\n      score: so.scoreboard(),\n      number: so.local_history.filter((episode: any) => episode.winner != undefined).length,\n      index: so.history.points().length,\n      [object.toLowerCase()]: index,\n    };\n\n    const points_to_game = so.pointsToGame();\n    const has_game_point = points_to_game ? points_to_game.indexOf(1) : undefined;\n    const breakpoint = has_game_point >= 0 && has_game_point == 1 - common.metadata.playerTeam(server);\n\n    if (breakpoint) attributes.breakpoint = true;\n    if (so.format.tiebreak()) attributes.tiebreak = true;\n    if (common.metadata.timestamps() && !point.uts) attributes.uts = new Date().valueOf();\n    Object.assign(point, attributes);\n    so.local_history.push(point);\n\n    const episode = {\n      action: 'addPoint',\n      result: true,\n      complete: so.complete(),\n      point: point,\n      needed: { points_to_game },\n    };\n\n    common.history.push(episode);\n    return episode;\n  };\n\n  so.addPoint = (value: any) => {\n    if (Array.isArray(value)) return false;\n    if (object == 'Game') return addPoint(value);\n\n    const child = so.currentChild();\n    if (!child) return { result: false };\n    const episode = child.addPoint(value);\n    if (!episode.result) return episode;\n\n    if (child.complete()) {\n      so.counter[episode.point.winner] += 1;\n      so.local_history.push({\n        winner: episode.point.winner,\n        [so.child.plural]: so.counter.slice(),\n        index: child.set.index(),\n      });\n    }\n    episode.complete = so.complete();\n    episode.next_service = so.nextService();\n    const points_to_set = so.pointsNeeded ? so.pointsNeeded() : undefined;\n    if (points_to_set) episode.needed = Object.assign({}, episode.needed, points_to_set);\n    episode.point[so.child.label] = child.set.index();\n    episode[so.child.label] = {\n      complete: child.complete(),\n      winner: child.winner(),\n      [so.child.plural]: so.counter.slice(),\n      index: child.set.index(),\n    };\n    if (!parent_object) common.addStatPoint(episode);\n    if (!parent_object) common.events.addPoint().forEach((fx) => fx(episode));\n    return episode;\n  };\n\n  so.addPoints = (values = []) => so.addMultiple({ values });\n\n  so.addScore = (value: any) => {\n    const episode = so.addPoint(value);\n    if (episode.result) return episode;\n    const last_point = so.history.lastPoint();\n    const last_points = !last_point || last_point.score == '0-0' ? [0, 0] : last_point.points;\n    // let total_points = last_points.reduce((a, b) => a + b);\n    const attempt = so.change.pointScore(value);\n    if (attempt.result) {\n      so.undo();\n      const new_points = attempt.pointChange.to;\n      // let new_total = new_points.reduce((a, b) => a + b);\n      const change = new_points\n        .map((p, i) => {\n          return { diff: p - last_points[i], i };\n        })\n        .filter((f) => f.diff);\n      if (change.length == 1 && change[0].diff > 0) {\n        let result;\n        const player = change[0].i;\n        const points_to_player = change[0].diff;\n        for (let p = 0; p < points_to_player; p++) {\n          result = so.addPoint(player);\n          if (!result.result) return result;\n          if (result.game.complete) return result;\n        }\n        return result;\n      }\n    }\n    return { result: false };\n  };\n\n  so.addScores = (values = []) => so.addMultiple({ values, fx: so.addScore });\n\n  so.addMultiple = ({ values = [], fx = so.addPoint }: { values: any; fx: any }) => {\n    if (typeof values == 'string') values = values.match(/[01A-Za-z][*#@]*/g);\n    const added = [];\n    let rejected: any[] = [];\n    while (values.length) {\n      const value = values.shift();\n      const episode = fx(value);\n      if (episode.result) {\n        added.push(episode);\n      } else {\n        values.unshift(value);\n        rejected = values.slice();\n        values = [];\n      }\n    }\n    return { result: added.length, added, rejected };\n  };\n\n  so.decoratePoint = (point, attributes) => {\n    const indices = common.history\n      .map((episode, i) => {\n        if (episode.action === 'addPoint' && episode.point.index == point.index) return i;\n      })\n      .filter((index) => index !== undefined);\n    if (!indices.length) return false;\n    const episode = common.history[indices[0]];\n    episode.point = Object.assign({}, episode.point, attributes);\n  };\n\n  so.change = {};\n  so.change.points = (values) => {\n    if (!numbersArray(values) || values.length != 2) return false;\n    if (object == 'Game') {\n      const past_threshold = Math.max(...values) > so.format.threshold();\n      const value_difference = Math.abs(values[0] - values[1]);\n      if (past_threshold && value_difference > so.format.minDiff()) return false;\n      if (so.complete()) return { result: false };\n      const episode = { action: 'changePoints', result: true, pointChange: { from: so.counter, to: values } };\n      so.local_history.push(episode);\n      common.history.push(episode);\n      so.counter = values;\n      if (so.complete()) {\n        const winner = parseInt(so.winner());\n        parent_object.counter[winner] += 1;\n        parent_object.local_history.push({ winner: winner, games: parent_object.counter.slice(), index: index });\n      }\n      return episode;\n    }\n    return so.propagatePointChange(values, 'points');\n  };\n  so.change.pointScore = (value) => {\n    if (value == '0-0') return so.change.points([0, 0]);\n    if (object == 'Game') {\n      if (so.format.tiebreak()) return so.change.points(value.split('-').map((v) => parseInt(v)));\n      value = value\n        .replace(':', '-')\n        .split('-')\n        .map((m) => m.trim())\n        .join('-')\n        .split('D')\n        .join('40');\n      const progression = Object.assign({}, adProgression);\n      if (so.format.hasDecider())\n        Object.keys(noAdProgression).forEach((key) => (progression[key] = noAdProgression[key]));\n      const valid_values = [].concat(...Object.keys(progression).map((key) => progression[key]));\n      if (valid_values.indexOf(value) < 0) return false;\n      const point_value = ['0', '15', '30', '40', 'A', 'G'];\n      const values = value.split('-').map((v) => point_value.indexOf(v));\n\n      // correct for advantage games that don't reach deuce\n      if (values[0] == 5 && values[1] != 3) values[0] = 4;\n      if (values[1] == 5 && values[0] != 3) values[1] = 4;\n      return so.change.points(values);\n    }\n    return so.propagatePointChange(value, 'pointScore');\n  };\n  so.propagatePointChange = (values, fx) => {\n    const last_child = so.lastChild();\n    if (!last_child) {\n      if (object == 'Match') {\n        return so.newChild().newChild().change[fx](values);\n      }\n      if (object == 'Set') {\n        return so.newChild().change[fx](values);\n      }\n    }\n    if (!parent_object && so.complete()) return { result: false };\n    if (last_child.complete()) {\n      return so.newChild().change[fx](values);\n    }\n    return last_child.change[fx](values);\n  };\n  so.change.games = (values) => {\n    if (!numbersArray(values) || values.length != 2) return false;\n    if (object == 'Game') return { result: false };\n    if (object == 'Set') {\n      if (so.complete()) return { result: false };\n      const episode = { action: 'changeGames', result: true, gameChange: { from: so.counter, to: values } };\n      so.local_history.push(episode);\n      common.history.push(episode);\n      so.counter = values;\n      return episode;\n    }\n    const last_child = so.lastChild();\n    if (!last_child && object == 'Match') {\n      return so.newChild().change.games(values);\n    }\n    if (!parent_object && so.complete()) return { result: false };\n    if (last_child.complete()) {\n      return so.newChild().change.games(values);\n    }\n    return last_child.change.games(values);\n  };\n\n  so.undo = (count = 1) => {\n    if (isNaN(count)) return false;\n    if (object != 'Game' && !so.children.length && !so.local_history.length) return false;\n    if (!common.history.length) return false;\n    const undo = () => {\n      const action = common.history[common.history.length - 1].action;\n      return undo_actions[action]();\n    };\n    const undone = [...Array(count).keys()].map(() => undo());\n    common.events.undo().forEach((fx) => fx(undone));\n    return count == 1 ? undone[0] : undone;\n  };\n\n  const undo_actions: any = {};\n  undo_actions.addPoint = () => {\n    if (object == 'Game') {\n      // clean up local and common histories\n      so.local_history.pop();\n      const common_episode = common.history.pop();\n      so.counter[common_episode.point.winner] -= 1;\n      common.removeStatPoint(common_episode);\n      // common.events.undo().forEach(fx => fx(common_episode.point));\n      return common_episode.point;\n    }\n    return so.propagateUndo();\n  };\n  undo_actions.changePoints = () => {\n    if (object == 'Game') {\n      // clean up local and common histories\n      so.local_history.pop();\n      const common_episode = common.history.pop();\n      so.counter = common_episode.pointChange.from;\n      return common_episode;\n    }\n    return so.propagateUndo();\n  };\n  undo_actions.changeGames = () => {\n    if (object == 'Set') {\n      // clean up local and common histories\n      so.local_history.pop();\n      const common_episode = common.history.pop();\n      so.counter = common_episode.gameChange.from;\n      return common_episode;\n    }\n    return so.propagateUndo();\n  };\n\n  so.propagateUndo = () => {\n    const last_child = so.lastChild();\n    const last_child_complete = last_child.complete();\n    const episode = last_child.undo();\n\n    // remove the last history event and decrement the counter\n    if (last_child_complete) {\n      // pop history of non-game object\n      const episode = so.local_history.pop();\n      if (episode && episode.winner != undefined) so.counter[episode.winner] -= 1;\n    }\n\n    if (!last_child.history.local().length && last_child.lastChild() == undefined) so.children.pop();\n    return episode;\n  };\n  return so;\n};\n\numo.Match = (params: any) => {\n  const { index, type, common = umo.common() } = params ?? {};\n  const child = { object: 'Set', label: 'set', plural: 'sets' };\n  const format = umo.matchFormat({ type, common });\n  const match = umo.stateObject({ index, object: 'Match', format, child, common });\n\n  match.scoreboard = (perspective) => {\n    if (!match.children.length) return '0-0';\n    if (perspective == undefined) perspective = match.set.perspectiveScore() ? match.nextService() : undefined;\n    return match.children.map((child) => child.scoreboard(perspective)).join(', ');\n  };\n\n  return {\n    set: match.set,\n    reset: match.reset,\n    format: match.format,\n    events: common.events,\n    assignParser: common.assignParser,\n    metadata: common.metadata,\n    nextService: match.nextService,\n    nextTeamServing: match.nextTeamServing,\n    nextTeamReceiving: match.nextTeamReceiving,\n    change: match.change,\n    undo: match.undo,\n    addPoint: match.addPoint,\n    addPoints: match.addPoints,\n    decoratePoint: match.decoratePoint,\n    addScore: match.addScore,\n    addScores: match.addScores,\n    complete: match.complete,\n    winner: match.winner,\n    score: match.score,\n    scoreboard: match.scoreboard,\n    [match.child.plural]: match.accessChildren,\n    history: match.history,\n    stats: common.stats,\n  };\n};\n\numo.Set = ({ index, parent_object, type, common = umo.common() }) => {\n  const child = { object: 'Game', label: 'game', plural: 'games' };\n  const format = umo.setFormat({ type, common });\n  const set = umo.stateObject({ index, parent_object, object: 'Set', format, child, common });\n\n  set.pointsNeeded = () => {\n    const threshold = set.format.threshold();\n    if (set.complete()) {\n      const points_to_set = [];\n      points_to_set[set.winner()] = 0;\n      const loser = 1 - set.winner();\n      const pts = set.history\n        .action('addPoint')\n        .filter((episode) => episode.point.set == index)\n        .map((episode) => episode.needed.points_to_set)\n        .filter((f) => f);\n      points_to_set[loser] = Math.max(...pts.map((p) => p[loser]));\n      return { points_to_set };\n    }\n    const deciding_game = set.format.hasDecider();\n    const score_difference = set.scoreDifference();\n    const min_diff = set.format.minDiff();\n    const deciding_game_format_required = [false, false];\n    const games_to_set = set.counter.map((player_score, player) => {\n      const opponent_score = set.counter[1 - player];\n      if (player_score > opponent_score) {\n        if (opponent_score == threshold && deciding_game) return 0;\n        if (player_score >= threshold && score_difference >= min_diff) return 0;\n        if (player_score >= threshold - 1) return 1;\n        return threshold - player_score;\n      } else if (opponent_score > player_score) {\n        deciding_game_format_required[player] = deciding_game && threshold == opponent_score;\n        if (player_score == threshold && deciding_game) return 0;\n        if (opponent_score >= threshold && score_difference >= min_diff) return 0;\n        if (deciding_game_format_required[player]) return score_difference + 1;\n        if (opponent_score >= threshold - 1) return score_difference + min_diff;\n        return threshold - player_score;\n      } else {\n        deciding_game_format_required[player] =\n          (deciding_game && threshold == player_score && threshold == opponent_score) ||\n          (min_diff == 1 && threshold == player_score && threshold == opponent_score) ||\n          (min_diff == 0 && threshold - 1 == player_score && threshold - 1 == opponent_score);\n        if (deciding_game_format_required[player]) return 1;\n        if (player_score >= threshold - 1) return min_diff;\n        return threshold - player_score;\n      }\n    });\n\n    const last_game = set.lastChild();\n    const points_to_set = games_to_set.map((player_games_to_set, player) => {\n      let points_needed = 0;\n      if (last_game && !last_game.complete()) {\n        points_needed += last_game.pointsToGame()[player];\n        player_games_to_set -= 1;\n      }\n      if (!player_games_to_set) return points_needed;\n\n      if (deciding_game_format_required[player]) {\n        points_needed += set.format.decidingChild.threshold();\n        player_games_to_set -= 1;\n      }\n\n      for (let i = player_games_to_set; i; i--) {\n        points_needed += set.format.children.threshold();\n      }\n      return points_needed;\n    });\n\n    return { points_to_set, games_to_set };\n  };\n\n  // let formatScore = ([p0score, p1score], [t0score, t1score], tiebreak_to) => {\n  const formatScore = ([p0score, p1score], [t0score, t1score]) => {\n    if (t0score || t1score) {\n      if (t0score > t1score) p1score += `(${t1score})`;\n      if (t1score > t0score) p0score += `(${t0score})`;\n    }\n    return `${p0score}-${p1score}`;\n  };\n\n  set.scoreboard = (perspective) => {\n    const last_game = set.lastChild();\n    const score = set.perspectiveScore(set.counter, perspective);\n    if (!last_game) return score.join('-');\n    const tiebreak = last_game.format.tiebreak() === true;\n    if (last_game.complete() && !tiebreak) return score.join('-');\n    if (!last_game.complete()) return `${score.join('-')} (${last_game.scoreboard(perspective)})`;\n    const last_game_score = last_game.score().counters.local;\n    const tiebreak_score = set.perspectiveScore(last_game_score, perspective);\n    if (tiebreak && set.complete() && set.children.length == 1) return tiebreak_score.join('-');\n    // let tiebreak_to = last_game.format.threshold();\n    // return formatScore(score, tiebreak_score, tiebreak_to);\n    return formatScore(score, tiebreak_score);\n  };\n\n  return {\n    set: set.set,\n    reset: set.reset,\n    format: set.format,\n    events: common.events,\n    assignParser: common.assignParser,\n    metadata: common.metadata,\n    nextService: set.nextService,\n    nextTeamServing: set.nextTeamServing,\n    nextTeamReceiving: set.nextTeamReceiving,\n    change: set.change,\n    undo: set.undo,\n    addPoint: set.addPoint,\n    addPoints: set.addPoints,\n    decoratePoint: set.decoratePoint,\n    addScore: set.addScore,\n    addScores: set.addScores,\n    complete: set.complete,\n    winner: set.winner,\n    score: set.score,\n    scoreboard: set.scoreboard,\n    [set.child.plural]: set.accessChildren,\n    children: set.accessChildren,\n    lastChild: set.lastChild,\n    newChild: set.newChild,\n    history: set.history,\n    pointsNeeded: set.pointsNeeded,\n  };\n};\n\numo.Game = ({ index, parent_object, type, common = umo.common() }) => {\n  const child = { object: 'Point', label: 'point', plural: 'points' };\n  const format = umo.gameFormat({ type, common });\n  const game = umo.stateObject({ index, object: 'Game', parent_object, format, child, common });\n\n  game.pointsToGame = () => {\n    if (game.complete()) return undefined;\n    const threshold = game.format.threshold();\n    const deciding_point = game.format.hasDecider();\n    const score_difference = game.scoreDifference();\n    const min_diff = game.format.minDiff();\n    return game.counter.map((player_score, player) => {\n      const opponent_score = game.counter[1 - player];\n      if (player_score > opponent_score) {\n        if (opponent_score == threshold && deciding_point) return 0;\n        if (player_score >= threshold && score_difference >= min_diff) return 0;\n        if (player_score >= threshold - 1) return 1;\n        return threshold - player_score;\n      } else if (opponent_score > player_score) {\n        if (player_score == threshold && deciding_point) return 0;\n        if (opponent_score >= threshold && score_difference >= min_diff) return 0;\n        if (opponent_score == threshold && deciding_point) return score_difference + 1;\n        if (opponent_score >= threshold - 1) return score_difference + min_diff;\n        return threshold - player_score;\n      } else {\n        if (deciding_point && threshold == player_score && threshold == opponent_score) return 1;\n        if (player_score >= threshold - 1) return min_diff;\n        return threshold - player_score;\n      }\n    });\n  };\n\n  game.scoreboard = (perspective) => {\n    let scoreboard;\n    const threshold = game.format.threshold();\n    const min_diff = game.format.minDiff();\n    const score = game.perspectiveScore(game.counter, perspective);\n    const tiebreak = threshold != 4 || game.format.tiebreak();\n    if (tiebreak) return score.join('-');\n    if (\n      !game.thresholdMet() ||\n      (game.singleThresholdMet() && game.minDifferenceMet()) ||\n      (game.singleThresholdMet() && game.format.hasDecider() && min_diff == 1)\n    ) {\n      const progression = ['0', '15', '30', '40', 'G', 'G'];\n      scoreboard = score.map((points) => progression[points]).join('-');\n    } else {\n      scoreboard = score\n        .map((points, player) => {\n          const opponent_points = score[1 - player];\n          const point = points - threshold;\n          const opponent_point = opponent_points - threshold;\n          if (point > opponent_point && game.minDifferenceMet()) return 'G';\n          return point > opponent_point ? 'A' : '40';\n        })\n        .join('-');\n    }\n    return scoreboard.indexOf('G') >= 0 ? '0-0' : scoreboard;\n  };\n\n  return {\n    set: game.set,\n    reset: game.reset,\n    format: game.format,\n    events: common.events,\n    assignParser: common.assignParser,\n    metadata: common.metadata,\n    nextService: game.nextService,\n    nextTeamServing: game.nextTeamServing,\n    nextTeamReceiving: game.nextTeamReceiving,\n    change: game.change,\n    undo: game.undo,\n    addPoint: game.addPoint,\n    addPoints: game.addPoints,\n    decoratePoint: game.decoratePoint,\n    addScore: game.addScore,\n    addScores: game.addScores,\n    complete: game.complete,\n    winner: game.winner,\n    score: game.score,\n    scoreboard: game.scoreboard,\n    history: game.history,\n    lastChild: game.lastChild,\n    pointsToGame: game.pointsToGame,\n  };\n};\n\n// necessary to define it this way so that hoisting works!\numo.defaultPointParser = defaultPointParser;\nfunction defaultPointParser(value, server, last_point, format, teams, perspective, score_object) {\n  if (value == undefined) return false;\n  if (value.toString().length == 1 && !isNaN(value)) {\n    const code = +value == server ? 'S' : 'R';\n    return [0, 1].indexOf(+value) < 0 ? false : { winner: +value, server: server, code: code };\n  }\n\n  let winning_team;\n  const serving_team = teams.map((team) => team.indexOf(server) >= 0).indexOf(true);\n  const point: any = { server: server };\n\n  if (typeof value == 'object') {\n    if (value.winner != undefined && [0, 1].indexOf(+value.winner) >= 0) {\n      value.winner = parseInt(value.winner);\n      value.code = !value.code ? (value.winner == server ? 'S' : 'R') : value.code;\n      // lowercase indicates that point was played on second serve\n      if (value.first_serve) value.code = value.code.toLowerCase();\n      return Object.assign({}, value, point);\n    }\n    if (value.code && parseCode(value.code)) return Object.assign({}, value, point);\n  }\n\n  if (typeof value == 'string') {\n    if (parseScore(value)) return point;\n    if (parseCode(value)) return point;\n  }\n\n  function parseCode(code) {\n    let upper_code = code.toUpperCase().match(/[A-Za-z]/g);\n    let modifier = code.match(/[*#@]/g);\n    if (upper_code) upper_code = upper_code.join('');\n    if (modifier) modifier = modifier.join('');\n    if ('SAQDRP'.split('').indexOf(String(upper_code)) >= 0) {\n      if (['S', 'A', 'Q'].indexOf(upper_code) >= 0) {\n        winning_team = serving_team;\n      }\n      if (['D', 'R', 'P'].indexOf(upper_code) >= 0) {\n        winning_team = 1 - serving_team;\n      }\n      if (['Q', 'P'].indexOf(upper_code) >= 0) {\n        point.result = 'Penalty';\n      }\n      if (upper_code == 'A') point.result = 'Ace';\n      if (upper_code == 'D') {\n        point.first_serve = { error: 'Error', serves: ['0e'] };\n        point.result = 'Double Fault';\n      }\n      if (modifier && !point.result) {\n        if (modifier == '*') point.result = 'Winner';\n        if (modifier == '#') point.result = 'Forced Error';\n        if (modifier == '@') point.result = 'Unforced Error';\n      }\n      point.code = code;\n      point.winner = parseInt(winning_team);\n      if (code === code.toLowerCase()) point.first_serve = { error: 'Error', serves: ['0e'] };\n      return point;\n    }\n  }\n\n  function parseScore(value) {\n    value = value\n      .replace(':', '-')\n      .split('-')\n      .map((m) => m.trim())\n      .join('-')\n      .split('D')\n      .join('40');\n    if (value.split('-').length != 2) return false;\n    let last_score = score_object.points;\n    const combinedTotal = (score) => score.reduce((a, b) => a + b);\n    if (format.tiebreak()) {\n      const values = value.split('-').map((m) => parseInt(m));\n      const last_values = last_score.split('-').map((m) => parseInt(m));\n      if (!numbersArray(values) || values.length != 2) return false;\n      if (combinedTotal(last_values) + 1 != combinedTotal(values)) return false;\n      const change = [Math.abs(values[0] - last_values[0]), Math.abs(values[1] - last_values[1])];\n      point.winner = change.indexOf(1);\n      return point;\n    }\n    const progression = Object.assign({}, adProgression);\n    if (format.hasDecider()) Object.keys(noAdProgression).forEach((key) => (progression[key] = noAdProgression[key]));\n\n    if (value == '0-0' && progression[last_score].join('-').indexOf('G') >= 0) {\n      // one player had game point.  assign winner based on which player has greater # of points.\n      point.winner = last_point.points.indexOf(Math.max(...last_point.points));\n      return point;\n    }\n    // after a tiebreak, for instance...\n    if (progression[last_score] == undefined) last_score = '0-0';\n    let winner = progression[last_score] ? progression[last_score].indexOf(value) : false;\n    if (winner >= 0) {\n      if (perspective && server) winner = 1 - winner;\n      point.winner = winner;\n      return point;\n    }\n  }\n}\n\nconst noAdProgression = { '40-40': ['G-40', '40-G'] };\nconst adProgression = {\n  '0-0': ['15-0', '0-15'],\n  '0-15': ['15-15', '0-30'],\n  '0-30': ['15-30', '0-40'],\n  '0-40': ['15-40', '0-G'],\n  '15-0': ['30-0', '15-15'],\n  '15-15': ['30-15', '15-30'],\n  '15-30': ['30-30', '15-40'],\n  '15-40': ['30-40', '15-G'],\n  '30-0': ['40-0', '30-15'],\n  '30-15': ['40-15', '30-30'],\n  '30-30': ['40-30', '30-40'],\n  '30-40': ['40-40', '30-G'],\n  '40-0': ['G-0', '40-15'],\n  '40-15': ['G-15', '40-30'],\n  '40-30': ['G-30', '40-40'],\n  '40-40': ['A-40', '40-A'],\n  'A-40': ['G-40', '40-40'],\n  '40-A': ['40-40', '40-G'],\n};\n\numo.matchFormat = ({ type = '3_6a_7', common }) => {\n  const mf = umo.formatObject({ plural: 'matches', common });\n  mf.children = umo.setFormat({ common });\n  mf.decidingChild = umo.setFormat({ common });\n  mf.init(type);\n\n  return {\n    description: mf.description,\n    singles: mf.singles,\n    doubles: mf.doubles,\n    settings: mf.settings,\n    type: mf.type,\n    types: mf.types,\n    threshold: mf.threshold,\n    hasDecider: mf.hasDecider,\n    minDiff: mf.minDiff,\n    children: mf.children,\n    decidingChild: mf.decidingChild,\n  };\n};\n\numo.setFormat = ({ type = 'AdSetsTo6tb7', common }) => {\n  const sf = umo.formatObject({ plural: 'sets', common });\n  sf.children = umo.gameFormat({ common });\n  sf.decidingChild = umo.gameFormat({ common, type: 'tiebreak7a' });\n  sf.init(type);\n\n  return {\n    description: sf.description,\n    singles: sf.singles,\n    doubles: sf.doubles,\n    settings: sf.settings,\n    type: sf.type,\n    types: sf.types,\n    threshold: sf.threshold,\n    hasDecider: sf.hasDecider,\n    minDiff: sf.minDiff,\n    children: sf.children,\n    decidingChild: sf.decidingChild,\n  };\n};\n\numo.gameFormat = ({ type = 'advantage', common }) => {\n  const gf = umo.formatObject({ plural: 'games', common });\n  gf.init(type);\n\n  return {\n    description: gf.description,\n    settings: gf.settings,\n    singles: gf.singles,\n    doubles: gf.doubles,\n    type: gf.type,\n    types: gf.types,\n    threshold: gf.threshold,\n    hasDecider: gf.hasDecider,\n    minDiff: gf.minDiff,\n    tiebreak: gf.tiebreak,\n  };\n};\n\numo.formatObject = ({ plural, common = umo.common() }) => {\n  const fo = {\n    values: { plural: plural },\n    singles: common.singles,\n    doubles: common.doubles,\n    init(format_type) {\n      if (fo.types(fo.values.plural).indexOf(format_type) >= 0) {\n        fo.type(format_type);\n        fo.values.initial_code = format_type;\n      }\n    },\n    types(object = fo.values.plural) {\n      return Object.keys(formats[object]);\n    },\n    type(format_type) {\n      if (!fo.values.plural) return false;\n      if (format_type === true && fo.values.initial_code) format_type = fo.values.initial_code;\n      if (fo.types(fo.values.plural).indexOf(format_type) >= 0) {\n        const f = formats[fo.values.plural][format_type];\n\n        fo.hasDecider(f.hasDecider).minDiff(f.minDiff).threshold(f.threshold);\n        if (f.tiebreak != undefined) fo.tiebreak(f.tiebreak);\n\n        // must be set after all other attributes!\n        fo.name(f.name);\n        fo.description(f.description);\n        fo.values.code = format_type;\n\n        if (f.children) fo.children.type(f.children);\n        if (f.decidingChild) fo.decidingChild.type(f.decidingChild);\n        return true;\n      }\n    },\n    settings(params?: any) {\n      const { name, description, code, players, threshold, has_decider, min_diff, tiebreak } = params ?? {};\n      if (code) {\n        fo.type(code);\n      } else if (!threshold || !has_decider || !min_diff || !tiebreak) {\n        const number_of_players = typeof common.singles == 'function' ? (common.singles() ? 2 : 4) : '';\n        return {\n          name: fo.values.name,\n          description: fo.values.description,\n          code: fo.values.code,\n          players: number_of_players,\n          threshold: fo.values.threshold,\n          has_decider: fo.values.has_decider,\n          min_diff: fo.values.min_diff,\n          tiebreak: fo.values.tiebreak,\n        };\n      } else {\n        // TODO: propagate these settings down to unfinished sets/games\n        fo.tiebreak(tiebreak);\n        fo.threshold(threshold);\n        fo.minDiff(min_diff);\n        fo.hasDecider(has_decider);\n        if (description) fo.description(description);\n        if (name) fo.name(name);\n        if (players) {\n          if (players == 4) {\n            fo.doubles();\n          } else {\n            fo.singles();\n          }\n        }\n      }\n    },\n    name(value) {\n      if (!arguments.length) return fo.values.name;\n      if (typeof value == 'string') fo.values.name = value;\n      return fo;\n    },\n    description(value) {\n      if (!arguments.length) return fo.values.description;\n      if (typeof value == 'string') fo.values.description = value;\n      return fo;\n    },\n    tiebreak(value) {\n      if (!arguments.length) return fo.values.tiebreak;\n      fo.values.description = fo.values.code = undefined;\n      if ([true, false].indexOf(value) >= 0) fo.values.tiebreak = value;\n      return fo;\n    },\n    threshold(value) {\n      if (!arguments.length) return fo.values.threshold;\n      fo.values.description = fo.values.code = undefined;\n      if (!isNaN(value)) fo.values.threshold = value;\n      return fo;\n    },\n    minDiff(value) {\n      if (!arguments.length) return fo.values.min_diff;\n      fo.values.description = fo.values.code = undefined;\n      if (!isNaN(value)) fo.values.min_diff = value;\n      return fo;\n    },\n    hasDecider(value) {\n      if (!arguments.length) return fo.values.has_decider;\n      fo.values.description = fo.values.code = undefined;\n      if ([true, false].indexOf(value) >= 0) fo.values.has_decider = value;\n      return fo;\n    },\n  };\n  return fo;\n};\n\numo.common = () => {\n  let number_of_players = 2;\n  let addPoint_events = umo.addPoint_events.slice();\n  let undo_events = umo.undo_events.slice();\n  let reset_events = umo.reset_events.slice();\n  let metadata: any = {};\n\n  let stat_points;\n  let last_episode;\n  let filtered_stats;\n\n  const accessors = {\n    resetStats() {\n      stat_points = undefined;\n      last_episode = undefined;\n      filtered_stats = undefined;\n    },\n    reset() {\n      metadata = {\n        players: [],\n        teams: [],\n        service_order: [0, 1],\n        receive_order: [1, 0],\n        tournament: {},\n        match: {},\n        timestamps: false,\n        charter: undefined,\n      };\n    },\n    timestamps(value) {\n      if (!arguments.length) return metadata.timestamps;\n      if ([true, false].indexOf(value) >= 0) metadata.timestamps = value;\n      return accessors;\n    },\n    serviceOrder(order?: any) {\n      if (!arguments.length) return metadata.service_order.slice();\n      return changeOrder(order, 'service_order', 'receive_order');\n    },\n    doublesServiceChange() {\n      if (number_of_players != 4) return false;\n      // FIXME: Not allowed if not the end of a set; how to determine within common?\n    },\n    receiveOrder(order) {\n      if (!arguments.length) return metadata.receive_order.slice();\n      return changeOrder(order, 'receive_order', 'service_order');\n    },\n    teams() {\n      const teams = [];\n      teams[0] = metadata.service_order.filter((_, i: number) => (i + 1) % 2).sort();\n      teams[1] = metadata.service_order.filter((_, i: number) => i % 2).sort();\n      teams.sort();\n      return teams;\n    },\n    playerTeam(player) {\n      return accessors\n        .teams()\n        .map((team) => team.indexOf(player) >= 0)\n        .indexOf(true);\n    },\n    teamPlayers() {\n      return accessors.teams().map((team) => team.map((i) => accessors.players(i).name));\n    },\n    players(index?: number) {\n      if (!arguments.length) {\n        if (metadata.players.length > metadata.service_order.length) return metadata.players;\n        return metadata.service_order.map((i) => accessors.players(i));\n      }\n      if (isNaN(index) || index < 0 || index > 3) return false;\n      if (metadata.players[index]) return metadata.players[index];\n      return { name: `Player ${['One', 'Two', 'Three', 'Four'][index]}` };\n    },\n    definePlayer(params?: any) {\n      const { name, birth, playerId, hand, seed, rank, age, entry, ioc, draw_position, team, wtn, utr, id } =\n        params ?? {};\n      let index = params?.index;\n      if (index == undefined) index = metadata.players.length;\n      const player = metadata.players[index] || {};\n      if ((!name && !player.name) || isNaN(index) || index > 3) return false;\n      const definition = {\n        name,\n        birth,\n        playerId,\n        hand,\n        team,\n        seed,\n        rank,\n        age,\n        entry,\n        ioc,\n        draw_position,\n        wtn,\n        utr,\n        id,\n      };\n      Object.keys(definition).forEach((key) => {\n        if (definition[key]) player[key] = definition[key];\n      });\n      metadata.players[index] = player;\n      return { index, player };\n    },\n    defineTournament(params?: any) {\n      const { name, tuid, start_date, tour, rank, surface, in_out, draw, draw_size, round, level } = params ?? {};\n      const definition = { name, tuid, start_date, tour, rank, surface, in_out, draw, draw_size, round, level };\n      Object.keys(definition).forEach((key) => {\n        if (definition[key]) metadata.tournament[key] = definition[key];\n      });\n      return metadata.tournament;\n    },\n    defineMatch(params?: any) {\n      const { muid, date, gender, year, court, start_time, end_time, duration, status, umpire, official_score } =\n        params ?? {};\n      const definition = {\n        muid,\n        date,\n        gender,\n        year,\n        court,\n        start_time,\n        end_time,\n        duration,\n        status,\n        umpire,\n        official_score,\n      };\n      Object.keys(definition).forEach((key) => {\n        if (definition[key]) metadata.match[key] = definition[key];\n      });\n      return metadata.match;\n    },\n    showTiebreakOrder(first_service) {\n      return calcTiebreakService(12, first_service);\n    },\n  };\n\n  function changeOrder(order, submitted, counterpart) {\n    const sameOrder = (a, b) => !a.filter((o, i) => o != b[i]).length;\n    const notXinY = (x, y) => y.filter((n) => x.indexOf(n) != -1).length != y.length;\n    if (\n      !Array.isArray(order) ||\n      order.length != number_of_players ||\n      notXinY(order, [0, 1]) ||\n      notXinY([0, 1, 2, 3], order)\n    )\n      return false;\n\n    const no_format_change = order.length == metadata[submitted].length;\n    if (sameOrder(order, metadata[submitted]) && no_format_change) return accessors;\n\n    const teams = accessors.teams();\n    metadata[submitted] = order;\n    const new_teams = accessors.teams();\n\n    if (\n      order.length == 4 &&\n      sameOrder(teams[0], new_teams[0]) &&\n      no_format_change &&\n      serviceToOpponent(metadata[submitted], metadata[counterpart], new_teams)\n    )\n      return accessors;\n\n    metadata[counterpart] = order.map((o) => order.length - 1 - o);\n    return accessors;\n  }\n\n  function serviceToOpponent(players, opponents, teams) {\n    const sameTeam = (p, o) =>\n      teams.filter((team) => team.filter((player) => [p, o].indexOf(player) >= 0).length > 1).length;\n    return !players.filter((s, i) => sameTeam(s, opponents[i])).length;\n  }\n\n  function calcTiebreakService(number, first_service) {\n    const progression = [];\n    return [...Array(number).keys()].map(() => {\n      const result = calcNext(progression, first_service);\n      progression.push(result);\n      return result;\n    });\n  }\n\n  function calcNext(progression, first_service) {\n    const last_position = pos(progression.length);\n    const next_position = (progression.length + 1) % 4 < 2;\n    const last_score = progression[progression.length - 1];\n    const last_service =\n      last_score != undefined ? last_score : first_service != undefined ? first_service : metadata.service_order[0];\n    return next_position == last_position ? last_service : pub.advanceService(last_service);\n  }\n\n  function pos(number) {\n    const iterations = [true].concat([...Array(number).keys()].map((i) => (i + 1) % 4 < 2));\n    return iterations[number];\n  }\n\n  function setServiceOrder() {\n    if (number_of_players == 2) {\n      const existing_order = pub.metadata.serviceOrder();\n      if (existing_order.length == 2) return;\n      pub.metadata.serviceOrder(existing_order.filter((f) => [0, 1].indexOf(f) >= 0));\n    } else {\n      const existing_order = pub.metadata.serviceOrder();\n      if (existing_order.length == 4) return;\n      const new_order = existing_order.slice();\n      existing_order.forEach((o) => new_order.push(o + 2));\n      pub.metadata.serviceOrder(new_order);\n    }\n  }\n\n  const addEvent = (add_event) => {\n    if (!add_event) return addPoint_events;\n    if (typeof add_event == 'function') {\n      if (addPoint_events.indexOf(add_event) < 0) addPoint_events.push(add_event);\n    } else if (Array.isArray(add_event)) {\n      console.log({ add_event });\n      /*\n      add_event.foreach((e, c) => {\n        if (typeof e == 'function') addPoint_events.push(c);\n      });\n      */\n    }\n  };\n\n  const undoEvent = (undo_event) => {\n    if (!undo_event) return undo_events;\n    if (typeof undo_event == 'function') {\n      if (undo_events.indexOf(undo_event) < 0) undo_events.push(undo_event);\n    } else if (Array.isArray(undo_event)) {\n      console.log({ undo_event });\n      /*\n      undo_event.foreach(e)((e) => {\n        if (typeof e == 'function') undo_events.push(c);\n      });\n      */\n    }\n  };\n\n  const resetEvent = (reset_event) => {\n    if (!reset_event) return reset_events;\n    if (typeof reset_event == 'function') {\n      if (reset_events.indexOf(reset_event) < 0) reset_events.push(reset_event);\n    } else if (Array.isArray(reset_event)) {\n      console.log({ reset_event });\n      /*\n      reset_event.foreach(e)((e) => {\n        if (typeof e == 'function') reset_events.push(c);\n      });\n      */\n    }\n  };\n\n  const clearEvents = () => {\n    addPoint_events = [];\n    undo_events = [];\n    reset_events = [];\n  };\n\n  const pub = {\n    metadata: accessors,\n    pointParser: umo.pointParser,\n    events: { addPoint: addEvent, undo: undoEvent, clearEvents, reset: resetEvent },\n    history: [],\n    live_stats: false,\n    perspective_score: false,\n    assignParser(parser) {\n      pub.pointParser = parser;\n    },\n    advanceService(service) {\n      const index = metadata.service_order.indexOf(service) + 1;\n      return metadata.service_order[index < accessors.players().length ? index : 0];\n    },\n    nextTiebreakService(history, first_service) {\n      const so = calcTiebreakService(history.length + 1, first_service);\n      return so[so.length - 1];\n    },\n    singles(value) {\n      if (!arguments.length) return number_of_players == 2 ? true : false;\n      number_of_players = value ? 2 : 4;\n      setServiceOrder();\n      return pub;\n    },\n    doubles(value) {\n      if (!arguments.length) return number_of_players == 4 ? true : false;\n      number_of_players = value ? 4 : 2;\n      setServiceOrder();\n      return pub;\n    },\n    stats: {\n      calculated(set_filter) {\n        return calculatedStats(pub.stats.counters(set_filter));\n      },\n      counters(set_filter) {\n        if (\n          (set_filter != undefined && filtered_stats != set_filter) ||\n          (set_filter == undefined && filtered_stats != undefined)\n        ) {\n          accessors.resetStats();\n        }\n        if (!stat_points) {\n          pub.live_stats = true;\n          let episodes = pub.history.filter((episode) => episode.action === 'addPoint');\n          if (set_filter != undefined) {\n            episodes = episodes.filter((episode) => episode.point.set === set_filter);\n            filtered_stats = set_filter;\n          }\n          episodes.forEach((episode) => pub.addStatPoint(episode));\n        }\n        return stat_points;\n      },\n    },\n    addStatPoint(episode) {\n      if (!pub.live_stats) return;\n      const point = episode.point;\n      if (!stat_points) stat_points = { players: {}, teams: {} };\n      const server_team = accessors.playerTeam(point.server);\n      const team_winner = accessors.playerTeam(point.winner);\n      const team_loser = 1 - team_winner;\n\n      addStat({ player: point.server, episode, stat: 'pointsServed' });\n      addStat({ team: team_winner, episode, stat: 'pointsWon' });\n      if (point.result && point.hand) {\n        const player = point.result == 'Winner' ? team_winner : team_loser;\n        addStat({ player, episode, stat: point.hand });\n      }\n      if (point.result == 'Ace') addStat({ player: point.server, episode, stat: 'aces' });\n      if (point.result == 'Double Fault') addStat({ player: point.server, episode, stat: 'doubleFaults' });\n      if (point.result == 'Winner') addStat({ player: point.winner, episode, stat: 'winners' });\n\n      if (point.result == 'Unforced Error') addStat({ team: team_loser, episode, stat: 'unforcedErrors' });\n      if (point.result == 'Forced Error') addStat({ team: team_loser, episode, stat: 'forcedErrors' });\n\n      if (!point.first_serve) addStat({ player: point.server, episode, stat: 'serves1stIn' });\n      if (!point.first_serve && point.winner == server_team) {\n        addStat({ player: point.server, episode, stat: 'serves1stWon' });\n        addStat({ team: team_loser, undefined, stat: 'received1stWon' });\n        addStat({ team: team_loser, undefined, stat: 'received2ndWon' });\n      }\n      if (!point.first_serve && point.winner != server_team)\n        addStat({ team: team_winner, episode, stat: 'received1stWon' });\n      if (point.first_serve && point.result != 'Double Fault')\n        addStat({ player: point.server, episode, stat: 'serves2ndIn' });\n      if (point.first_serve && point.result != 'Double Fault' && point.winner == point.server) {\n        addStat({ player: point.server, episode, stat: 'serves2ndWon' });\n        addStat({ team: team_loser, undefined, stat: 'received1stWon' });\n        addStat({ team: team_loser, undefined, stat: 'received2ndWon' });\n      }\n      if (point.first_serve && point.result != 'Double Fault' && point.winner != server_team) {\n        addStat({ team: team_winner, episode, stat: 'received2ndWon' });\n      }\n      if (point.breakpoint) {\n        addStat({ player: point.server, undefined, stat: 'breakpointsSaved' });\n        addStat({ player: point.server, episode, stat: 'breakpointsFaced' });\n      }\n      if (last_episode && last_episode.point.breakpoint && last_episode.point.server == point.winner) {\n        addStat({ player: point.server, episode, stat: 'breakpointsSaved' });\n      }\n\n      if (episode.game && episode.game.complete) {\n        addStat({ team: team_winner, episode, stat: 'gamesWon' });\n      }\n      last_episode = episode;\n    },\n    removeStatPoint(episode) {\n      if (!pub.live_stats) return;\n      Object.keys(stat_points).forEach((grouping) => {\n        Object.keys(stat_points[grouping]).forEach((group) => {\n          Object.keys(stat_points[grouping][group]).forEach((stat) => {\n            if (stat_points[grouping][group][stat].length) {\n              stat_points[grouping][group][stat] = stat_points[grouping][group][stat].filter(\n                (f) => f.point.index != episode.point.index,\n              );\n            }\n          });\n        });\n      });\n      const points = pub.history.filter((episode) => episode.action == 'addPoint');\n      last_episode = points.length ? points[points.length - 1] : undefined;\n    },\n  };\n  accessors.reset();\n  return pub;\n\n  function calculatedStats(stats) {\n    if (!stats || !stats.teams) return [];\n\n    // prefix of '-' indicates that value for opposing team should be used\n    // '*' indicates that value is optional\n    const calculated_stats = {\n      Aces: { numerators: ['aces'], calc: 'number' },\n      'Double Faults': { numerators: ['doubleFaults'], calc: 'number' },\n      'First Serve %': { numerators: ['serves1stIn'], denominators: ['pointsServed'], calc: 'percentage' },\n      'Unforced Errors': { numerators: ['unforcedErrors'], calc: 'number' },\n      'Forced Errors': { numerators: ['forcedErrors'], calc: 'number' },\n      Winners: { numerators: ['winners'], calc: 'number' },\n      'Total Points Won': { numerators: ['pointsWon'], calc: 'number' },\n      'Max Pts/Row': { numerators: ['pointsWon'], calc: 'maxConsecutive', attribute: 'index' },\n      'Max Games/Row': { numerators: ['gamesWon'], calc: 'maxConsecutive', attribute: 'game' },\n      'Points Won 1st': { numerators: ['serves1stWon'], denominators: ['serves1stIn'], calc: 'percentage' },\n      'Points Won 2nd': { numerators: ['serves2ndWon'], denominators: ['serves2ndIn'], calc: 'percentage' },\n      'Points Won Receiving': {\n        numerators: ['received1stWon', 'received2ndWon'],\n        denominators: ['-pointsServed'],\n        calc: 'percentage',\n      },\n      'Breakpoints Saved': {\n        numerators: ['breakpointsSaved'],\n        denominators: ['breakpointsFaced'],\n        calc: 'percentage',\n      },\n      'Breakpoints Converted': {\n        numerators: ['-breakpointsSaved'],\n        denominators: ['-breakpointsFaced'],\n        calc: 'difference',\n      },\n      'Aggressive Margin': {\n        calc: 'aggressiveMargin',\n        numerators: ['*doubleFaults', '*unforcedErrors'],\n        denominators: ['*aces', '*winners', '-*forcedErrors'],\n      },\n    };\n\n    const reduceComponents = (components, teams, team) => {\n      if (!components) return undefined;\n      const values = components.map((component) => {\n        const counter = component.split('-').reverse()[0].split('*').join('');\n        const component_team = teams[component.indexOf('-') == 0 ? 1 - team : team];\n        return component_team && component_team[counter] ? component_team[counter].length : 0;\n      });\n      return [].concat(0, 0, ...values).reduce((a, b) => a + b);\n    };\n\n    const numeratorDenominator = (stat_obj, teams, team) => {\n      const numerator = reduceComponents(stat_obj.numerators, teams, team);\n      const denominator = reduceComponents(stat_obj.denominators, teams, team);\n      return { numerator, denominator };\n    };\n\n    const displayPct = (numerator, denominator) => {\n      const pct = Math.round((numerator / denominator) * 100);\n      return { value: pct, display: `${pct}% (${numerator}/${denominator})` };\n    };\n\n    const stat_calcs = {\n      number(stat_obj, teams, team) {\n        // ({ numerator, denominator } = numeratorDenominator(stat_obj, teams, team));\n        const { numerator } = numeratorDenominator(stat_obj, teams, team);\n        return { display: numerator, value: numerator, numerators: stat_obj.numerators };\n      },\n      maxConsecutive(stat_obj, teams, team) {\n        const stat = stat_obj.numerators[0];\n        const attribute = stat_obj.attribute;\n        const episodes = teams[team][stat];\n        if (!episodes) return { value: 0, display: 0 };\n        let current = undefined;\n        let max_consecutive = 0;\n        let consecutive = episodes.length ? 1 : 0;\n        episodes.forEach((episode) => {\n          if (current + 1 == episode.point[attribute]) {\n            consecutive += 1;\n          } else {\n            if (consecutive > max_consecutive) max_consecutive = consecutive;\n            consecutive = 1;\n          }\n          current = episode.point[attribute];\n        });\n        if (consecutive > max_consecutive) max_consecutive = consecutive;\n        return { display: max_consecutive, value: max_consecutive };\n      },\n      percentage(stat_obj, teams, team) {\n        const { numerator, denominator } = numeratorDenominator(stat_obj, teams, team);\n        if (numerator == undefined || !denominator) return { value: 0, display: 0 };\n        return Object.assign(displayPct(numerator, denominator), { numerators: stat_obj.numerators });\n      },\n      difference(stat_obj, teams, team) {\n        const { numerator, denominator } = numeratorDenominator(stat_obj, teams, team);\n        if (numerator == undefined || !denominator) return { value: 0, display: 0 };\n        const diff = Math.abs(denominator - numerator);\n        return Object.assign(displayPct(diff, denominator), { numerators: stat_obj.numerators });\n      },\n      aggressiveMargin(stat_obj, teams, team) {\n        const { numerator, denominator } = numeratorDenominator(stat_obj, teams, team);\n        const diff = denominator - numerator;\n        const point_counts = Object.keys(teams).map((team) =>\n          teams[team].pointsWon ? teams[team].pointsWon.length : 0,\n        );\n        const total_points = [].concat(0, 0, ...point_counts).reduce((a, b) => a + b);\n        return Object.assign(displayPct(diff, total_points), { numerators: stat_obj.numerators });\n      },\n    };\n\n    const teams_counters = [].concat(...Object.keys(stats.teams).map((team) => Object.keys(stats.teams[team])));\n    return Object.keys(calculated_stats)\n      .map((stat) => {\n        const stat_obj = calculated_stats[stat];\n        if (!stat_obj.denominators) stat_obj.denominators = [];\n        // must remove any '-' indicators to invert\n        let required_counters = []\n          .concat(...stat_obj.numerators, ...stat_obj.denominators)\n          .map((m) => m.split('-').reverse()[0]);\n        required_counters = required_counters.filter((counter) => counter.indexOf('*') < 0);\n        const counters_exist =\n          required_counters.map((counter) => teams_counters.indexOf(counter) < 0).filter((f) => f).length < 1;\n        if (!counters_exist) return false;\n        const team_stats = [0, 1].map((team) => {\n          return stat_calcs[stat_obj.calc](stat_obj, stats.teams, team);\n        });\n        return { name: stat, team_stats };\n      })\n      .filter((f) => f);\n  }\n\n  function addStat(params?: any) {\n    const { player, episode, stat } = params ?? {};\n    let team = params?.team;\n    // stat object is created even if there is no episode to add (=0)\n    if (player != undefined) {\n      if (!stat_points.players[player]) stat_points.players[player] = {};\n      if (!stat_points.players[player][stat]) stat_points.players[player][stat] = [];\n      if (episode) stat_points.players[player][stat].push(episode);\n      team = accessors.playerTeam(player);\n    }\n    if (team != undefined) {\n      if (!stat_points.teams[team]) stat_points.teams[team] = {};\n      if (!stat_points.teams[team][stat]) stat_points.teams[team][stat] = [];\n      if (episode) stat_points.teams[team][stat].push(episode);\n    }\n  }\n};\n\nfunction numbersArray(values) {\n  if (!Array.isArray(values)) return false;\n  return values.map((value) => !isNaN(value)).indexOf(false) >= 0;\n}\n\n/*\nif (typeof define === 'function' && define.amd) define(umo);\nelse if (typeof module === 'object' && module.exports) module.exports = umo;\nthis.umo = umo;\n*/\n\nexport const mo = umo;\nexport default umo;\n","import { browserStorage } from './browserStorage';\nimport { firstAndLast } from './utilities';\nimport { mo } from '../services/matchObject/umo';\n\nexport const ch_version = '1.9';\nexport const charts: any = {};\nconst match = mo.Match();\n\nexport const app: any = {\n  broadcast: undefined,\n  user_uuid: undefined,\n};\n\nexport const settings: any = {\n  track_shot_types: undefined,\n  audible_clicks: undefined,\n  display_gamefish: undefined,\n  auto_swap_sides: undefined,\n  point_buttons: undefined,\n};\n\nexport const env: any = {\n  lets: 0,\n  rally: 0,\n  undone: [],\n  view: 'entry',\n  serve2nd: false,\n  rally_mode: false,\n  edit_player: undefined,\n  match_swap: false, // automatic swap\n  swap_sides: false, // user initiated swap\n  orientation: 'vertical',\n  serving: match.nextTeamServing(),\n  receiving: match.nextTeamReceiving(),\n  edit_point_index: undefined,\n  provider: undefined,\n  match,\n};\n\nconst c1 = 'rgb(64, 168, 75)';\nconst c2 = 'rgb(255, 116, 51)';\nconst c3 = 'rgb(221, 56, 48)';\nexport const buttons: any = {\n  first_serve: { color: c1, type: 'toggle' },\n  second_serve: { color: c2, type: 'toggle' },\n  double_fault: { color: c3, type: 'flash' },\n  penalty: { color: c3, type: 'flash' },\n  first_ace: { color: c1, type: 'flash' },\n  second_ace: { color: c2, type: 'flash' },\n  server_winner: { color: c1, type: 'flash' },\n  server_unforced: { color: c3, type: 'flash' },\n  server_forced: { color: c2, type: 'flash' },\n  receiving_winner: { color: c1, type: 'flash' },\n  receiving_unforced: { color: c3, type: 'flash' },\n  receiving_forced: { color: c2, type: 'flash' },\n};\nexport const options = {\n  user_swap: false,\n  highlight_better_stats: true,\n  vertical_view: browserStorage.get('vertical_view') || 'vblack',\n  horizontal_view: browserStorage.get('horizontal_view') || 'hblack',\n};\n\nexport const device: any = {\n  isStandalone: 'standalone' in window.navigator && window.navigator.standalone,\n  isIDevice: /iphone|ipod|ipad/i.test(window.navigator.userAgent),\n  isMobile: typeof window.orientation !== 'undefined',\n  geoposition: {},\n};\n\nexport const default_players = ['Player One', 'Player Two'];\n\nexport function clearActionEvents() {\n  match.events.clearEvents();\n}\n\nexport function updatePositions() {\n  const left_side = env.swap_sides ? 1 : 0;\n  const right_side = env.swap_sides ? 0 : 1;\n  // var server_side = env.swap_sides ? 1 - env.serving : env.serving;\n  // var receiver_side = env.swap_sides ? 1 - env.receiving : env.receiving;\n\n  updateMatchArchive();\n\n  const player_names = match.metadata.players();\n  // var display_position = Array.from(document.getElementsByClassName(\"position_display\"));\n  // display_position[0].value = firstAndLast(player_names[left_side].name);\n  // display_position[1].value = firstAndLast(player_names[right_side].name);\n  const p1 = document.getElementById('playerone');\n  const p2 = document.getElementById('playertwo');\n  if (p1) p1.innerHTML = firstAndLast(player_names[left_side].name);\n  if (p2) p2.innerHTML = firstAndLast(player_names[right_side].name);\n\n  // new way\n  const display_player_0 = Array.from(document.querySelectorAll('.display_player_0'));\n  display_player_0.forEach((element) => (element.innerHTML = player_names[left_side].name));\n  const display_player_1 = Array.from(document.querySelectorAll('.display_player_1'));\n  display_player_1.forEach((element) => (element.innerHTML = player_names[right_side].name));\n}\n\nexport function updateMatchArchive(force?: boolean) {\n  const points = match.history.points();\n\n  // var match_id = match.metadata.defineMatch().muid;\n  const match_id = browserStorage.get('current_match');\n  if (!match_id) return;\n  const players = match.metadata.players();\n  const save =\n    force || points.length || (players[0].name != default_players[0] && players[1].name != default_players[1]);\n  if (!save) return;\n\n  // add key for current match\n  const match_archive = JSON.parse(browserStorage.get('match_archive') || '[]');\n\n  if (match_archive.indexOf(match_id) < 0) {\n    match_archive.push(match_id);\n    browserStorage.set('match_archive', JSON.stringify(match_archive));\n  }\n\n  const match_object = {\n    ch_version: ch_version,\n    players: players,\n    first_service: match.set.firstService(),\n    match: match.metadata.defineMatch(),\n    format: match.format.settings(),\n    tournament: match.metadata.defineTournament(),\n    points: points,\n    scoreboard: match.scoreboard(),\n  };\n  browserStorage.set(match_id, JSON.stringify(match_object));\n}\n\nexport function restoreAppState() {\n  const app_settings = browserStorage.get('CH_AppSettings');\n  if (app_settings) Object.assign(settings, JSON.parse(app_settings));\n  Object.keys(settings).forEach((key) => {\n    const em: any = document.getElementById(key);\n    if (em) em.checked = settings[key];\n  });\n  const app_state = browserStorage.get('CH_AppState');\n  if (app_state) Object.assign(app, JSON.parse(app_state));\n}\n\nexport function updateAppState() {\n  Object.keys(settings).forEach((key) => {\n    const em: any = document.getElementById(key);\n    if (em) settings[key] = em.checked;\n  });\n  browserStorage.set('CH_AppSettings', JSON.stringify(settings));\n  browserStorage.set('CH_AppState', JSON.stringify(app));\n}\n\nexport function setOrientation() {\n  if (device.isMobile) {\n    env.orientation = window.screen.orientation.type == 'landscape-primary' ? 'landscape' : 'portrait';\n  } else {\n    env.orientation = window.innerWidth > window.innerHeight ? 'landscape' : 'portrait';\n  }\n}\n","import { env } from './env';\n\nexport function formatChangePossible() {\n  const points = env.match.history.points();\n  return points.length == 0;\n\n  // TODO: implement when umo can propagate changes to children...\n  /*\n      scores = points.map(point=>point.score);\n      var games = match.score().counters.games.reduce((a, b) => a + b);\n      var advantages = scores.map(m=>m.indexOf('A') >= 0).filter(f=>f);\n      if (games < 1 && advantages < 1) return true;\n      */\n}\n","import { env } from './env';\n\nexport function displayPointHistory() {\n  const games = groupGames();\n  const players = env.match.metadata.players();\n  let html = '';\n  if (!games.length) return false;\n  games.forEach((game: any) => {\n    if (game.points && game.points.length) html += gameEntry(game, players);\n  });\n  html += `\n    <div class=\"flexrows ph_game\">\n      <div class='ph_margin' style='width: 100%'>\n          <div class='flexcenter' style='width: 100%'>Duration ${matchDuration()}</div>\n      </div>\n    </div>\n  `;\n\n  const phFrame = document.getElementById('ph_frame');\n  if (phFrame) phFrame.innerHTML = html;\n}\n\nfunction groupGames() {\n  const point_episodes = env.match.history.action('addPoint');\n  const games: any = [{ points: [] }];\n  let game_counter = 0;\n  let current_game = 0;\n  point_episodes.forEach((episode: any) => {\n    const point = episode.point;\n    if (point.game != current_game) {\n      game_counter += 1;\n      current_game = point.game;\n      games[game_counter] = { points: [] };\n    }\n    games[game_counter].points.push(point);\n    games[game_counter].index = game_counter;\n    games[game_counter].set = episode.set.index;\n    games[game_counter].score = episode.game.games;\n    games[game_counter].complete = episode.game.complete;\n    if (episode.game.complete) games[game_counter].winner = point.winner;\n    if (episode.set.complete) games[game_counter].last_game = true;\n  });\n  return games;\n  // if (set != undefined) games = games.filter(function(game) { return game.set == set });\n}\n\nfunction gameEntry(game: any, players: any[]) {\n  const last_point = game.points[game.points.length - 1];\n  const game_score = game.complete ? game.score.join('-') : undefined;\n  const tiebreak = last_point.tiebreak;\n  const server = tiebreak ? 'Tiebreak' : players[last_point.server].name;\n  const service = tiebreak ? '' : last_point.server ? 'playertwo' : 'playerone';\n  const servergame = tiebreak ? '' : last_point.server == last_point.winner ? 'won' : 'lost';\n  let html = `\n         <div class=\"flexrows ph_game\">\n            <div class='ph_margin flexrows'>\n               <div class=\"ph_server ${service}\">${server}</div>\n               <div class=\"ph_action flexcenter\"> \n                  <div class='ph_fish iconfish'></div>\n               </div>\n               <div class='viewGameFish ph_rally gameIndex=\"${\n                 game.index\n               }\" ph_${servergame}''> <b class=\"viewGameFish\" gameIndex=\"${game.index}\">${game_score || ''}</b> </div>\n            </div>\n         </div>\n      `;\n  game.points.forEach((point: any) => {\n    html += pointEntry(\n      point,\n      players\n      // game.complete && index == game.points.length - 1 ? game.score.join('-') : undefined\n    );\n  });\n  return html;\n}\n\nfunction pointEntry(point: any, players: any[]) {\n  const evenodd = point.index % 2 ? 'even' : 'odd';\n  let point_score = !point.tiebreak && point.server ? point.score.split('-').reverse().join('-') : point.score;\n  let player_initials;\n  if (point.result) {\n    let shot_by;\n    if (['Ace', 'Winner'].indexOf(point.result) >= 0) {\n      shot_by = players[point.winner].name;\n    } else {\n      shot_by = players[1 - point.winner].name;\n    }\n    player_initials = shot_by\n      .split(' ')\n      .map((name: string) => name[0])\n      .join('');\n  }\n  const point_hand = point.hand ? point.hand + ' ' : '';\n  const point_result = point.result || '';\n  const point_description = !point_result ? '' : `${player_initials}: ${point_hand}${point_result}`;\n  point_score = point_score == '0-0' ? 'GAME' : point_score;\n  if (point.tiebreak) {\n    if (point.server) point_score = `&nbsp;${point_score}*`;\n    if (!point.server) point_score = `*${point_score}&nbsp;`;\n  }\n  const rally = point.rally ? point.rally.length + 1 : '';\n  return `\n    <div class='flexrows ph_episode' pointIndex=\"${point.index}\">\n        <div class='ph_point_${evenodd} flexrows'>\n          <div class='viewEditPoint ph_result'>${point_description}</div>\n          <div class='viewEditPoint ph_score'>${point_score} </div>\n          <div class='viewEditPoint ph_score'>${rally}</div>\n        </div>\n    </div>\n    `;\n}\n\nfunction matchDuration() {\n  const timestamps = env.match.history.points().map((p: any) => p.uts);\n  const start = Math.min(...timestamps);\n  const end = Math.max(...timestamps);\n  const seconds = (end - start) / 1000.0;\n  return HHMMSS(seconds);\n}\n\nfunction HHMMSS(s: any) {\n  const sec_num = parseInt(s, 10); // don't forget the second param\n  let hours: any = Math.floor(sec_num / 3600);\n  let minutes: any = Math.floor((sec_num - hours * 3600) / 60);\n  let seconds: any = sec_num - hours * 3600 - minutes * 60;\n\n  if (hours < 10) {\n    hours = '0' + hours;\n  }\n  if (minutes < 10) {\n    minutes = '0' + minutes;\n  }\n  if (seconds < 10) {\n    seconds = '0' + seconds;\n  }\n  return hours + ':' + minutes + ':' + seconds;\n}\n","import { env } from './env';\n\nexport function groupGames(point_episodes?: any[]) {\n  point_episodes = point_episodes || env.match.history.action('addPoint');\n  const games: any = [{ points: [] }];\n  let game_counter = 0;\n  let current_game = 0;\n  point_episodes?.forEach((episode: any) => {\n    const point = episode.point;\n    if (point.game != current_game) {\n      game_counter += 1;\n      current_game = point.game;\n      games[game_counter] = { points: [] };\n    }\n    games[game_counter].points.push(point);\n    games[game_counter].index = game_counter;\n    games[game_counter].set = episode.set.index;\n    games[game_counter].score = episode.game.games;\n    games[game_counter].complete = episode.game.complete;\n    if (episode.game.complete) games[game_counter].winner = point.winner;\n    if (episode.set.complete) games[game_counter].last_game = true;\n  });\n  return games;\n  // if (set != undefined) games = games.filter(function(game) { return game.set == set });\n}\n","export function closeModal() {\n  Array.from(document.querySelectorAll('.ch_modal')).forEach((modal: any) => (modal.style.display = 'none'));\n}\n","import { env, options, settings, updateMatchArchive, updatePositions } from './env';\nimport { browserStorage } from './browserStorage';\nimport { groupGames } from './groupGames';\nimport { closeModal } from './modals';\n\nexport function updateScore() {\n  const score = env.match.score();\n  const sets_counter = score.counters.sets;\n  const games_counter = score.counters.games;\n  const points = score.points.split('-');\n  const left_side = env.swap_sides ? 1 : 0;\n  const right_side = env.swap_sides ? 0 : 1;\n\n  // old way\n  const point_fields: any = Array.from(document.getElementsByClassName('points'));\n  point_fields.forEach((field: any, index: number) => {\n    field.value = points[env.swap_sides ? 1 - index : index];\n  });\n\n  // new way\n  const display_point_0 = Array.from(document.querySelectorAll('.display_points_0'));\n  display_point_0.forEach((element) => (element.innerHTML = points[left_side]));\n  const display_point_1 = Array.from(document.querySelectorAll('.display_points_1'));\n  display_point_1.forEach((element) => (element.innerHTML = points[right_side]));\n\n  const display_game_0 = Array.from(document.querySelectorAll('.display_games_0'));\n  display_game_0.forEach((element) => (element.innerHTML = games_counter[left_side]));\n  const display_game_1 = Array.from(document.querySelectorAll('.display_games_1'));\n  display_game_1.forEach((element) => (element.innerHTML = games_counter[right_side]));\n\n  const display_set_0 = Array.from(document.querySelectorAll('.display_sets_0'));\n  display_set_0.forEach((element) => (element.innerHTML = sets_counter[left_side]));\n  const display_set_1 = Array.from(document.querySelectorAll('.display_sets_1'));\n  display_set_1.forEach((element) => (element.innerHTML = sets_counter[right_side]));\n\n  const sets = score.components.sets;\n  const threshold = env.match.format.threshold();\n  const max_games = threshold == 1 ? 0 : threshold > 2 ? 4 : 2;\n  [0, 1, 2, 3, 4].forEach((index) => {\n    if (!sets || (sets && !sets[index])) {\n      // old way\n      const set_fields = Array.from(document.getElementsByClassName('games' + index));\n      set_fields.forEach((field: any) => (field.value = '-'));\n      // new way\n      const player0_games = Array.from(document.getElementsByClassName('display_set_' + index + '_games_0'));\n      player0_games.forEach((field) => (field.innerHTML = index > max_games ? ' ' : '-'));\n      const player1_games = Array.from(document.getElementsByClassName('display_set_' + index + '_games_1'));\n      player1_games.forEach((field) => (field.innerHTML = index > max_games ? ' ' : '-'));\n    }\n  });\n\n  if (!sets) return;\n\n  sets.forEach((set: any, index: number) => {\n    // old way\n    const set_fields: any = Array.from(document.getElementsByClassName('games' + index));\n    set_fields.forEach((field: any, index: number) => (field.value = set.games[env.swap_sides ? 1 - index : index]));\n    // new way\n    const player0_games = Array.from(document.getElementsByClassName('display_set_' + index + '_games_0'));\n    player0_games.forEach((field) => (field.innerHTML = set.games[env.swap_sides ? 1 : 0]));\n    const player1_games = Array.from(document.getElementsByClassName('display_set_' + index + '_games_1'));\n    player1_games.forEach((field) => (field.innerHTML = set.games[env.swap_sides ? 0 : 1]));\n  });\n}\n\nexport function loadDetails() {\n  const players = env.match.metadata.players();\n  players.forEach((player: any, index: number) => {\n    const attributes = ['hand', 'entry', 'seed', 'draw_position', 'ioc', 'rank'];\n    attributes.forEach((detail) => {\n      const target_id = `player${index}_${detail}`;\n      const target: any = document.getElementById(target_id);\n      if (target) target.value = player[detail] || '';\n    });\n  });\n\n  const match_details = env.match.metadata.defineMatch();\n  const m_attrs = ['court', 'umpire'];\n  m_attrs.forEach((attribute) => {\n    const target_id = `match_${attribute}`;\n    const tid: any = document.getElementById(target_id);\n    if (tid) tid.value = match_details[attribute] || '';\n  });\n\n  const tournament = env.match.metadata.defineTournament();\n  const t_attrs = ['name', 'start_date', 'tour', 'rank', 'surface', 'in_out', 'draw', 'draw_size', 'round'];\n  t_attrs.forEach((attribute) => {\n    const target_id = `tournament_${attribute}`;\n    const tid: any = document.getElementById(target_id);\n    if (tid) tid.value = tournament[attribute] || '';\n  });\n}\n\nexport function stateChangeEvent() {\n  updateMatchArchive();\n  env.serve2nd = false;\n  env.rally_mode = false;\n  updateState();\n  updateScore();\n  visibleButtons();\n}\n\nexport function visibleButtons() {\n  const points = env.match.history.action('addPoint');\n  const match_archive = JSON.parse(browserStorage.get('match_archive') || '[]');\n  Array.from(document.querySelectorAll('.view_stats')).forEach(\n    (div: any) => (div.style.display = points.length > 0 ? 'inline' : 'none'),\n  );\n  Array.from(document.querySelectorAll('.change_server')).forEach(\n    (div: any) => (div.style.display = points.length == 0 ? 'inline' : 'none'),\n  );\n  Array.from(document.querySelectorAll('.view_archive')).forEach(\n    (div: any) => (div.style.display = points.length == 0 && match_archive.length ? 'inline' : 'none'),\n  );\n  Array.from(document.querySelectorAll('.view_settings')).forEach(\n    (div: any) => (div.style.display = points.length == 0 && !match_archive.length ? 'inline' : 'none'),\n  );\n  Array.from(document.querySelectorAll('.view_history')).forEach(\n    (div: any) => (div.style.display = points.length > 0 ? 'inline' : 'none'),\n  );\n  Array.from(document.querySelectorAll('.undo')).forEach((div: any) => {\n    div.style.display = points.length > 0 || env.serve2nd || env.rally_mode ? 'flex' : 'none';\n  });\n  Array.from(document.querySelectorAll('.redo')).forEach((div: any) => {\n    div.style.display = env.undone.length ? 'flex' : 'none';\n  });\n  const last_point = points.length ? points[points.length - 1] : undefined;\n  const status_message = statusMessage();\n  env.match.status = status_message;\n  Array.from(document.querySelectorAll('.status_message')).forEach((div) => (div.innerHTML = status_message));\n\n  function statusMessage() {\n    if (last_point) {\n      if (last_point.needed.points_to_set && Math.min(...last_point.needed.points_to_set) == 1) return 'SET POINT';\n      if (last_point.point.breakpoint) return 'BREAK POINT';\n      if (last_point.needed.points_to_game && last_point.needed.points_to_game[last_point.point.server] == 1)\n        return 'GAME POINT';\n    }\n    if (env.lets) return `Lets: ${env.lets}`;\n    return '';\n  }\n}\n\nexport function updateState() {\n  if (env.match.nextTeamServing() != env.serving) setTimeout(() => swapServer(), 400);\n  resetButtons();\n  updatePositions();\n}\n\nexport function resetButtons() {\n  const server_side = env.swap_sides ? 1 - env.serving : env.serving;\n  const receiver_side = env.swap_sides ? 1 - env.receiving : env.receiving;\n\n  Array.from(document.querySelectorAll('.fault')).forEach((div) => (div.innerHTML = 'Fault'));\n\n  const server_mode = `.modeaction_player${server_side}`;\n  Array.from(document.querySelectorAll(server_mode)).forEach((div) => (div.innerHTML = 'Serve'));\n\n  const server_fault = `.modeerr_player${server_side}`;\n  Array.from(document.querySelectorAll(server_fault)).forEach((div) => (div.innerHTML = 'Fault'));\n  const server_ace = `.modewin_player${server_side}`;\n  Array.from(document.querySelectorAll(server_ace)).forEach((div) => (div.innerHTML = 'Ace'));\n  const server_let = `.modeforce_player${server_side}`;\n  Array.from(document.querySelectorAll(server_let)).forEach((div) => (div.innerHTML = 'Let'));\n\n  const receiver_mode = `.modeaction_player${receiver_side}`;\n  Array.from(document.querySelectorAll(receiver_mode)).forEach((div) => (div.innerHTML = 'Return'));\n\n  const receiver_ufe = `.modeerr_player${receiver_side}`;\n  Array.from(document.querySelectorAll(receiver_ufe)).forEach((div) => (div.innerHTML = 'UFE'));\n  const receiver_winner = `.modewin_player${receiver_side}`;\n  Array.from(document.querySelectorAll(receiver_winner)).forEach((div) => (div.innerHTML = 'Winner'));\n  const receiver_forced = `.modeforce_player${receiver_side}`;\n  Array.from(document.querySelectorAll(receiver_forced)).forEach((div) => (div.innerHTML = 'Forced'));\n\n  Array.from(document.querySelectorAll('.vs_point_button')).forEach(\n    (div: any) => (div.style.display = settings.point_buttons ? 'flex' : 'none'),\n  );\n\n  Array.from(document.querySelectorAll('.rally')).forEach((div) => (div.innerHTML = 'Rally'));\n}\n\nexport function swapServer() {\n  env.serving = env.match.nextTeamServing();\n  env.receiving = env.match.nextTeamReceiving();\n\n  if (settings.auto_swap_sides) {\n    const games = groupGames();\n    let game_number: number = games.length;\n    if (games[games.length - 1].complete) game_number += 1;\n    env.match_swap = swapSides(game_number);\n  } else {\n    env.match_swap = false;\n  }\n  setCourtSide();\n\n  const server_side = env.swap_sides ? 1 - env.serving : env.serving;\n  const receiver_side = env.swap_sides ? 1 - env.receiving : env.receiving;\n\n  /**\n  let div = document.getElementById(server_side ? 'player_receiving' : 'player_serving');\n  div.parentNode.insertBefore(div, document.getElementById('team_two'));\n  div = document.getElementById(server_side ? 'player_serving' : 'player_receiving');\n  div.parentNode.insertBefore(div, document.getElementById('entry_end'));\n  */\n\n  changeTextColor(`.indicate_serve.display_player_${server_side}`, 'yellow');\n  changeTextColor(`.indicate_serve.display_player_${receiver_side}`, 'white');\n\n  /**\n  document.getElementById(\"team_one_role\").innerHTML = server_side ? 'Receiving:' : 'Serving:';\n  document.getElementById(\"team_two_role\").innerHTML = server_side ? 'Serving:' : 'Receiving:';\n  */\n\n  if (server_side) {\n    changeClassDisplay('.display_0_serving', 'none');\n    changeClassDisplay('.display_1_serving', 'flex');\n  } else {\n    changeClassDisplay('.display_0_serving', 'flex');\n    changeClassDisplay('.display_1_serving', 'none');\n  }\n\n  const point_fields = Array.from(document.getElementsByClassName('points'));\n  point_fields.forEach((field: any, index) => {\n    const player = env.swap_sides ? 1 - index : index;\n    field.style.backgroundColor = player == env.serving ? '#FBF781' : '#D1FBFB';\n  });\n  resetButtons();\n}\n\nfunction swapSides(number: number) {\n  const iterations = [true].concat([...Array(number).keys()].map((i) => (i + 1) % 4 < 2));\n  return !iterations[number];\n}\n\nexport function setCourtSide() {\n  env.swap_sides = env.match_swap;\n  if (options.user_swap) env.swap_sides = !env.swap_sides;\n  stateChangeEvent();\n}\n\nfunction changeTextColor(classes: string, value: any) {\n  const objs = Array.from(document.querySelectorAll(classes));\n  objs.forEach((obj: any) => (obj.style.color = value));\n}\n\nfunction changeClassDisplay(className: string, display: string) {\n  const elements = Array.from(document.querySelectorAll(className));\n  elements.forEach((element: any) => (element.style.display = display));\n}\n\nexport function checkPlayerName(keypress: any) {\n  if (keypress.keyCode == 13 || keypress.code == 9) {\n    const player_hand = document.getElementById('player_hand');\n    if (player_hand) player_hand.focus();\n    changePlayerName();\n  }\n}\n\nexport function changePlayerName() {\n  const player_name: any = document.getElementById('playername');\n  const team: any = document.getElementById('team');\n  const id: any = document.getElementById('playerid');\n  if (player_name) {\n    const update: any = {\n      index: env.edit_player,\n      name: player_name.value,\n    };\n    if (team) update.team = team.value;\n    if (id) update.id = id.value;\n    env.match.metadata.definePlayer(update);\n  }\n  updatePositions();\n}\n\nexport function editMatchDetails() {\n  closeModal();\n  const matchDetails = document.getElementById('matchdeets');\n  if (matchDetails) matchDetails.style.display = 'flex';\n  const detailContent = document.getElementById('matchdetail_content');\n  if (detailContent) detailContent.scrollTop = 0;\n}\n","export default \"__VITE_ASSET__P0JBwVya__\"","export default \"__VITE_ASSET__86LiX4v4__\"","import { browserStorage } from './browserStorage';\nimport { showModal } from './utilities';\nimport { device } from './env';\n\nexport function modalExport(match_id: any) {\n  match_id = match_id || browserStorage.get('current_match');\n  Array.from(document.querySelectorAll('.mh_export')).forEach((selector: any) => (selector.style.display = 'none'));\n  const match_data = browserStorage.get(match_id);\n  const header = `\n   <p>&nbsp;</p>\n   <h1>Export Options</h1>\n   <p>Supported by your device</p>\n`;\n  const save = `\n   <div matchId=\"${match_id}\" class=\"exportMatch flexcenter\">\n      <div matchId=\"${match_id}\" class='exportMatch export_action action_icon iconsave'></div>\n   </div>\n`;\n  const copy = `\n   <div class=\"flexcenter\">\n      <button id='copy2clipboard' class=\"flexcenter c2c\" data-clipboard-text=\"\"> \n         <div class='export_action action_icon iconclipboard'></div> \n      </button>\n   </div> \n`;\n  const modaltext = `<div>${header}<div class=\"flexrows flexcenter\">${\n    !device.isIDevice ? save : ''\n  }${copy}</div></div>`;\n  const export_data = match_data;\n  showModal(modaltext, export_data);\n}\n","const util = {\n  hasClass: function (e: Element, c: string) {\n    const re = new RegExp('(^|\\\\s)' + c + '(\\\\s|$)');\n    return re.test(e.className);\n  },\n  addClass: function (e: Element, c: string) {\n    if (this.hasClass(e, c)) {\n      return;\n    }\n    const newclass = e.className.split(' ');\n    newclass.push(c);\n    e.className = newclass.join(' ');\n  },\n  removeClass: function (e: Element, c: string) {\n    if (!this.hasClass(e, c)) {\n      return;\n    }\n    const re = new RegExp('(^|\\\\s)' + c + '(\\\\s|$)', 'g');\n    e.className = e.className.replace(re, '');\n  }\n};\n\nexport const SwipeList = {\n  init: (opt: any) => {\n    let swipeLeft = 0;\n    let swipeRight = 0;\n    opt.buttons.forEach((b: any) => {\n      if (b.side == 'right') swipeLeft += b.width || 0;\n      if (b.side == 'left') swipeRight += b.width || 0;\n    });\n\n    const instances = Array.from(document.querySelectorAll(opt.container));\n    instances.forEach((instance) => {\n      let moveX = 0;\n      let moveY = 0;\n      let moveStart: any = null;\n\n      // Button DIVs\n      let leftpx = 0;\n      let rightpx = 0;\n      opt.buttons.forEach((button: any) => {\n        const btn = document.createElement('div');\n        btn.textContent = button.text;\n        btn.className = button.class;\n        if (button.side == 'right') {\n          leftpx += button.width || 0;\n          btn.style.right = -1 * leftpx + 'px';\n        }\n        if (button.side == 'left') {\n          rightpx += button.width || 0;\n          btn.style.left = -1 * rightpx + 'px';\n        }\n        const abtn = instance.appendChild(btn);\n\n        // options image instead of text\n        if (button.image) {\n          const img = document.createElement('img');\n          img.src = button.image;\n          img.className = button.image_class;\n          abtn.appendChild(img);\n        }\n      });\n\n      // Hardware Acceleration\n      instance.style.webkitTransform = 'translateZ(0)';\n      instance.style.transform = 'translateZ(0)';\n\n      // Slide Start\n      instance.addEventListener(\n        'touchstart',\n        function (event: any) {\n          // Reset Animation Time\n          instance.style.transitionDuration = '0ms';\n\n          // Close other items\n          instances.forEach((inst) => {\n            if (util.hasClass(inst, 'move-out-click') && inst != instance) {\n              inst.style.transitionDuration = '325ms';\n              inst.style.webkitTransform = 'translateX(0px)';\n              inst.style.transform = 'translateX(0px)';\n              util.removeClass(inst, 'move-out-click');\n            }\n          });\n\n          // Save slide position\n          const touches = event.changedTouches;\n          moveStart = {\n            x: touches[0].pageX,\n            y: touches[0].pageY\n          };\n        },\n        true\n      );\n\n      // Sliding Animation\n      instance.addEventListener(\n        'touchmove',\n        function (event: any) {\n          // Limit to one instance\n          if (moveStart === null) {\n            return;\n          }\n\n          const touches = event.changedTouches;\n          const nowX = touches[0].pageX;\n          const nowY = touches[0].pageY;\n          moveX = nowX - moveStart.x;\n          moveY = nowY - moveStart.y;\n\n          // Left/Right swipes\n          if (Math.abs(moveX) > Math.abs(moveY)) {\n            if (moveX > 0) {\n              if (util.hasClass(instance, 'move-out-click')) {\n                const x = moveX > swipeLeft ? 0 : -swipeLeft + moveX;\n                instance.style.transform = 'translateX(' + x + 'px)';\n              } else if (swipeRight) {\n                const x = Math.abs(moveX) > swipeLeft ? swipeLeft : moveX;\n                instance.style.transform = 'translateX(' + x + 'px)';\n              }\n            }\n            if (moveX < 0) {\n              if (!util.hasClass(instance, 'move-out-click')) {\n                const x = Math.abs(moveX) > swipeLeft ? -swipeLeft : moveX;\n                instance.style.transform = 'translateX(' + x + 'px)';\n              } else if (swipeRight) {\n                const x = Math.abs(moveX) > swipeLeft ? swipeLeft : moveX;\n                instance.style.transform = 'translateX(' + x + 'px)';\n              }\n            }\n          }\n        },\n        true\n      );\n\n      // Finish Sliding Action\n      instance.addEventListener(\n        'touchend',\n        function () {\n          // Limit to one instance\n          if (moveStart === null) {\n            return;\n          }\n\n          // Slower Animation\n          instance.style.transitionDuration = '125ms';\n\n          // If swipe active\n          if (util.hasClass(instance, 'move-out-click')) {\n            if (moveX > 0 && swipeLeft) {\n              const x = moveX > 10 ? 0 : -swipeLeft;\n              instance.style.transform = 'translateX(' + x + 'px)';\n              if (x === 0) {\n                util.removeClass(instance, 'move-out-click');\n              }\n            } else if (swipeRight) {\n              const x = moveX < -10 ? 0 : swipeLeft;\n              instance.style.transform = 'translateX(' + x + 'px)';\n              if (x === 0) {\n                util.removeClass(instance, 'move-out-click');\n              }\n            }\n          } else {\n            if (moveX < 0 && swipeLeft) {\n              const x = Math.abs(moveX) > swipeLeft / 2 ? -swipeLeft : 0;\n              instance.style.transform = 'translateX(' + x + 'px)';\n              if (x !== 0) {\n                util.addClass(instance, 'move-out-click');\n              }\n            } else if (swipeRight) {\n              const x = Math.abs(moveX) > swipeLeft / 2 ? swipeLeft : 0;\n              instance.style.transform = 'translateX(' + x + 'px)';\n              if (x !== 0) {\n                util.addClass(instance, 'move-out-click');\n              }\n            }\n          }\n\n          // Restore initial position\n          moveStart = null;\n          moveX = 0;\n        },\n        true\n      );\n\n      // Cancel\n      instance.addEventListener(\n        'touchcancel',\n        function () {\n          instance.style.transitionDuration = '225ms';\n          instance.style.webkitTransform = 'translateX(0px)';\n          instance.style.transform = 'translateX(0px)';\n          util.removeClass(instance, 'move-out-click');\n          moveStart = null;\n          moveX = 0;\n        },\n        true\n      );\n    });\n  }\n};\n","import { stateChangeEvent, swapServer } from './displayUpdate';\nimport { buttons, env, updatePositions } from './env';\n\nexport function defineActionEvents() {\n  env.match.events.addPoint(stateChangeEvent);\n  env.match.events.undo(stateChangeEvent);\n  env.match.events.reset(resetEvent);\n}\n\nexport function resetEvent() {\n  env.match.set.perspectiveScore(false);\n  env.match.set.liveStats(true);\n  env.match.metadata.timestamps(true);\n  env.match.metadata.defineMatch({ date: null });\n\n  env.serve2nd = false;\n  env.rally_mode = false;\n  env.serving = env.match.nextTeamServing();\n  env.receiving = env.match.nextTeamReceiving();\n  env.undone = [];\n  env.rally = 0;\n  env.lets = 0;\n\n  resetStyles();\n  updatePositions();\n  swapServer();\n  stateChangeEvent();\n}\n\nexport function resetStyles() {\n  Object.keys(buttons).forEach((id) => resetButton(id));\n}\n\nexport function resetButton(id: string) {\n  const button = document.getElementById(id);\n  if (!button) return;\n  if (buttons?.[id] && buttons[id].color) {\n    button.style.backgroundColor = 'white';\n    button.style.color = buttons[id].color;\n    button.style.borderColor = buttons[id].color;\n  }\n}\n","export function UUID() {\n  const lut: string[] = [];\n\n  for (let i = 0; i < 256; i++) {\n    lut[i] = (i < 16 ? '0' : '') + i.toString(16);\n  }\n\n  const d0 = (Math.random() * 0xffffffff) | 0;\n  const d1 = (Math.random() * 0xffffffff) | 0;\n  const d2 = (Math.random() * 0xffffffff) | 0;\n  const d3 = (Math.random() * 0xffffffff) | 0;\n  // eslint-disable-next-line no-mixed-operators\n  return (\n    lut[d0 & 0xff] +\n    lut[(d0 >> 8) & 0xff] +\n    lut[(d0 >> 16) & 0xff] +\n    lut[(d0 >> 24) & 0xff] +\n    '-' +\n    // eslint-disable-next-line no-mixed-operators\n    lut[d1 & 0xff] +\n    lut[(d1 >> 8) & 0xff] +\n    '-' +\n    lut[((d1 >> 16) & 0x0f) | 0x40] +\n    lut[(d1 >> 24) & 0xff] +\n    '-' +\n    // eslint-disable-next-line no-mixed-operators\n    lut[(d2 & 0x3f) | 0x80] +\n    lut[(d2 >> 8) & 0xff] +\n    '-' +\n    lut[(d2 >> 16) & 0xff] +\n    lut[(d2 >> 24) & 0xff] +\n    // eslint-disable-next-line no-mixed-operators\n    lut[d3 & 0xff] +\n    lut[(d3 >> 8) & 0xff] +\n    lut[(d3 >> 16) & 0xff] +\n    lut[(d3 >> 24) & 0xff]\n  );\n}\n\n/**\n * UUID prepended with 'u_' which is safe for html attribute ids\n */\nexport function safeUUID() {\n  return `u_${UUID()}`;\n}\n","import { loadDetails, stateChangeEvent, updateScore } from './displayUpdate';\nimport { clearActionEvents, env, updatePositions } from './env';\nimport { browserStorage } from './browserStorage';\nimport { defineActionEvents } from './events';\nimport { viewManager } from './viewManager';\nimport { isJSON } from './utilities';\nimport { UUID } from './UUID';\n\nexport function loadMatch(match_id: string, view = 'entry') {\n  if (!match_id) {\n    viewManager('entry');\n    return;\n  }\n  env.match.reset();\n  const json = browserStorage.get(match_id);\n  const match_data = json && isJSON(json) && match_id ? JSON.parse(browserStorage.get(match_id) ?? '[]') : undefined;\n  if (!match_data) {\n    // newMatch(); ??\n    // insure match_id is not in match_archive ??\n    viewManager('entry');\n    return;\n  }\n\n  // reduce overhead by turning off matchObject state change events;\n  clearActionEvents();\n  browserStorage.set('current_match', match_id);\n  if (match_data.match) {\n    if (!match_data.match.muid) {\n      match_data.match.muid = UUID();\n      browserStorage.remove(match_id);\n    }\n    env.match.metadata.defineMatch(match_data.match);\n  }\n  if (match_data.first_service) env.match.set.firstService(match_data.first_service);\n  if (match_data.tournament) env.match.metadata.defineTournament(match_data.tournament);\n  if (match_data.format) {\n    env.match.format.settings(match_data.format);\n    const mdFormat = document.getElementById('md_format');\n    if (mdFormat) mdFormat.innerHTML = match_data.format.name;\n  }\n\n  if (!match_data.version) {\n    match_data.points.forEach((point: any) => env.match.addPoint(point));\n  }\n\n  // turn on timestamps *after* loading all points\n  env.match.metadata.timestamps(true);\n\n  if (match_data.players) {\n    match_data.players.forEach((player: any, index: number) => {\n      player.index = index;\n      env.match.metadata.definePlayer(player);\n    });\n  }\n  updatePositions();\n  updateScore();\n  loadDetails();\n  stateChangeEvent();\n  defineActionEvents();\n  viewManager(view);\n}\n","import { loadDetails, stateChangeEvent, updateScore } from './displayUpdate';\nimport exportImage from '../assets/icons/exportwhite.png';\nimport recycleImage from '../assets/icons/recycle.png';\nimport { findUpClass, firstAndLast } from './utilities';\nimport { browserStorage } from './browserStorage';\nimport { modalExport } from './modalExport';\nimport { viewManager } from './viewManager';\nimport { SwipeList } from './swipeList';\nimport { loadMatch } from './loadMatch';\nimport { UUID } from './UUID';\nimport { env } from './env';\n\nexport function displayMatchArchive(params?: any) {\n  const active = params?.active;\n  let html = `<div class='swipe-panel no-top'>`;\n  // archive used to sort by match.date when match_id was timestamp...\n  // need a fix for this...\n  const match_archive: string[] = JSON.parse(browserStorage.get('match_archive') || '[]')\n    .filter((item: any, i: number, s: any) => s.lastIndexOf(item) == i)\n    .reverse();\n  if (!match_archive.length) {\n    newMatch();\n    return;\n  }\n  if (active) return;\n\n  match_archive.forEach((match_id: string) => {\n    const match_data = match_id && JSON.parse(browserStorage.get(match_id) ?? '[]');\n    if (match_data) {\n      html += archiveEntry(match_id, match_data);\n    } else {\n      browserStorage.remove(match_id);\n    }\n  });\n  html += '</div>';\n  const ma_elem = document.getElementById('matcharchiveList');\n  if (ma_elem) ma_elem.innerHTML = html;\n\n  SwipeList.init({\n    container: '.swipe-item',\n    buttons: [\n      {\n        class: 'img_export swipe_img',\n        image_class: 'export_icon',\n        image: exportImage,\n        side: 'right',\n        width: 60\n      },\n      {\n        class: 'img_recycle swipe_img',\n        image_class: 'recycle_icon',\n        image: recycleImage,\n        side: 'right',\n        width: 60\n      }\n    ]\n  });\n\n  if (ma_elem) {\n    ma_elem.addEventListener('click', function (e: any) {\n      const p = findUpClass(e.target, 'swipe-item');\n      const muid = p?.getAttribute('muid');\n      const selected_match = findUpClass(e.target, 'mh_match');\n      if (selected_match) {\n        return loadMatch(muid);\n      }\n\n      if (e?.target?.className?.indexOf('img_export') >= 0 || e.target.className == 'export_icon') {\n        p.classList.remove('move-out-click');\n        p.style.webkitTransitionDuration = '125ms';\n        p.style.transitionDuration = '125ms';\n        p.style.webkitTransform = 'translateX(0px)';\n        p.style.transform = 'translateX(0px)';\n        modalExport(muid);\n      }\n      if (e.target.className.indexOf('img_recycle') >= 0 || e.target.className == 'recycle_icon') {\n        deleteMatch(muid);\n        p.remove();\n      }\n    });\n  }\n\n  return match_archive;\n}\n\nfunction deleteMatch(match_id: string) {\n  /*\n  if (broadcasting()) {\n    const match_data = JSON.parse(browserStorage.get(match_id));\n    const data: any = { muid: match_id };\n    const tournament = (match_data && match_data.tournament) || {};\n    data.tuid = tournament.tuid || tournament.name;\n    // coms.socket.emit('delete match', data);\n  }\n  */\n\n  browserStorage.remove(match_id);\n  const current_match_id = browserStorage.get('current_match');\n  let match_archive = JSON.parse(browserStorage.get('match_archive') || '[]');\n  match_archive = match_archive.filter((archive_id: string) => match_id != archive_id);\n  browserStorage.set('match_archive', JSON.stringify(match_archive));\n  if (match_id == current_match_id) {\n    resetMatch();\n  }\n  displayMatchArchive({ active: true });\n}\n\nexport function resetMatch(muid?: string) {\n  env.match.reset();\n  loadDetails();\n  updateScore();\n  const date = new Date().valueOf();\n  muid = muid || UUID();\n  env.match.metadata.defineMatch({ muid, date });\n  browserStorage.set('current_match', muid);\n  stateChangeEvent();\n}\n\nexport function newMatch(force_format?: boolean) {\n  resetMatch();\n  viewManager(force_format ? 'entry' : 'matchformat');\n}\n\nconst months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nfunction archiveEntry(match_id: string, match_data: any) {\n  const date = new Date(match_data.match.date);\n  const display_date = [date.getDate(), months[date.getMonth()], date.getFullYear()].join('-');\n  const players = match_data.players;\n  const display_players = `\n         <span class='nowrap'>${firstAndLast(players[0].name)}</span>\n         <span> v. </span>\n         <span class='nowrap'>${firstAndLast(players[1].name)}</span>\n         `;\n  const match_score = match_data.scoreboard;\n  const match_format = match_data.format.name;\n  return `\n      <div id='match_${match_id}' muid='${match_id}' class='flexcenter mh_swipe swipe-item'>\n         <div class='flexcols mh_match'>\n            <div class='mh_players'>${display_players}</div>\n            <div class='mh_details'>\n               <div>${display_date}</div>\n               <div class='mh_format'>${match_format}</div>\n            </div>\n            <div class='mh_score'>${match_score}</div>\n         </div>\n      </div>`;\n}\n","import { mo } from '../services/matchObject/umo';\nimport { env } from './env';\n\nexport function displayFormats() {\n  const format_types = env.match.format.types();\n  let html = '';\n  if (!format_types.length) return false;\n  format_types.forEach((format: any) => {\n    html += formatEntry(format);\n  });\n  const matchFormatList = document.getElementById('matchformatlist');\n  if (matchFormatList) matchFormatList.innerHTML = html;\n}\n\nfunction formatEntry(format: any) {\n  const { name, description } = mo.formats().matches[format];\n  return `\n  <div class='changeFormat flexjustifystart mf_format' newFormat=\"${format}\">\n      <div class='changeFormat flexcols'>\n        <div class='changeFormat mf_name'> <b class='changeFormat'>${name || ''}</b> </div>\n        <div class='changeFormat mf_description'> ${description} </div>\n      </div>\n  </div>\n  `;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"#000\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"#000\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"#000\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter\n            : \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter);\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\n\nfunction selection_cloneDeep() {\n  return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar Kn = 18,\n    Xn = 0.950470, // D65 standard referent\n    Yn = 1,\n    Zn = 1.088830,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var b = rgb2xyz(o.r),\n      a = rgb2xyz(o.g),\n      l = rgb2xyz(o.b),\n      x = xyz2lab((0.4124564 * b + 0.3575761 * a + 0.1804375 * l) / Xn),\n      y = xyz2lab((0.2126729 * b + 0.7151522 * a + 0.0721750 * l) / Yn),\n      z = xyz2lab((0.0193339 * b + 0.1191920 * a + 0.9503041 * l) / Zn);\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    y = Yn * lab2xyz(y);\n    x = Xn * lab2xyz(x);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      xyz2rgb( 3.2404542 * x - 1.5371385 * y - 0.4985314 * z), // D65 -> sRGB\n      xyz2rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z),\n      xyz2rgb( 0.0556434 * x - 0.2040259 * y + 1.0572252 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction xyz2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2xyz(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + Kn * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - Kn * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTING) throw new Error(\"too late; already started\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      // Dispatch the interrupt event.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions. No interrupt event is dispatched\n      // because the cancelled transitions never started. Note that this also\n      // removes this transition from the pending list!\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(null, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    if (active) schedule.on.call(\"interrupt\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttribute(name);\n    value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value + \"\"));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrTweenNS(fullname, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttributeNS(fullname.space, fullname.local, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttribute(name, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleRemove(name, interpolate) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name),\n        value1 = (this.style.removeProperty(name), style(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nfunction styleRemoveEnd(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name),\n        value1 = value(this);\n    if (value1 == null) value1 = (this.style.removeProperty(name), style(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n          .styleTween(name, styleRemove(name, i))\n          .on(\"end.style.\" + name, styleRemoveEnd(name))\n      : this.styleTween(name, typeof value === \"function\"\n          ? styleFunction(name, i, tweenValue(this, \"style.\" + name, value))\n          : styleConstant(name, i, value + \"\"), priority);\n}\n","function styleTween(name, value, priority) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.style.setProperty(name, i(t), priority);\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease\n};\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return t * t * ((s + 1) * t - s);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((s + 1) * t + s) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import {Transition} from \"./transition/index\";\nimport {SCHEDULED} from \"./transition/schedule\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon)) {}\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    })).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(text) {\n    return text == null ? \"\"\n        : reFormat.test(text += \"\") ? \"\\\"\" + text.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : text;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatRows: formatRows\n  };\n}\n","import dsv from \"./dsv\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatRows = csv.formatRows;\n","import dsv from \"./dsv\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatRows = tsv.formatRows;\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, inherit the existing extent.\n  if (x1 < x0) x0 = this._x0, x1 = this._x1;\n  if (y1 < y0) y0 = this._y0, y1 = this._y1;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else if (x0 > x || x > x1 || y0 > y || y > y1) {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    switch (i = (y < (y0 + y1) / 2) << 1 | (x < (x0 + x1) / 2)) {\n      case 0: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x1 = x0 + z, y1 = y0 + z, x > x1 || y > y1);\n        break;\n      }\n      case 1: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x0 = x1 - z, y1 = y0 + z, x0 > x || y > y1);\n        break;\n      }\n      case 2: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x1 = x0 + z, y0 = y1 - z, x > x1 || y0 > y);\n        break;\n      }\n      case 3: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x0 = x1 - z, y0 = y1 - z, x0 > x || y0 > y);\n        break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  // If the quadtree covers the point already, just return.\n  else return this;\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","import Quad from \"./quad\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\nimport tree_y, {defaultY} from \"./y\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","export default function(x, p) {\n  x = x.toPrecision(p);\n\n  out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (x[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      case \"e\": break out;\n      default: if (i0 > 0) i0 = 0; break;\n    }\n  }\n\n  return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDefault from \"./formatDefault\";\nimport formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"\": formatDefault,\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","import formatTypes from \"./formatTypes\";\n\n// [[fill]align][sign][symbol][0][width][,][.precision][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n  var match,\n      fill = match[1] || \" \",\n      align = match[2] || \">\",\n      sign = match[3] || \"-\",\n      symbol = match[4] || \"\",\n      zero = !!match[5],\n      width = match[6] && +match[6],\n      comma = !!match[7],\n      precision = match[8] && +match[8].slice(1),\n      type = match[9] || \"\";\n\n  // The \"n\" type is an alias for \",g\".\n  if (type === \"n\") comma = true, type = \"g\";\n\n  // Map invalid types to the default format.\n  else if (!formatTypes[type]) type = \"\";\n\n  // If zero fill is specified, padding goes after sign and before digits.\n  if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n  this.fill = fill;\n  this.align = align;\n  this.sign = sign;\n  this.symbol = symbol;\n  this.zero = zero;\n  this.width = width;\n  this.comma = comma;\n  this.precision = precision;\n  this.type = type;\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + this.type;\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        type = specifier.type;\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = !type || /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? (type ? 6 : 12)\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nexport default function() {\n  return new Adder;\n}\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","import adder from \"./adder\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nexport var areaRingSum = adder();\n\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnolis\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import adder from \"./adder\";\nimport {areaStream, areaRingSum} from \"./area\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian\";\nimport {abs, degrees, epsilon, radians} from \"./math\";\nimport stream from \"./stream\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum = adder(),\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360) % 360, except that we want\n// the distance between 180 to be 360.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import compose from \"./compose\";\nimport {asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import adder from \"./adder\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian\";\nimport {asin, atan2, cos, epsilon, pi, quarterPi, sin, tau} from \"./math\";\n\nvar sum = adder();\n\nexport default function(polygon, point) {\n  var lambda = point[0],\n      phi = point[1],\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = point0[0],\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = point1[0],\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n}\n","import adder from \"./adder\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nvar lengthSum = adder(),\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum.reset();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import adder from \"../adder\";\nimport {abs} from \"../math\";\nimport noop from \"../noop\";\n\nvar areaSum = adder(),\n    areaRingSum = adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum.reset();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import adder from \"../adder\";\nimport {sqrt} from \"../math\";\nimport noop from \"../noop\";\n\nvar lengthSum = adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import projection from \"./index\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(callback) {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      callback(node), children = node.children;\n      if (children) for (i = 0, n = children.length; i < n; ++i) {\n        next.push(children[i]);\n      }\n    }\n  } while (next.length);\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], children, i;\n  while (node = nodes.pop()) {\n    callback(node), children = node.children;\n    if (children) for (i = children.length - 1; i >= 0; --i) {\n      nodes.push(children[i]);\n    }\n  }\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], next = [], children, i, n;\n  while (node = nodes.pop()) {\n    next.push(node), children = node.children;\n    if (children) for (i = 0, n = children.length; i < n; ++i) {\n      nodes.push(children[i]);\n    }\n  }\n  while (node = next.pop()) {\n    callback(node);\n  }\n  return this;\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  var nodes = [];\n  this.each(function(node) {\n    nodes.push(node);\n  });\n  return nodes;\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","import node_count from \"./count\";\nimport node_each from \"./each\";\nimport node_eachBefore from \"./eachBefore\";\nimport node_eachAfter from \"./eachAfter\";\nimport node_sum from \"./sum\";\nimport node_sort from \"./sort\";\nimport node_path from \"./path\";\nimport node_ancestors from \"./ancestors\";\nimport node_descendants from \"./descendants\";\nimport node_leaves from \"./leaves\";\nimport node_links from \"./links\";\n\nexport default function hierarchy(data, children) {\n  var root = new Node(data),\n      valued = +data.value && (root.value = data.value),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  if (children == null) children = defaultChildren;\n\n  while (node = nodes.pop()) {\n    if (valued) node.value = +node.data.value;\n    if ((childs = children(node.data)) && (n = childs.length)) {\n      node.children = new Array(n);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction defaultChildren(d) {\n  return d.children;\n}\n\nfunction copyData(node) {\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy\n};\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import {Node} from \"./hierarchy/index\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice\";\nimport treemapSlice from \"./slice\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import treemapDice from \"./dice\";\nimport treemapSlice from \"./slice\";\nimport {phi, squarifyRatio} from \"./squarify\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, y0 += (y1 - y0) * row.value / value);\n        else treemapSlice(row, x0, y0, x0 += (x1 - x0) * row.value / value, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","export var slice = [].slice;\n","import {slice} from \"./array\";\n\nvar noabort = {};\n\nfunction Queue(size) {\n  this._size = size;\n  this._call =\n  this._error = null;\n  this._tasks = [];\n  this._data = [];\n  this._waiting =\n  this._active =\n  this._ended =\n  this._start = 0; // inside a synchronous task callback?\n}\n\nQueue.prototype = queue.prototype = {\n  constructor: Queue,\n  defer: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"defer after await\");\n    if (this._error != null) return this;\n    var t = slice.call(arguments, 1);\n    t.push(callback);\n    ++this._waiting, this._tasks.push(t);\n    poke(this);\n    return this;\n  },\n  abort: function() {\n    if (this._error == null) abort(this, new Error(\"abort\"));\n    return this;\n  },\n  await: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"multiple await\");\n    this._call = function(error, results) { callback.apply(null, [error].concat(results)); };\n    maybeNotify(this);\n    return this;\n  },\n  awaitAll: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"multiple await\");\n    this._call = callback;\n    maybeNotify(this);\n    return this;\n  }\n};\n\nfunction poke(q) {\n  if (!q._start) {\n    try { start(q); } // let the current task complete\n    catch (e) {\n      if (q._tasks[q._ended + q._active - 1]) abort(q, e); // task errored synchronously\n      else if (!q._data) throw e; // await callback errored synchronously\n    }\n  }\n}\n\nfunction start(q) {\n  while (q._start = q._waiting && q._active < q._size) {\n    var i = q._ended + q._active,\n        t = q._tasks[i],\n        j = t.length - 1,\n        c = t[j];\n    t[j] = end(q, i);\n    --q._waiting, ++q._active;\n    t = c.apply(null, t);\n    if (!q._tasks[i]) continue; // task finished synchronously\n    q._tasks[i] = t || noabort;\n  }\n}\n\nfunction end(q, i) {\n  return function(e, r) {\n    if (!q._tasks[i]) return; // ignore multiple callbacks\n    --q._active, ++q._ended;\n    q._tasks[i] = null;\n    if (q._error != null) return; // ignore secondary errors\n    if (e != null) {\n      abort(q, e);\n    } else {\n      q._data[i] = r;\n      if (q._waiting) poke(q);\n      else maybeNotify(q);\n    }\n  };\n}\n\nfunction abort(q, e) {\n  var i = q._tasks.length, t;\n  q._error = e; // ignore active callbacks\n  q._data = undefined; // allow gc\n  q._waiting = NaN; // prevent starting\n\n  while (--i >= 0) {\n    if (t = q._tasks[i]) {\n      q._tasks[i] = null;\n      if (t.abort) {\n        try { t.abort(); }\n        catch (e) { /* ignore */ }\n      }\n    }\n  }\n\n  q._active = NaN; // allow notification\n  maybeNotify(q);\n}\n\nfunction maybeNotify(q) {\n  if (!q._active && q._call) {\n    var d = q._data;\n    q._data = undefined; // allow gc\n    q._call(q._error, d);\n  }\n}\n\nexport default function queue(concurrency) {\n  if (concurrency == null) concurrency = Infinity;\n  else if (!((concurrency = +concurrency) >= 1)) throw new Error(\"invalid concurrency\");\n  return new Queue(concurrency);\n}\n","export default function() {\n  return Math.random();\n}\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomUniform(source) {\n  function randomUniform(min, max) {\n    min = min == null ? 0 : +min;\n    max = max == null ? 1 : +max;\n    if (arguments.length === 1) max = min, min = 0;\n    else max -= min;\n    return function() {\n      return source() * max + min;\n    };\n  }\n\n  randomUniform.source = sourceRandomUniform;\n\n  return randomUniform;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomNormal(source) {\n  function randomNormal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function() {\n      var y;\n\n      // If available, use the second previously-generated uniform random.\n      if (x != null) y = x, x = null;\n\n      // Otherwise, generate a new x and y.\n      else do {\n        x = source() * 2 - 1;\n        y = source() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  randomNormal.source = sourceRandomNormal;\n\n  return randomNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\nimport normal from \"./normal\";\n\nexport default (function sourceRandomLogNormal(source) {\n  function randomLogNormal() {\n    var randomNormal = normal.source(source).apply(this, arguments);\n    return function() {\n      return Math.exp(randomNormal());\n    };\n  }\n\n  randomLogNormal.source = sourceRandomLogNormal;\n\n  return randomLogNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomIrwinHall(source) {\n  function randomIrwinHall(n) {\n    return function() {\n      for (var sum = 0, i = 0; i < n; ++i) sum += source();\n      return sum;\n    };\n  }\n\n  randomIrwinHall.source = sourceRandomIrwinHall;\n\n  return randomIrwinHall;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\nimport irwinHall from \"./irwinHall\";\n\nexport default (function sourceRandomBates(source) {\n  function randomBates(n) {\n    var randomIrwinHall = irwinHall.source(source)(n);\n    return function() {\n      return randomIrwinHall() / n;\n    };\n  }\n\n  randomBates.source = sourceRandomBates;\n\n  return randomBates;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomExponential(source) {\n  function randomExponential(lambda) {\n    return function() {\n      return -Math.log(1 - source()) / lambda;\n    };\n  }\n\n  randomExponential.source = sourceRandomExponential;\n\n  return randomExponential;\n})(defaultSource);\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal(range) {\n  var index = map(),\n      domain = [],\n      unknown = implicit;\n\n  range = range == null ? [] : slice.call(range);\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band()\n        .domain(domain())\n        .range(range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return rescale();\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band().paddingInner(1));\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute} from \"./duration\";\n\nvar hour = interval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","import colors from \"./colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import {Basis} from \"./basis\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop\";\nimport {point} from \"./cardinal\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed\";\nimport noop from \"../noop\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function RedBlackTree() {\n  this._ = null; // root node\n}\n\nexport function RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n\n  insert: function(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n      if (after.R) {\n        after = after.R;\n        while (after.L) after = after.L;\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n\n    after = node;\n    while (parent && parent.C) {\n      grandpa = parent.U;\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n      parent = after.U;\n    }\n    this._.C = false;\n  },\n\n  remove: function(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n\n    if (!left) next = right;\n    else if (!right) next = left;\n    else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;\n      else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n    if (node && node.C) { node.C = false; return; }\n\n    do {\n      if (node === this._) break;\n      if (node === parent.L) {\n        sibling = parent.R;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n        if ((sibling.L && sibling.L.C)\n            || (sibling.R && sibling.R.C)) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n        if ((sibling.L && sibling.L.C)\n          || (sibling.R && sibling.R.C)) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) node = node.L;\n  return node;\n}\n\nexport default RedBlackTree;\n","import {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nexport function createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nexport function setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n}\n\n// LiangBarsky line clipping.\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];\n      else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];\n      else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];\n        else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];\n        else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];\n        else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];\n        else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nexport function clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1)\n        || !clipEdge(edge, x0, y0, x1, y1)\n        || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon\n            || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n","import {createBorderEdge} from \"./Edge\";\nimport {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];\n  else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nexport function cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nexport function cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nexport function sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n      for (j = 0; j < m; ++j) index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      index.sort(function(i, j) { return array[j] - array[i]; });\n      for (j = 0; j < m; ++j) array[j] = halfedges[index[j]];\n      for (j = 0; j < m; ++j) halfedges[j] = array[j];\n    }\n  }\n}\n\nexport function clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length;\n\n      // Remove any dangling clipped edges.\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      }\n\n      // Insert any border edges as necessary.\n      iHalfedge = 0, nHalfedges = halfedges.length;\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end,\n              Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1]\n              : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1]\n              : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0]\n              : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0]\n              : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  }\n\n  // If there werent any edges, have the closest site cover the extent.\n  // It doesnt matter which corner of the extent we measure!\n  if (cover) {\n    var dx, dy, d2, dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0], v01 = [x0, y1], v11 = [x1, y1], v10 = [x1, y0];\n      cover.halfedges.push(\n        edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,\n        edges.push(createBorderEdge(site, v01, v11)) - 1,\n        edges.push(createBorderEdge(site, v11, v10)) - 1,\n        edges.push(createBorderEdge(site, v10, v00)) - 1\n      );\n    }\n  }\n\n  // Lastly delete any cells with no edges; these were entirely clipped.\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {circles, epsilon2} from \"./Diagram\";\n\nvar circlePool = [];\n\nexport var firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x =\n  this.y =\n  this.arc =\n  this.site =\n  this.cy = null;\n}\n\nexport function attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n\n  if (!lArc || !rArc) return;\n\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n\n  if (lSite === rSite) return;\n\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n\n  var circle = circlePool.pop() || new Circle;\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || (circle.y === node.y && circle.x <= node.x)) {\n      if (node.L) node = node.L;\n      else { before = node.P; break; }\n    } else {\n      if (node.R) node = node.R;\n      else { before = node; break; }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nexport function detachCircle(arc) {\n  var circle = arc.circle;\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {createCell} from \"./Cell\";\nimport {attachCircle, detachCircle} from \"./Circle\";\nimport {createEdge, setEdgeEnd} from \"./Edge\";\nimport {beaches, epsilon} from \"./Diagram\";\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge =\n  this.site =\n  this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach;\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nexport function removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n\n  detachBeach(beach);\n\n  var lArc = previous;\n  while (lArc.circle\n      && Math.abs(x - lArc.circle.x) < epsilon\n      && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n\n  var rArc = next;\n  while (rArc.circle\n      && Math.abs(x - rArc.circle.x) < epsilon\n      && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n\n  var nArcs = disappearing.length,\n      iArc;\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nexport function addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L; else {\n      dxr = x - rightBreakPoint(node, directrix);\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) { // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  }\n\n  // else lArc !== rArc\n  detachCircle(lArc);\n  detachCircle(rArc);\n\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n\n  if (!pby2) return rfocx;\n\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n\n  if (!plby2) return lfocx;\n\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n","import {addBeach, removeBeach} from \"./Beach\";\nimport {sortCellHalfedges, cellHalfedgeStart, clipCells} from \"./Cell\";\nimport {firstCircle} from \"./Circle\";\nimport {clipEdges} from \"./Edge\";\nimport RedBlackTree from \"./RedBlackTree\";\n\nexport var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var beaches;\nexport var cells;\nexport var circles;\nexport var edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1]\n      || b[0] - a[0];\n}\n\nexport default function Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree;\n  circles = new RedBlackTree;\n\n  while (true) {\n    circle = firstCircle;\n    if (site && (!circle || site[1] < circle.y || (site[1] === circle.y && site[0] < circle.x))) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n\n  beaches =\n  circles =\n  edges =\n  cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n\n  polygons: function() {\n    var edges = this.edges;\n\n    return this.cells.map(function(cell) {\n      var polygon = cell.halfedges.map(function(i) { return cellHalfedgeStart(cell, edges[i]); });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n\n  triangles: function() {\n    var triangles = [],\n        edges = this.edges;\n\n    this.cells.forEach(function(cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n\n    return triangles;\n  },\n\n  links: function() {\n    return this.edges.filter(function(edge) {\n      return edge.right;\n    }).map(function(edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n\n  find: function(x, y, radius) {\n    var that = this, i0, i1 = that._found || 0, n = that.cells.length, cell;\n\n    // Use the previously-found cell, or start with an arbitrary one.\n    while (!(cell = that.cells[i1])) if (++i1 >= n) return null;\n    var dx = x - cell.site[0], dy = y - cell.site[1], d2 = dx * dx + dy * dy;\n\n    // Traverse the half-edges to find a closer cell, if any.\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function(e) {\n        var edge = that.edges[e], v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0], vy = y - v[1], v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  return node.__zoom || identity;\n}\n","import * as d3 from 'd3';\n\nexport function strokeSlider(show?: string) {\n  let range;\n  const width = window.innerWidth;\n  const stroke_slider = document.getElementById('stroke_slider');\n  const slideRight = document.getElementById('slideright');\n  const slideLeft = document.getElementById('slideleft');\n\n  const hideSlide = () => {\n    if (stroke_slider) stroke_slider.style.display = 'none';\n  };\n\n  if (show) {\n    if (stroke_slider) {\n      stroke_slider.style.display = 'flex';\n      stroke_slider.style.left = show == 'left' ? width * -1 + 'px' : width * 1.5 + 'px';\n    }\n    if (slideLeft) slideLeft.style.display = show == 'right' ? 'flex' : 'none';\n    if (slideRight) slideRight.style.display = show == 'left' ? 'flex' : 'none';\n\n    range = show == 'left' ? d3.range(0, 1.1, 0.1) : d3.range(0, 1.1, 0.1).reverse();\n    d3.selectAll('.stroke_slider')\n      .data(range)\n      .transition()\n      .duration(500)\n      .style('left', function (d: number) {\n        return d * width * 0.5 + 'px';\n      });\n  } else {\n    const side = slideLeft?.style.display == 'flex' ? 'right' : 'left';\n    range = side == 'left' ? d3.range(-1.5, 1.1, 0.1) : d3.range(1, 2.6, 0.1).reverse();\n    setTimeout(() => hideSlide(), 700);\n  }\n  d3.selectAll('.stroke_slider')\n    .data(range)\n    .transition()\n    .duration(500)\n    .style('left', function (d: number) {\n      return d * width * 0.5 + 'px';\n    });\n}\n","// Test via a getter in the options object to see if the passive property is accessed\nlet supportsPassive = false;\ntry {\n  const opts = Object.defineProperty({}, 'passive', {\n    get: () => {\n      supportsPassive = true;\n      return true;\n    }\n  });\n  window.addEventListener('test', null, opts);\n} catch (e) {\n  console.log(e);\n}\n\nconst behaviors: any = {\n  orientation: undefined,\n  time_threshold: 200,\n  diff_threshold: 130,\n  press_hold_threshold: 400,\n  prevent_touch: true,\n  prevent_double_tap: false,\n  addSwipeTarget(target) {\n    target.addEventListener('touchstart', handleTouchStart, supportsPassive ? { passive: true } : false);\n    target.addEventListener('touchmove', handleTouchMove, supportsPassive ? { passive: true } : false);\n    target.addEventListener('touchend', swipeTouchEnd, false);\n\n    target.addEventListener('mousedown', handleTouchStart, false);\n    target.addEventListener('mousemove', handleTouchMove, false);\n    target.addEventListener('mouseup', swipeTouchEnd, false);\n  },\n  addPressAndHold(target) {\n    target.addEventListener('touchstart', handleTouchStart, supportsPassive ? { passive: true } : false);\n    target.addEventListener('mousedown', handleTouchStart, false);\n    target.addEventListener('touchend', pressAndHoldEnd, false);\n    target.addEventListener('mouseup', pressAndHoldEnd, false);\n  },\n  disableDrag() {\n    document.addEventListener('touchmove', preventDrag, false);\n    document.addEventListener('touchend', preventDoubleTap, false);\n    document.addEventListener('mousemove', preventDrag, false);\n    document.addEventListener('mouseup', preventDoubleTap, false);\n  }\n};\n\n/* to make it appear more like a native app disable dragging and double tap */\nfunction preventDrag(evt) {\n  if (behaviors.prevent_touch && (window.innerHeight > 450 || behaviors.orientation == 'landscape'))\n    evt.preventDefault();\n}\n\nfunction preventDoubleTap(evt) {\n  const now = new Date().getTime();\n  if (behaviors.prevent_double_tap && now - last_touch < 500) evt.preventDefault();\n  last_touch = now;\n}\n\nlet xDown = null;\nlet yDown = null;\nlet xDiff = null;\nlet yDiff = null;\nlet timeDown = null;\nlet touch_target = null;\nlet last_touch = new Date().getTime();\n\nfunction handleTouchMove(evt) {\n  if (!xDown || !yDown) return;\n  let xUp: number, yUp: number;\n  if (evt.type == 'mousemove') {\n    xUp = evt.clientX;\n    yUp = evt.clientY;\n  } else {\n    xUp = evt.touches[0].clientX;\n    yUp = evt.touches[0].clientY;\n  }\n  xDiff = xDown - xUp;\n  yDiff = yDown - yUp;\n}\n\n/**\nfunction containsClassName(evntarget, classArr) {\n  for (let i = classArr.length - 1; i >= 0; i--) {\n    if (evntarget.classList.contains(classArr[i])) return true;\n  }\n}\n*/\n\nfunction handleTouchStart(evt) {\n  touch_target = evt.target;\n  timeDown = Date.now();\n  if (evt.type == 'mousedown') {\n    xDown = evt.clientX;\n    yDown = evt.clientY;\n  } else {\n    xDown = evt.touches[0].clientX;\n    yDown = evt.touches[0].clientY;\n  }\n  xDiff = 0;\n  yDiff = 0;\n}\n\nfunction findAncestor(el, cls) {\n  if (el.classList.contains(cls)) return el;\n  while ((el = el.parentNode && el.classList && !el.classList.contains(cls)));\n  return el;\n}\n\nfunction swipeTouchEnd() {\n  const timeDiff = Date.now() - timeDown;\n  if (\n    (Math.abs(xDiff) > behaviors.diff_threshold || Math.abs(yDiff) > behaviors.diff_threshold) &&\n    timeDiff < behaviors.time_threshold\n  ) {\n    if (Math.abs(xDiff) > Math.abs(yDiff)) {\n      if (xDiff > 0) {\n        if (typeof behaviors.swipeLeft == 'function') behaviors.swipeLeft(findAncestor(touch_target, 'swipe'));\n      } else if (typeof behaviors.swipeRight == 'function') {\n        behaviors.swipeRight(findAncestor(touch_target, 'swipe'));\n      }\n    } else if (yDiff > 0) {\n      if (typeof behaviors.swipeUp == 'function') behaviors.swipeUp(findAncestor(touch_target, 'swipe'));\n    } else if (typeof behaviors.swipeDown == 'function') {\n      behaviors.swipeDown(findAncestor(touch_target, 'swipe'));\n    }\n  }\n  xDown = null;\n  yDown = null;\n  timeDown = null;\n}\n\nfunction pressAndHoldEnd() {\n  const timeDiff = Date.now() - timeDown;\n  if (timeDiff > behaviors.press_hold_threshold && typeof behaviors.pressAndHold == 'function')\n    behaviors.pressAndHold(findAncestor(touch_target, 'pressAndHold'));\n  xDown = null;\n  yDown = null;\n  timeDown = null;\n}\n\nexport const touchManager = behaviors;\nexport default behaviors;\n","import * as d3 from 'd3';\n\nexport function simpleChart(target: any, data: any) {\n  const dom_parent = d3.select('#' + target);\n  // let dims = dom_parent.node().getBoundingClientRect();\n  //   let screen_width = dims.width;\n  //   let screen_height = screen_width / 2;\n  const screen_width = window.innerWidth * 0.85;\n  const screen_height = screen_width / 2;\n\n  const min_points = 50;\n  const colors = ['blue', 'red'];\n  dom_parent.selectAll('svg').remove();\n  const svg = dom_parent.append('svg').attr('width', screen_width).attr('height', screen_height);\n\n  const margin = { top: 20, right: 20, bottom: 30, left: 40 };\n  const width = +svg.attr('width') - margin.left - margin.right;\n  const height = +svg.attr('height') - margin.top - margin.bottom;\n\n  const x = d3.scaleLinear().range([0, width]);\n  const y = d3.scaleLinear().range([height, 0]);\n\n  const line = d3\n    .line()\n    .x(function (d) {\n      return x(d[0]);\n    })\n    .y(function (d) {\n      return y(d[1]);\n    });\n  //      .curve(d3.curveStepAfter);\n\n  const chart = svg.append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n  const maxY = Math.max(...data.map((p) => p.length));\n  x.domain([0, Math.max(...data.map((p) => Math.max(...p)), min_points)]);\n  y.domain([0, maxY]);\n\n  chart\n    .append('g')\n    .attr('transform', 'translate(0,' + height + ')')\n    .call(d3.axisBottom(x).ticks(0));\n\n  chart\n    .append('g')\n    .style('font', '24px times')\n    .call(\n      d3\n        .axisLeft(y)\n        .ticks(Math.min(maxY, 4))\n        .tickFormat((d) => d)\n    );\n\n  drawLines(data);\n  appendCircles(data);\n\n  function lineData(points) {\n    points = points.map((point, index) => [point, index + 1]);\n    points.unshift([0, 0]);\n    return points;\n  }\n\n  function drawLines(players) {\n    players.forEach((points, index) => {\n      chart\n        .append('path')\n        .datum(lineData(points))\n        .attr('fill', 'none')\n        .attr('stroke', colors[index])\n        .attr('stroke-width', '5px')\n        .attr('shape-rendering', 'crispEdges')\n        .attr('d', line);\n    });\n  }\n\n  function appendCircles(players) {\n    players.forEach((points, index) => {\n      const targetclass = '.datapoint' + index;\n      if (points.length < 10) {\n        chart\n          .selectAll(targetclass)\n          .data(lineData(points))\n          .enter()\n          .append('circle')\n          .attr('class', targetclass)\n          .attr('fill', '#FFFFFF')\n          .attr('stroke', colors[index])\n          .attr('stroke-width', '2px')\n          .attr('r', 3.5)\n          .attr('cx', function (d) {\n            return x(d[0]);\n          })\n          .attr('cy', function (d) {\n            return y(d[1]);\n          });\n      }\n    });\n  }\n}\n","import { simpleChart } from './simpleChart';\nimport { viewManager } from './viewManager';\nimport { env, options } from './env';\n\nexport function updateStats(element?: Element) {\n  const setNumber = element ? element.getAttribute('setNumber') : undefined;\n  const set_filter = setNumber ? parseInt(setNumber) : undefined;\n  let html = '';\n  const charts: any[] = [];\n  const sets = env.match.sets().length;\n  let statselectors = `<div class='updateStats s_set'>Match</div>`;\n  const stats = env.match.stats.calculated(set_filter);\n  const stripModifiers = (text: string) => text.match(/[A-Za-z0-9_]/g)?.join('');\n  if (stats && stats.length) {\n    // generate & display match/set view selectors\n    if (sets > 1) {\n      for (let s = 0; s < sets; s++) {\n        statselectors += `<div class='updateStats s_set' setNumber=\"${s}\">Set ${s + 1}</div>`;\n      }\n    }\n    const statView = document.querySelector('#statview');\n    if (statView) statView.innerHTML = statselectors;\n\n    // generate & display stats html\n    let left: any, right: any;\n    stats.forEach((stat: any) => {\n      if (env.swap_sides) {\n        [right, left] = stat.team_stats;\n      } else {\n        [left, right] = stat.team_stats;\n      }\n      const value: number = [0]\n        .concat(...[left, right].map((side: any) => (side.value ? side.value : [])))\n        .reduce((a: number, b: number) => a + b, 0);\n      const id = stripModifiers(stat.name.toLowerCase().split(' ').join('_'));\n      let left_display = left.display;\n      let right_display = right.display;\n\n      const numerators = []\n        .concat(...[left, right].map((value: any) => (value.numerators ? value.numerators : [])))\n        .filter((item, i, s) => s.lastIndexOf(item) == i)\n        .join(',');\n      const statclass = numerators && value && stat.name != 'Aggressive Margin' ? 'statname_chart' : 'statname';\n\n      if (isNaN(left.value)) {\n        left.value = 0;\n        left_display = '0';\n      }\n      if (isNaN(right.value)) {\n        right.value = 0;\n        right_display = '0';\n      }\n\n      if (options.highlight_better_stats) {\n        if (['Double Faults', 'Unforced Errors', 'Forced Errors'].indexOf(stat.name) >= 0) {\n          if (left.value < right.value) left_display = `<b class=\"toggleChart\">${left_display}</b>`;\n          if (right.value < left.value) right_display = `<b class=\"toggleChart\">${right_display}</b>`;\n        } else {\n          if (left.value > right.value) left_display = `<b class=\"toggleChart\">${left_display}</b>`;\n          if (right.value > left.value) right_display = `<b class=\"toggleChart\">${right_display}</b>`;\n        }\n      }\n      html +=\n        `<div class='statrow' id=\"${id}\">` +\n        `<div class='toggleChart statleft'>${left_display}</div>` +\n        `<div class='toggleChart ${statclass}'>${stat.name}</div><div class='toggleChart statright'>${right_display}</div>` +\n        `</div>`;\n      const table = `<div class='statrow' id=\"${id}_chart\" style='display:none' onclick=\"showChartSource('${numerators}')\"></div>`;\n\n      if (numerators && value && stat.name != 'Aggressive Margin') {\n        charts.push({ target: `${id}_chart`, numerators });\n        html += table;\n      }\n    });\n\n    const counters = env.match.stats.counters(set_filter).teams;\n    if (counters[0].Backhand || counters[0].Forehand || counters[1].Backhand || counters[1].Forehand) {\n      const left = env.swap_sides ? 1 : 0;\n      const right = env.swap_sides ? 0 : 1;\n      html += `<div class='statsection flexcenter'>Finishing Shots - Strokes</div>`;\n      ['Forehand', 'Backhand'].forEach((hand) => {\n        if (counters[0][hand] || counters[1][hand]) {\n          const left_display = counters[left][hand] ? counters[left][hand].length : 0;\n          const right_display = counters[right][hand] ? counters[right][hand].length : 0;\n          html +=\n            `<div class='statrow'><div class='statleft'><b>${left_display}</b></div>` +\n            `<div class='statname'><b>Total ${hand} Shots</b></div><div class='statright'><b>${right_display}</b></div></div>`;\n          // get a list of unique results\n          const results = []\n            .concat(\n              ...Object.keys(counters).map((key) => {\n                return counters[key][hand]\n                  ? counters[key][hand].map((episode: any) => episode.point.result).filter(Boolean)\n                  : [];\n              })\n            )\n            .filter((item, i, s) => s.lastIndexOf(item) == i);\n          results.forEach((result) => {\n            const left_results = counters[left][hand]\n              ? counters[left][hand].filter((f: any) => f.point.result == result)\n              : [];\n            const right_results = counters[right][hand]\n              ? counters[right][hand].filter((f: any) => f.point.result == result)\n              : [];\n            if (left_results.length || right_results.length) {\n              html +=\n                `<div class='statrow'><div class='statleft'>${left_results.length}</div>` +\n                `<div class='statname'>${hand} ${result}s</div><div class='statright'>${right_results.length}</div></div>`;\n            }\n            // get a list of unique strokes\n            const strokes = []\n              .concat(\n                ...Object.keys(counters).map((key) => {\n                  return counters[key][hand]\n                    ? counters[key][hand].map((episode: any) => episode.point.stroke).filter(Boolean)\n                    : [];\n                })\n              )\n              .filter((item, i, s) => s.lastIndexOf(item) == i);\n            strokes.forEach((stroke) => {\n              const left_results = counters[left][hand]\n                ? counters[left][hand].filter((f: any) => f.point.result == result && f.point.stroke == stroke)\n                : [];\n              const right_results = counters[right][hand]\n                ? counters[right][hand].filter((f: any) => f.point.result == result && f.point.stroke == stroke)\n                : [];\n              if (left_results.length || right_results.length) {\n                html +=\n                  `<div class='statrow'><div class='statleft'>${left_results.length}</div>` +\n                  `<div class='statname'><i>${hand} ${stroke} ${result}s</i></div><div class='statright'>${right_results.length}</div></div>`;\n              }\n            });\n          });\n        }\n      });\n    }\n\n    const statLines = document.querySelector('#statlines');\n    if (statLines) statLines.innerHTML = html;\n    addCharts(charts);\n  } else {\n    viewManager('entry');\n  }\n}\n\nfunction addCharts(charts: any[]) {\n  const counters = env.match.stats.counters();\n  const stripModifiers = (text: string) => text.match(/[A-Za-z0-9]/g)?.join('');\n  if (!counters) return;\n  charts.forEach((chart) => {\n    const player_points: any = [];\n    Object.keys(counters.teams).forEach((key) => {\n      const team = counters.teams[key];\n      const numerators = chart.numerators.split(',').map((numerator: any) => stripModifiers(numerator));\n      const episodes = [].concat(...numerators.map((numerator: any) => team[numerator]));\n      const points = episodes\n        .map((episode: any) => (episode ? episode.point : undefined))\n        .filter((f) => f)\n        .sort((a, b) => a.index - b.index);\n      player_points.push(points.map((point) => point.index));\n    });\n    simpleChart(chart.target, player_points);\n  });\n}\n","import { formatChangePossible } from './formatChangePossible';\nimport { displayPointHistory } from './displayPointHistory';\nimport { displayMatchArchive } from './displayMatchArchive';\nimport { browserStorage } from './browserStorage';\nimport { displayFormats } from './displayFormats';\nimport { strokeSlider } from './strokeSlider';\nimport { touchManager } from './touchManager';\nimport { env, options, charts } from './env';\nimport { updateStats } from './updateStats';\n\nexport const changeDisplay = (display: string, id: string) => {\n  const element = document.getElementById(id);\n  if (element) element.style.display = display;\n};\n\nexport function viewManager(new_view = env.view, params?: any) {\n  // hide strokeslider any time view changes\n  strokeSlider();\n  // changeDisplay('none', 'system');\n\n  const views: any = {\n    mainmenu({ activate = true } = {}) {\n      if (activate) {\n        touchManager.prevent_touch = false;\n\n        const match_archive = JSON.parse(browserStorage.get('match_archive') || '[]');\n        const menuMatchArchive = document.getElementById('menu_match_archive');\n        if (menuMatchArchive) menuMatchArchive.style.display = match_archive.length ? 'flex' : 'none';\n\n        const menuMatchFormat = document.getElementById('menu_match_format');\n        if (menuMatchFormat) menuMatchFormat.style.display = formatChangePossible() ? 'flex' : 'none';\n\n        const points = env.match.history.points();\n        const menuChangeServer = document.getElementById('menu_change_server');\n        if (menuChangeServer) menuChangeServer.style.display = points.length == 0 ? 'flex' : 'none';\n        // document.getElementById('footer_change_server').style.display = points.length == 0 ? 'inline' : 'none';\n      }\n      changeDisplay(activate ? 'flex' : 'none', 'mainmenu');\n    },\n    pointhistory({ activate = true } = {}) {\n      if (activate) {\n        touchManager.prevent_touch = false;\n        displayPointHistory();\n      }\n      changeDisplay(activate ? 'flex' : 'none', 'pointhistory');\n    },\n    matcharchive({ activate = true } = {}) {\n      if (activate) {\n        touchManager.prevent_touch = false;\n        displayMatchArchive();\n      }\n      changeDisplay(activate ? 'flex' : 'none', 'matcharchive');\n    },\n    matchformat({ activate = true } = {}) {\n      displayFormats();\n      if (activate) touchManager.prevent_touch = false;\n      changeDisplay(activate ? 'flex' : 'none', 'matchformats');\n    },\n    settings({ activate = true } = {}) {\n      changeDisplay(activate ? 'flex' : 'none', 'settings');\n    },\n    welcome({ activate = true } = {}) {\n      changeDisplay(activate ? 'flex' : 'none', 'welcome');\n    },\n    matchdetails({ activate = true } = {}) {\n      if (activate) touchManager.prevent_touch = false;\n      changeDisplay(activate ? 'flex' : 'none', 'matchdetails');\n    },\n    entry({ activate = true } = {}) {\n      if (activate) touchManager.prevent_touch = true;\n      changeDisplay(activate && env.orientation == 'landscape' ? 'flex' : 'none', options.horizontal_view);\n      changeDisplay(activate && env.orientation == 'portrait' ? 'flex' : 'none', options.vertical_view);\n      changeDisplay(activate && env.orientation == 'portrait' ? 'flex' : 'none', 'toolbar');\n    },\n    stats({ activate = true } = {}) {\n      changeDisplay(activate ? 'flex' : 'none', 'statsscreen');\n      if (activate) {\n        touchManager.prevent_touch = false;\n        env.match.metadata.resetStats(); // necessary because decorations not added when calculated\n        updateStats();\n      }\n    },\n    momentum({ activate = true } = {}) {\n      if (!activate) {\n        changeDisplay('none', 'momentum');\n        changeDisplay('none', 'pts');\n      } else {\n        if (env.orientation == 'landscape') {\n          changeDisplay('none', 'momentum');\n          changeDisplay('flex', 'pts');\n          charts.pts_match.update();\n        } else {\n          changeDisplay('inline', 'momentum');\n          changeDisplay('none', 'pts');\n        }\n        touchManager.prevent_touch = false;\n        const point_episodes = env.match.history.action('addPoint');\n        charts.mc.width(window.innerWidth).height(820);\n        charts.mc.data(point_episodes).update();\n        charts.mc.update();\n      }\n    },\n    gametree({ activate = true } = {}) {\n      changeDisplay(activate ? 'flex' : 'none', 'gametree');\n      if (activate) {\n        touchManager.prevent_touch = false;\n        const point_episodes = env.match.history.action('addPoint');\n        const noAd = env.match.format.settings().code.indexOf('n_') >= 0;\n        charts.gametree.options({ display: { noAd } });\n        charts.gametree.data(point_episodes).update();\n        charts.gametree.update({ sizeToFit: true });\n      }\n    }\n  };\n\n  const view_keys = Object.keys(views);\n  if (view_keys.indexOf(new_view) >= 0) {\n    // disactivate all views that don't match the new_view\n    view_keys.filter((view) => view != new_view).forEach((view) => views[view]({ activate: false }));\n    views[new_view]({ activate: true, params });\n    env.view = new_view;\n    return new_view;\n  }\n}\n","import * as d3 from 'd3';\n\nexport function gameFish() {\n  let data: any;\n  let fish_width;\n  let fish_height;\n  let coords = [0, 0];\n  let last_coords: any;\n  let update: any;\n  const images: any = { left: undefined, right: undefined };\n\n  const options: any = {\n    id: 'gf1',\n    score: [0, 0],\n    width: window.innerWidth,\n    height: window.innerHeight,\n    margins: {\n      top: 10,\n      bottom: 10,\n      left: 10,\n      right: 10\n    },\n    fish: {\n      school: false,\n      gridcells: ['0', '15', '30', '40', 'G'],\n      max_rally: undefined,\n      cell_size: undefined,\n      min_cell_size: 5,\n      max_cell_size: 20\n    },\n    set: {\n      tiebreak_to: 7\n    },\n    display: {\n      orientation: 'vertical',\n      transition_time: 0,\n      sizeToFit: false,\n      leftImg: false,\n      rightImg: false,\n      show_images: undefined,\n      reverse: false,\n      point_score: true,\n      service: true,\n      player: true,\n      rally: true,\n      score: true,\n      grid: true\n    },\n    colors: {\n      players: { 0: 'red', 1: 'black' },\n      results: {\n        Out: 'red',\n        Net: 'coral',\n        'Unforced Error': 'red',\n        Forced: 'orange',\n        Ace: 'lightgreen',\n        'Serve Winner': 'lightgreen',\n        Winner: 'lightgreen',\n        'Forced Volley Error': 'orange',\n        'Forced Error': 'orange',\n        In: 'yellow',\n        'Passing Shot': 'lightgreen',\n        'Out Passing Shot': 'red',\n        'Net Cord': 'yellow',\n        'Out Wide': 'red',\n        'Out Long': 'red',\n        'Double Fault': 'red',\n        Unknown: 'blue',\n        Error: 'red'\n      }\n    }\n  };\n\n  const default_colors = { default: '#235dba' };\n  let colors = JSON.parse(JSON.stringify(default_colors));\n\n  const events: any = {\n    leftImage: { click: null },\n    rightImage: { click: null },\n    update: { begin: null, end: null },\n    point: { mouseover: null, mouseout: null, click: null }\n  };\n\n  let fishFrame: any;\n  let root: any;\n  let bars: any;\n  let fish: any;\n  let game: any;\n\n  function chart(selection: any) {\n    const parent_type = selection._groups[0][0].tagName.toLowerCase();\n\n    if (parent_type != 'svg') {\n      root = selection.append('div').attr('class', 'fishRoot');\n\n      fishFrame = root\n        .append('svg')\n        .attr('id', 'gameFish' + options.id)\n        .attr('class', 'fishFrame');\n\n      bars = fishFrame.append('g');\n      fish = fishFrame.append('g');\n      game = fishFrame.append('g');\n    }\n\n    update = function (opts: any) {\n      if (bars == undefined || fish == undefined || game == undefined) return;\n\n      if (options.display.sizeToFit || (opts && opts.sizeToFit)) {\n        const dims = selection.node().getBoundingClientRect();\n        options.width = Math.max(dims.width, 100);\n        options.height = Math.max(dims.height, 100);\n      }\n\n      if (options.fish.cell_size && !options.fish.school) {\n        const multiplier = Math.max(10, data.length + 2);\n        options.height = options.fish.cell_size * multiplier * 0.9;\n      }\n\n      let tiebreak = false;\n      let max_rally = 0;\n      data.forEach((e: any) => {\n        if (e.rally && e.rally.length > max_rally) max_rally = e.rally.length;\n        if (e.score.indexOf('T') > 0) tiebreak = true;\n      });\n\n      if (options.fish.max_rally && options.fish.max_rally > max_rally) max_rally = options.fish.max_rally;\n\n      fish_width = options.width - (options.margins.left + options.margins.right);\n      fish_height = options.height - (options.margins.top + options.margins.bottom);\n      const vert = options.display.orientation == 'vertical' ? 1 : 0;\n      const fish_offset = vert ? fish_width : fish_height;\n      const fish_length = vert ? fish_height : fish_width;\n      const midpoint = (vert ? options.margins.left : options.margins.top) + fish_offset / 2;\n      const sw = 1; // service box % offset\n      const rw = 0.9; // rally_width % offset\n\n      bars.attr('transform', 'translate(' + (vert ? 0 : coords[0]) + ',' + (vert ? coords[1] : 0) + ')');\n      fish.attr('transform', 'translate(' + coords[0] + ',' + coords[1] + ')');\n      game.attr('transform', 'translate(' + coords[0] + ',' + coords[1] + ')');\n\n      let cell_size;\n      if (options.fish.cell_size) {\n        cell_size = options.fish.cell_size;\n      } else {\n        const offset_divisor = tiebreak ? options.set.tiebreak_to + 4 : options.fish.gridcells.length + 2;\n        const cell_offset =\n          fish_offset / (options.fish.gridcells.length + (options.display.service ? offset_divisor : 0));\n        const cell_length = fish_length / (data.length + 2);\n        cell_size = Math.min(cell_offset, cell_length);\n        cell_size = Math.max(options.fish.min_cell_size, cell_size);\n        cell_size = Math.min(options.fish.max_cell_size, cell_size);\n      }\n\n      const diag = Math.sqrt(2 * Math.pow(cell_size, 2));\n      const radius = diag / 2;\n\n      const grid_data = [];\n      const grid_labels = [];\n      const grid_side = tiebreak ? options.set.tiebreak_to : options.fish.gridcells.length - 1;\n      for (let g = 0; g < grid_side; g++) {\n        const label = tiebreak ? g : options.fish.gridcells[g];\n        // l = length, o = offset\n        grid_labels.push({\n          label: label,\n          l: (g + (vert ? 1.25 : 0.75)) * radius,\n          o: (g + (vert ? 0.75 : 1.25)) * radius,\n          rotate: 45\n        });\n        grid_labels.push({ label: label, l: (g + 1.25) * radius, o: -1 * (g + 0.75) * radius, rotate: -45 });\n        for (let c = 0; c < grid_side; c++) {\n          grid_data.push([g, c]);\n        }\n      }\n\n      // const score_offset = options.display.score ? cell_size : 0;\n\n      // check if this is a standalone SVG or part of larger SVG\n      if (root) {\n        root.attr('width', options.width + 'px').attr('height', options.height + 'px');\n\n        fishFrame.attr('width', options.width + 'px').attr('height', options.height + 'px');\n      }\n\n      if (options.display.point_score) {\n        const game_score = fish.selectAll('.game_score' + options.id).data(grid_labels);\n\n        game_score.exit().remove();\n\n        game_score\n          .enter()\n          .append('text')\n          .attr('font-size', radius * 0.8 + 'px')\n          .attr('transform', gscoreT)\n          .attr('text-anchor', 'middle')\n          .merge(game_score)\n          .transition()\n          .duration(options.display.transition_time)\n          .attr('class', 'game_score' + options.id)\n          .attr('font-size', radius * 0.8 + 'px')\n          .attr('transform', gscoreT)\n          .attr('text-anchor', 'middle')\n          .text(function (d: any) {\n            return d.label;\n          });\n      } else {\n        fish.selectAll('.game_score' + options.id).remove();\n      }\n\n      if (options.display.grid) {\n        const gridcells = fish.selectAll('.gridcell' + options.id).data(grid_data);\n\n        gridcells.exit().remove();\n\n        gridcells\n          .enter()\n          .append('rect')\n          .attr('stroke', '#ccccdd')\n          .attr('stroke-width', lineWidth)\n          .attr('transform', gridCT)\n          .attr('width', cell_size)\n          .attr('height', cell_size)\n          .merge(gridcells)\n          .transition()\n          .duration(options.display.transition_time)\n          .attr('class', 'gridcell' + options.id)\n          .attr('stroke-width', lineWidth)\n          .attr('width', cell_size)\n          .attr('height', cell_size)\n          .attr('transform', gridCT)\n          .attr('fill-opacity', 0);\n      } else {\n        fish.selectAll('.gridcell' + options.id).remove();\n      }\n\n      const gamecells = game.selectAll('.gamecell' + options.id).data(data);\n\n      gamecells.exit().remove();\n\n      gamecells\n        .enter()\n        .append('rect')\n        .attr('opacity', 0)\n        .attr('width', cell_size)\n        .attr('height', cell_size)\n        .attr('transform', gameCT)\n        .attr('stroke', '#ccccdd')\n        .attr('stroke-width', lineWidth)\n        .merge(gamecells)\n        .attr('id', (d: any, i: number) => {\n          return options.id + 'Gs' + d.set + 'g' + d.game + 'p' + i;\n        })\n        .transition()\n        .duration(options.display.transition_time)\n        .attr('class', 'gamecell' + options.id)\n        .attr('width', cell_size)\n        .attr('height', cell_size)\n        .attr('transform', gameCT)\n        .attr('stroke', '#ccccdd')\n        .attr('stroke-width', lineWidth)\n        .attr('opacity', options.display.player ? 1 : 0)\n        .style('fill', function (d: any) {\n          return options.colors.players[d.winner];\n        });\n\n      const results = game.selectAll('.result' + options.id).data(data);\n\n      results.exit().remove();\n\n      results\n        .enter()\n        .append('circle')\n        .attr('stroke', 'black')\n        .attr('id', function (d: any, i: number) {\n          return options.id + 'Rs' + d.set + 'g' + d.game + 'p' + i;\n        })\n        .attr('class', 'result' + options.id)\n        .attr('opacity', 1)\n        .attr('stroke-width', lineWidth)\n        .attr('cx', zX)\n        .attr('cy', zY)\n        .attr('r', circleRadius)\n        .style('fill', function (d: any) {\n          return options.colors.results[d.result];\n        })\n        .merge(results)\n        .attr('id', function (d: any, i: number) {\n          return options.id + 'Rs' + d.set + 'g' + d.game + 'p' + i;\n        })\n        .attr('class', 'result' + options.id)\n        .transition()\n        .duration(options.display.transition_time)\n        .attr('stroke-width', lineWidth)\n        .attr('cx', zX)\n        .attr('cy', zY)\n        .attr('r', circleRadius)\n        .style('fill', function (d: any) {\n          return options.colors.results[d.result];\n        });\n\n      // offset Scale\n      const oScale = d3\n        .scaleLinear()\n        .range([0, fish_offset * rw])\n        .domain([0, max_rally]);\n\n      // lengthScale\n      const lScale = d3\n        .scaleBand()\n        .domain(d3.range(data.length))\n        .range([0, data.length * radius])\n        .round(true);\n\n      if (options.display.rally) {\n        const rally_bars = bars.selectAll('.rally_bar' + options.id).data(data);\n\n        rally_bars.exit().remove();\n\n        rally_bars\n          .enter()\n          .append('rect')\n          .attr('opacity', 0)\n          .attr('transform', rallyTstart)\n          .attr('height', vert ? lScale.bandwidth() : 0)\n          .attr('width', vert ? 0 : lScale.bandwidth())\n          .merge(rally_bars)\n          .attr('class', 'rally_bar' + options.id)\n          .on('mouseover', (_: any, i: number, n: any) => {\n            d3.select(n[i]).attr('fill', 'yellow');\n          })\n          .on('mouseout', (_: any, i: number, n: any) => {\n            d3.select(n[i]).attr('fill', '#eeeeff');\n          })\n          .transition()\n          .duration(options.display.transition_time)\n          .attr('id', function (d: any, i: number) {\n            return options.id + 'Bs' + d.set + 'g' + d.game + 'p' + i;\n          })\n          .attr('opacity', 1)\n          .attr('stroke', 'white')\n          .attr('stroke-width', lineWidth)\n          .attr('fill', '#eeeeff')\n          .attr('transform', rallyT)\n          .attr('height', vert ? lScale.bandwidth() : rallyCalc)\n          .attr('width', vert ? rallyCalc : lScale.bandwidth());\n      } else {\n        bars.selectAll('.rally_bar' + options.id).remove();\n      }\n\n      if (options.display.score) {\n        const score = options.score.slice();\n        if (options.display.reverse) score.reverse();\n        const set_score = bars.selectAll('.set_score' + options.id).data(score);\n\n        set_score.exit().remove();\n\n        set_score\n          .enter()\n          .append('text')\n          .attr('class', 'set_score' + options.id)\n          .attr('transform', sscoreT)\n          .attr('font-size', radius * 0.8 + 'px')\n          .attr('text-anchor', 'middle')\n          .text(function (d: any) {\n            return d;\n          })\n          .merge(set_score)\n          .attr('class', 'set_score' + options.id)\n          .attr('transform', sscoreT)\n          .attr('font-size', radius * 0.8 + 'px')\n          .attr('text-anchor', 'middle')\n          .text(function (d: any) {\n            return d;\n          });\n\n        const ssb = bars.selectAll('.ssb' + options.id).data(options.score);\n\n        ssb.exit().remove();\n\n        ssb\n          .enter()\n          .append('rect')\n          .merge(ssb)\n          .attr('class', 'ssb' + options.id)\n          .attr('transform', ssbT)\n          .attr('stroke', 'black')\n          .attr('stroke-width', lineWidth)\n          .attr('fill-opacity', 0)\n          .attr('height', radius + 'px')\n          .attr('width', radius + 'px');\n      } else {\n        bars.selectAll('.set_score' + options.id).remove();\n        bars.selectAll('.ssb' + options.id).remove();\n      }\n\n      if (options.display.service) {\n        const serves: any = [];\n        data.forEach(function (s: any, i: number) {\n          let first_serve = false;\n          const serve_outcomes = ['Ace', 'Serve Winner', 'Double Fault'];\n          if (s.first_serve) {\n            first_serve = true;\n            serves.push({ point: i, serve: 'first', server: s.server, result: s.first_serve.error });\n          }\n\n          serves.push({\n            point: i,\n            serve: first_serve ? 'second' : 'first',\n            server: s.server,\n            result: serve_outcomes.indexOf(s.result) >= 0 ? s.result : 'In'\n          });\n        });\n\n        const service = bars.selectAll('.serve' + options.id).data(serves);\n\n        service.exit().remove();\n\n        service\n          .enter()\n          .append('circle')\n          .attr('class', 'serve' + options.id)\n          .attr('cx', sX)\n          .attr('cy', sY)\n          .attr('r', circleRadius)\n          .attr('stroke', colorShot)\n          .attr('stroke-width', lineWidth)\n          .attr('fill', colorShot)\n          .merge(service)\n          .attr('class', 'serve' + options.id)\n          .attr('cx', sX)\n          .attr('cy', sY)\n          .attr('r', circleRadius)\n          .attr('stroke', colorShot)\n          .attr('stroke-width', lineWidth)\n          .attr('fill', colorShot);\n\n        const service_box = bars.selectAll('.sbox' + options.id).data(data);\n\n        service_box.exit().remove();\n\n        service_box\n          .enter()\n          .append('rect')\n          .attr('stroke', '#ccccdd')\n          .attr('fill-opacity', 0)\n          .attr('transform', sBoxT)\n          .attr('class', 'sbox' + options.id)\n          .attr('stroke-width', lineWidth)\n          .attr('height', vert ? lScale.bandwidth() : 1.5 * radius)\n          .attr('width', vert ? 1.5 * radius : lScale.bandwidth())\n          .merge(service_box)\n          .attr('transform', sBoxT)\n          .attr('class', 'sbox' + options.id)\n          .attr('stroke-width', lineWidth)\n          .attr('height', vert ? lScale.bandwidth() : 1.5 * radius)\n          .attr('width', vert ? 1.5 * radius : lScale.bandwidth());\n\n        const returns = bars.selectAll('.return' + options.id).data(data);\n\n        returns.exit().remove();\n\n        returns\n          .enter()\n          .append('circle')\n          .attr('class', 'return' + options.id)\n          .attr('cx', rX)\n          .attr('cy', rY)\n          .attr('r', circleRadius)\n          .attr('stroke', colorReturn)\n          .attr('stroke-width', lineWidth)\n          .attr('fill', colorReturn)\n          .merge(returns)\n          .attr('class', 'return' + options.id)\n          .attr('cx', rX)\n          .attr('cy', rY)\n          .attr('r', circleRadius)\n          .attr('stroke', colorReturn)\n          .attr('stroke-width', lineWidth)\n          .attr('fill', colorReturn);\n      } else {\n        bars.selectAll('.sbox' + options.id).remove();\n        bars.selectAll('.return' + options.id).remove();\n        bars.selectAll('.serve' + options.id).remove();\n      }\n\n      if (options.display.rightImg) {\n        images.right = fishFrame.selectAll('image.rightImage').data([0]);\n\n        images.right.exit().remove();\n\n        images.right\n          .enter()\n          .append('image')\n          .attr('class', 'rightImage')\n          .attr('xlink:href', options.display.rightImg)\n          .attr('x', options.width - 30)\n          .attr('y', 5)\n          .attr('height', '20px')\n          .attr('width', '20px')\n          .attr('opacity', options.display.show_images ? 1 : 0)\n          .on('click', function () {\n            if (events.rightImage.click) events.rightImage.click(options.id);\n          })\n          .merge(images.right)\n          .attr('x', options.width - 30)\n          .attr('xlink:href', options.display.rightImg)\n          .on('click', function () {\n            if (events.rightImage.click) events.rightImage.click(options.id);\n          });\n      } else {\n        if (fishFrame) fishFrame.selectAll('image.rightImage').remove();\n      }\n\n      if (options.display.leftImg) {\n        images.left = fishFrame.selectAll('image.leftImage').data([0]);\n\n        images.left\n          .enter()\n          .append('image')\n          .attr('class', 'leftImage')\n          .attr('xlink:href', options.display.leftImg)\n          .attr('x', 10)\n          .attr('y', 5)\n          .attr('height', '20px')\n          .attr('width', '20px')\n          .attr('opacity', options.display.show_images ? 1 : 0)\n          .on('click', function () {\n            if (events.leftImage.click) events.leftImage.click();\n          })\n          .merge(images.left)\n          .attr('xlink:href', options.display.leftImg)\n          .on('click', function () {\n            if (events.leftImage.click) events.leftImage.click(options.id);\n          });\n\n        images.left.exit().remove();\n      } else {\n        if (fishFrame) fishFrame.selectAll('image.leftImage').remove();\n      }\n\n      // ancillary functions for update()\n      function circleRadius() {\n        return options.display.player || options.display.service ? radius / 4 : radius / 2;\n      }\n      function lineWidth() {\n        return radius > 20 ? 1 : 0.5;\n      }\n      function colorShot(d: any) {\n        return options.colors.results[d.result];\n      }\n      function colorReturn(d: any) {\n        if (d.rally == undefined) return 'white';\n        if (d.rally.length > 1) return 'yellow';\n        if (d.rally.length == 1) return options.colors.results[d.result];\n        return 'white';\n      }\n\n      function rallyCalc(d: any) {\n        return d.rally ? oScale(d.rally.length) : 0;\n      }\n\n      function sscoreT(_: any, i: number) {\n        let o = i ? midpoint + radius * 0.5 : midpoint - radius * 0.5;\n        o = vert ? o : o + radius * 0.3;\n        const l = radius * (vert ? 0.8 : 0.5);\n        return translate(o, l, 0);\n      }\n\n      function ssbT(_: any, i: number) {\n        const o = i ? midpoint : midpoint - radius;\n        const l = 0;\n        return translate(o, l, 0);\n      }\n\n      function gscoreT(d: any) {\n        const o = +midpoint + d.o;\n        const l = radius + d.l;\n        return translate(o, l, d.rotate);\n      }\n\n      function gridCT(d: any) {\n        const o = midpoint + (d[1] - d[0] + vert - 1) * radius;\n        const l = (d[0] + d[1] + 3 - vert) * radius;\n        return translate(o, l, 45);\n      }\n\n      function gameCT(d: any, i: number) {\n        const o = midpoint + (findOffset(d) + vert - 1) * radius;\n        const l = (i + 4 - vert) * radius;\n        last_coords = [o - midpoint, l - diag, diag];\n        return translate(o, l, 45);\n      }\n\n      function sBoxT(d: any, i: number) {\n        const o = d.server == 0 ? midpoint - (fish_offset / 2) * sw : midpoint + (fish_offset / 2) * sw - 1.5 * radius;\n        const l = radius + cL(d, i);\n        return translate(o, l, 0);\n      }\n\n      function rallyTstart(d: any, i: number) {\n        const o = midpoint;\n        const l = radius + cL(d, i);\n        return translate(o, l, 0);\n      }\n\n      function rallyT(d: any, i: number) {\n        const o = d.rally ? midpoint - oScale(d.rally.length) / 2 : 0;\n        const l = radius + cL(d, i);\n        return translate(o, l, 0);\n      }\n\n      function translate(o: any, l: any, rotate: any) {\n        const x = vert ? o : l;\n        const y = vert ? l : o;\n        return 'translate(' + x + ',' + y + ') rotate(' + rotate + ')';\n      }\n\n      function cL(_: any, i: number) {\n        return (i + 2.5) * radius;\n      }\n\n      function rX(d: any, i: number) {\n        return vert ? rO(d) : rL(d, i);\n      }\n      function rY(d: any, i: number) {\n        return vert ? rL(d, i) : rO(d);\n      }\n      function rL(_: any, i: number) {\n        return radius + (i + 3) * radius;\n      }\n      function rO(d: any) {\n        return d.server == 0\n          ? midpoint + (fish_offset / 2) * sw - 0.75 * radius\n          : midpoint - (fish_offset / 2) * sw + 0.75 * radius;\n      }\n\n      function sX(d: any) {\n        return vert ? sO(d) : sL(d);\n      }\n      function sY(d: any) {\n        return vert ? sL(d) : sO(d);\n      }\n      function sL(d: any) {\n        return radius + (d.point + 3) * radius;\n      }\n      function sO(d: any) {\n        const offset = (d.serve == 'first' && d.server == 0) || (d.serve == 'second' && d.server == 1) ? 0.4 : 1.1;\n        return d.server == 0\n          ? midpoint - (fish_offset / 2) * sw + offset * radius\n          : midpoint + (fish_offset / 2) * sw - offset * radius;\n      }\n\n      function zX(d: any, i: number) {\n        return vert ? zO(d) : zL(d, i);\n      }\n      function zY(d, i: number) {\n        return vert ? zL(d, i) : zO(d);\n      }\n      function zL(_, i: number) {\n        return radius + (i + 3) * radius;\n      }\n      function zO(d: any) {\n        return +midpoint + findOffset(d) * radius;\n      }\n    };\n\n    function findOffset(point: any) {\n      return point.points[options.display.reverse ? 0 : 1] - point.points[options.display.reverse ? 1 : 0];\n    }\n  }\n\n  // ACCESSORS\n\n  chart.g = function (values: any) {\n    if (!arguments.length) return chart;\n    if (typeof values != 'object' || values.constructor == Array) return;\n    if (values.bars) bars = values.bars;\n    if (values.fish) fish = values.fish;\n    if (values.game) game = values.game;\n  };\n\n  // allows updating individual options and suboptions\n  // while preserving state of other options\n  chart.options = function (values: any) {\n    if (!arguments.length) return options;\n    keyWalk(values, options);\n    return chart;\n  };\n\n  function keyWalk(valuesObject: any, optionsObject: any) {\n    if (!valuesObject || !optionsObject) return;\n    const vKeys = Object.keys(valuesObject);\n    const oKeys = Object.keys(optionsObject);\n    for (let k = 0; k < vKeys.length; k++) {\n      if (oKeys.indexOf(vKeys[k]) >= 0) {\n        const oo = optionsObject[vKeys[k]];\n        const vo = valuesObject[vKeys[k]];\n        if (typeof oo == 'object' && typeof vo !== 'function' && oo && oo.constructor !== Array) {\n          keyWalk(valuesObject[vKeys[k]], optionsObject[vKeys[k]]);\n        } else {\n          optionsObject[vKeys[k]] = valuesObject[vKeys[k]];\n        }\n      }\n    }\n  }\n\n  chart.events = function (functions: any[]) {\n    if (!arguments.length) return events;\n    keyWalk(functions, events);\n    return chart;\n  };\n\n  chart.width = function (value: any) {\n    if (!arguments.length) return options.width;\n    options.width = value;\n    return chart;\n  };\n\n  chart.height = function (value: any) {\n    if (!arguments.length) return options.height;\n    options.height = value;\n    return chart;\n  };\n\n  chart.coords = function (value: any) {\n    if (!arguments.length) return last_coords;\n    coords = value;\n    return chart;\n  };\n\n  chart.data = function (value: any) {\n    if (!arguments.length) return data;\n    data = JSON.parse(JSON.stringify(value));\n    return chart;\n  };\n\n  chart.update = function (opts: any) {\n    if (events.update.begin) events.update.begin();\n    if (typeof update === 'function' && data) update(opts);\n    setTimeout(function () {\n      if (events.update.end) events.update.end();\n    }, options.display.transition_time);\n  };\n\n  chart.colors = function (color3s: any) {\n    if (!arguments.length) return colors;\n    if (typeof color3s !== 'object') return false;\n    const keys = Object.keys(color3s);\n    if (!keys.length) return false;\n    // remove all properties that are not colors\n    keys.forEach(function (f) {\n      if (!/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(color3s[f])) delete color3s[f];\n    });\n    if (Object.keys(color3s).length) {\n      colors = color3s;\n    } else {\n      colors = JSON.parse(JSON.stringify(default_colors));\n    }\n    return chart;\n  };\n\n  return chart;\n\n  // ancillary functions\n}\n","import { groupGames } from './groupGames';\nimport { gameFish } from './gameFish';\n\nimport * as d3 from 'd3';\n\nexport function momentumChart() {\n  let data: any;\n  let update: any;\n  let fish_school: any[] = [];\n  const images = { left: undefined, right: undefined };\n\n  const options: any = {\n    id: 'm1',\n    fullWidth: window.innerWidth,\n    fullHeight: window.innerHeight,\n    margins: {\n      top: 1,\n      bottom: 1, // Chrome bug can't be 0\n      left: 3,\n      right: 3 // Chrome bug can't be 0\n    },\n    fish: {\n      gridcells: ['0', '15', '30', '40', 'G'],\n      cell_size: undefined,\n      min_cell_size: 5,\n      max_cell_size: 10\n    },\n    display: {\n      continuous: false,\n      reverse: false,\n      orientation: 'vertical',\n      leftImg: false,\n      rightImg: false,\n      show_images: undefined,\n      transition_time: 0,\n      sizeToFit: true,\n      service: true,\n      player: true,\n      rally: true,\n      score: false,\n      momentum_score: true,\n      grid: true\n    },\n    colors: {\n      players: { 0: 'red', 1: 'black' },\n      results: {\n        Out: 'red',\n        Net: 'coral',\n        'Unforced Error': 'red',\n        Forced: 'orange',\n        Ace: 'lightgreen',\n        'Serve Winner': 'lightgreen',\n        Winner: 'lightgreen',\n        'Forced Volley Error': 'orange',\n        'Forced Error': 'orange',\n        In: 'yellow',\n        'Passing Shot': 'lightgreen',\n        'Out Passing Shot': 'red',\n        'Net Cord': 'yellow',\n        'Out Wide': 'red',\n        'Out Long': 'red',\n        'Double Fault': 'red',\n        Unknown: 'blue',\n        Error: 'red'\n      }\n    }\n  };\n\n  function width() {\n    return options.fullWidth - options.margins.left - options.margins.right;\n  }\n  function height() {\n    return options.fullHeight - options.margins.top - options.margins.bottom;\n  }\n\n  options.height = height();\n  options.width = width();\n\n  const default_colors = { default: '#235dba' };\n  let colors = JSON.parse(JSON.stringify(default_colors));\n\n  const events: any = {\n    score: { click: null },\n    leftImage: { click: null },\n    rightImage: { click: null },\n    update: { begin: null, end: null },\n    point: { mouseover: null, mouseout: null, click: null }\n  };\n\n  function chart(selection: any) {\n    selection.each(function (_, i: number, n: any) {\n      const dom_parent = d3.select(n[i]);\n\n      const root = dom_parent.append('div').attr('class', 'momentumRoot').attr('transform', 'translate(0, 0)');\n\n      const momentumFrame = root.append('svg').attr('class', 'momentumFrame');\n\n      momentumFrame.node().setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns', 'http://www.w3.org/2000/svg');\n      momentumFrame\n        .node()\n        .setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\n\n      const bars = momentumFrame.append('g').attr('id', 'momentumBars');\n      const fish = momentumFrame.append('g').attr('id', 'momentumFish');\n      const game = momentumFrame.append('g').attr('id', 'momentumGame');\n\n      update = function (opts: any) {\n        if (options.display.sizeToFit || (opts && opts.sizeToFit)) {\n          const dims = selection.node().getBoundingClientRect();\n          if (options.display.orientation == 'vertical') {\n            options.fullWidth = Math.max(dims.width, 100);\n            options.fullHeight = Math.max(dims.height, 100);\n          } else {\n            options.fullHeight = Math.max(dims.height, 100);\n            /**\n            options.fullWidth = Math.max(dims.width, 100);\n            options.fullHeight = cellSize() * maxDiff() * 2;\n            */\n          }\n        }\n\n        options.height = height();\n        options.width = width();\n\n        const vert = options.display.orientation == 'vertical' ? 1 : 0;\n        const fish_offset = vert ? options.width : options.height;\n        /** const fish_length = vert ? options.height : options.width; */\n        const midpoint = fish_offset / 2;\n\n        const all_games = groupGames(data);\n        let max_rally = 0;\n        data.forEach(function (point) {\n          if (point.rally != undefined && point.rally.length > max_rally) max_rally = point.rally.length;\n        });\n\n        const cell_size = cellSize();\n\n        // remove extraneous fish instances\n        const old_fish = fish_school.slice(all_games.length);\n        old_fish.forEach(function (f) {\n          d3.selectAll('.c' + f.options().id).remove();\n        });\n        // trim school based on length of data\n        fish_school = fish_school.slice(0, all_games.length);\n\n        let radius: number;\n        const coords = [0, 0];\n        const score_lines: any[] = [];\n        all_games.forEach(function (g, i) {\n          // add fish where necessary\n          if (!fish_school[i]) {\n            fish_school.push(gameFish());\n            momentumFrame.call(fish_school[i]);\n            fish_school[i].g({\n              bars: bars.append('g').attr('class', 'cGF' + i),\n              fish: fish.append('g').attr('class', 'cGF' + i),\n              game: game.append('g').attr('class', 'cGF' + i)\n            });\n            fish_school[i].options({\n              id: 'GF' + i,\n              display: { score: false, point_score: false },\n              fish: { school: true }\n            });\n          }\n          fish_school[i].width(fish_offset).height(fish_offset);\n          fish_school[i].options({\n            score: g.score,\n            fish: { cell_size: cell_size, max_rally: max_rally },\n            display: {\n              orientation: options.display.orientation,\n              service: options.display.service,\n              rally: options.display.rally,\n              player: options.display.player,\n              grid: options.display.grid\n            },\n            colors: { players: { 0: options.colors.players[0], 1: options.colors.players[1] } }\n          });\n          fish_school[i].data(g.points);\n          fish_school[i].coords(coords).update();\n          const new_coords = fish_school[i].coords();\n          coords[0] += vert ? new_coords?.[0] : new_coords?.[1] - new_coords?.[2] / 2;\n          coords[1] += vert ? new_coords?.[1] : new_coords?.[0] + new_coords?.[2] / 2;\n          score_lines.push({\n            score: g.score,\n            index: g.index,\n            l: coords[1] + new_coords?.[2] * 1.75,\n            o: coords[0] + new_coords?.[2] * 1.75,\n            set_end: g.last_game\n          });\n          if (g.last_game && !options.display.continuous) {\n            coords[vert ? 0 : 1] = 0;\n          }\n          radius = new_coords?.[2] / 2;\n        });\n\n        // This resize *must* take place after the fishshcool has been generated!\n        // ---------------------------------------------------------------------\n        root\n          .attr('width', options.width + 'px')\n          .attr('height', (vert ? 100 + coords[1] : options.height) + 'px')\n          .on('mouseover', showImages)\n          .on('mouseout', hideImages);\n\n        momentumFrame\n          .attr('width', options.width + 'px')\n          .attr('height', (vert ? 100 + coords[1] : options.height) + 'px');\n        // ---------------------------------------------------------------------\n\n        const midline = fish.selectAll('.midline' + options.id).data([0]);\n\n        midline\n          .enter()\n          .append('line')\n          .attr('class', 'midline' + options.id)\n          .attr('x1', vert ? midpoint : radius)\n          .attr('x2', vert ? midpoint : coords[0] + 5 * (radius || 0))\n          .attr('y1', vert ? radius : midpoint)\n          .attr('y2', vert ? coords[1] + 5 * radius : midpoint)\n          .attr('stroke-width', lineWidth)\n          .attr('stroke', '#ccccdd');\n\n        midline.exit().remove();\n\n        midline\n          .transition()\n          .duration(options.display.transition_time)\n          .attr('x1', vert ? midpoint : radius)\n          .attr('x2', vert ? midpoint : coords[0] + 5 * (radius || 0))\n          .attr('y1', vert ? radius : midpoint)\n          .attr('y2', vert ? coords[1] + 5 * radius : midpoint)\n          .attr('stroke-width', lineWidth)\n          .attr('stroke', '#ccccdd');\n\n        const scoreLines = fish.selectAll('.score_line' + options.id).data(score_lines);\n\n        scoreLines\n          .enter()\n          .append('line')\n          .attr('class', 'score_line' + options.id)\n          .attr('x1', function (d) {\n            return vert ? cell_size * 2 : d.o;\n          })\n          .attr('x2', function (d) {\n            return vert ? fish_offset - cell_size * 2 : d.o;\n          })\n          .attr('y1', function (d) {\n            return vert ? d.l : cell_size * 3;\n          })\n          .attr('y2', function (d) {\n            return vert ? d.l : fish_offset - cell_size * 3;\n          })\n          .attr('stroke-width', lineWidth)\n          .attr('stroke-dasharray', function (d) {\n            return d.set_end ? '0' : '5,5';\n          })\n          .attr('stroke', function (d) {\n            return d.set_end ? '#000000' : '#ccccdd';\n          });\n\n        scoreLines.exit().remove();\n\n        scoreLines\n          .transition()\n          .duration(options.display.transition_time)\n          .attr('x1', function (d) {\n            return vert ? cell_size * 2 : d.o;\n          })\n          .attr('x2', function (d) {\n            return vert ? fish_offset - cell_size * 2 : d.o;\n          })\n          .attr('y1', function (d) {\n            return vert ? d.l : cell_size * 3;\n          })\n          .attr('y2', function (d) {\n            return vert ? d.l : fish_offset - cell_size * 3;\n          })\n          .attr('stroke-width', lineWidth)\n          .attr('stroke-dasharray', function (d) {\n            return d.set_end ? '0' : '5,5';\n          })\n          .attr('stroke', function (d) {\n            return d.set_end ? '#000000' : '#ccccdd';\n          });\n\n        if (options.display.momentum_score) {\n          const score_text = fish.selectAll('.score_text' + options.id).data(score_lines);\n\n          score_text.exit().remove();\n\n          score_text\n            .enter()\n            .append('g')\n            .attr('class', 'score_text' + options.id)\n            .attr('transform', scoreText)\n            .on('click', function (d) {\n              if (events.score.click) events.score.click(d);\n            })\n            .merge(score_text)\n            .attr('class', 'score_text' + options.id)\n            .attr('transform', scoreText)\n            .on('click', function (d) {\n              if (events.score.click) events.score.click(d);\n            });\n\n          const scores = score_text.selectAll('.score' + options.id).data(function (d) {\n            return d.score;\n          });\n\n          scores.exit().remove();\n\n          scores\n            .enter()\n            .append('text')\n            .attr('class', 'score' + options.id)\n            .attr('transform', scoreT)\n            .attr('font-size', radius * 4.0 + 'px')\n            .attr('opacity', 0.1)\n            .attr('text-anchor', 'middle')\n            .text(function (d) {\n              return d;\n            })\n            .merge(scores)\n            .attr('class', 'score' + options.id)\n            .transition()\n            .duration(options.display.transition_time)\n            .attr('transform', scoreT)\n            .attr('font-size', radius * 4.0 + 'px')\n            .attr('opacity', 0.1)\n            .attr('text-anchor', 'middle')\n            .text(function (d) {\n              return d;\n            });\n        } else {\n          fish.selectAll('.score_text' + options.id).remove();\n        }\n\n        function scoreText(d: any) {\n          return translate(0, vert ? d.l : d.o - radius, 0);\n        }\n        function scoreT(_, i: number) {\n          const offset = vert ? fish_offset / 3 : options.height / 3;\n          const o = i ? midpoint + offset : midpoint - offset + radius * 3;\n          const l = -1 * radius * (vert ? 0.25 : 0.5);\n          return translate(o, l, 0);\n        }\n\n        function translate(o, l, rotate) {\n          const x = vert ? o : l;\n          const y = vert ? l : o;\n          return 'translate(' + x + ',' + y + ') rotate(' + rotate + ')';\n        }\n\n        function lineWidth() {\n          return radius > 20 ? 2 : 1;\n        }\n\n        function cellSize() {\n          let cell_size;\n\n          if (options.display.orientation == 'vertical') {\n            // if the display is vertical use the width divided by maxDiff\n            cell_size = options.width / 2 / (maxDiff() + 1);\n          } else {\n            // if the display is horizontal use the width divided by # points\n            // var radius = options.width / (data.points().length + 4);\n            const radius = options.width / (data.length + 4);\n            cell_size = Math.sqrt(2 * radius * radius);\n          }\n          return Math.min(options.fish.max_cell_size, cell_size);\n        }\n\n        function maxDiff() {\n          let max_diff = 0;\n          const cumulative = [0, 0];\n\n          data.forEach(function (episode) {\n            cumulative[episode.point.winner] += 1;\n            const diff = Math.abs(cumulative[0] - cumulative[1]);\n            if (diff > max_diff) max_diff = diff;\n          });\n\n          return max_diff;\n        }\n\n        if (options.display.rightImg) {\n          images.right = momentumFrame.selectAll('image.rightImage').data([0]);\n\n          images.right.exit().remove();\n\n          images.right\n            .enter()\n            .append('image')\n            .attr('class', 'rightImage')\n            .attr('xlink:href', options.display.rightImg)\n            .attr('x', options.width - 20)\n            .attr('y', 5)\n            .attr('height', '20px')\n            .attr('width', '20px')\n            .attr('opacity', options.display.show_images ? 1 : 0)\n            .on('click', function () {\n              if (events.rightImage.click) events.rightImage.click(options.id);\n            })\n            .merge(images.right)\n            .attr('x', options.width - 20)\n            .attr('xlink:href', options.display.rightImg)\n            .on('click', function () {\n              if (events.rightImage.click) events.rightImage.click(options.id);\n            });\n        } else {\n          momentumFrame.selectAll('image.rightImage').remove();\n        }\n\n        if (options.display.leftImg) {\n          images.left = momentumFrame.selectAll('image.leftImage').data([0]);\n\n          images.left\n            .enter()\n            .append('image')\n            .attr('class', 'leftImage')\n            .attr('xlink:href', options.display.leftImg)\n            .attr('x', 10)\n            .attr('y', 5)\n            .attr('height', '20px')\n            .attr('width', '20px')\n            .attr('opacity', options.display.show_images ? 1 : 0)\n            .on('click', function () {\n              if (events.leftImage.click) events.leftImage.click();\n            })\n            .merge(images.left)\n            .attr('xlink:href', options.display.leftImg)\n            .on('click', function () {\n              if (events.leftImage.click) events.leftImage.click(options.id);\n            });\n\n          images.left.exit().remove();\n        } else {\n          momentumFrame.selectAll('image.leftImage').remove();\n        }\n\n        function showImages() {\n          if (options.display.show_images == false) return;\n          if (options.display.leftImg) images.left.attr('opacity', 1);\n          if (options.display.rightImg) images.right.attr('opacity', 1);\n        }\n\n        function hideImages() {\n          if (options.display.show_images) return;\n          if (options.display.leftImg) images.left.attr('opacity', 0);\n          if (options.display.rightImg) images.right.attr('opacity', 0);\n        }\n      };\n    });\n  }\n\n  // ACCESSORS\n\n  // allows updating individual options and suboptions\n  // while preserving state of other options\n  chart.options = function (values) {\n    if (!arguments.length) return options;\n    keyWalk(values, options);\n    return chart;\n  };\n\n  function keyWalk(valuesObject, optionsObject) {\n    if (!valuesObject || !optionsObject) return;\n    const vKeys = Object.keys(valuesObject);\n    const oKeys = Object.keys(optionsObject);\n    for (let k = 0; k < vKeys.length; k++) {\n      if (oKeys.indexOf(vKeys[k]) >= 0) {\n        const oo = optionsObject[vKeys[k]];\n        const vo = valuesObject[vKeys[k]];\n        if (typeof oo == 'object' && typeof vo !== 'function' && oo.constructor !== Array) {\n          keyWalk(valuesObject[vKeys[k]], optionsObject[vKeys[k]]);\n        } else {\n          optionsObject[vKeys[k]] = valuesObject[vKeys[k]];\n        }\n      }\n    }\n  }\n\n  chart.events = function (functions) {\n    if (!arguments.length) return events;\n    keyWalk(functions, events);\n    return chart;\n  };\n\n  chart.width = function (value) {\n    if (!arguments.length) return options.fullWidth;\n    options.fullWidth = value;\n    return chart;\n  };\n\n  chart.height = function (value) {\n    if (!arguments.length) return options.fullHeight;\n    options.fullHeight = value;\n    return chart;\n  };\n\n  chart.data = function (value) {\n    if (!arguments.length) return data;\n    data = value;\n    return chart;\n  };\n\n  chart.update = function (opts) {\n    if (events.update.begin) events.update.begin();\n    if (typeof update === 'function' && data) update(opts);\n    setTimeout(function () {\n      if (events.update.end) events.update.end();\n    }, options.display.transition_time);\n  };\n\n  chart.colors = function (color3s) {\n    if (!arguments.length) return colors;\n    if (typeof color3s !== 'object') return false;\n    const keys = Object.keys(color3s);\n    if (!keys.length) return false;\n    // remove all properties that are not colors\n    keys.forEach(function (f) {\n      if (!/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(color3s[f])) delete color3s[f];\n    });\n    if (Object.keys(color3s).length) {\n      colors = color3s;\n    } else {\n      colors = JSON.parse(JSON.stringify(default_colors));\n    }\n    return chart;\n  };\n\n  return chart;\n}\n","import * as d3 from 'd3';\n\nexport function gameTree() {\n  // TODO\n  // change the gradient direction in lines across width\n  // which means changing line so that it is short and wide\n  // rather than long and thick\n  //\n  // bar chart showing win % for each player or primary/opponents\n  // for each point position\n\n  function applyMax(arr: any) {\n    return Math.max.apply(null, arr);\n  }\n  function applyMin(arr: any) {\n    return Math.min.apply(null, arr);\n  }\n  const images = { left: undefined, right: undefined };\n\n  // All options that should be accessible to caller\n  let data: any[] = [];\n  const options: any = {\n    width: 150,\n    height: 150,\n    min_max: 20, // scaling factor for line widths\n\n    // Margins for the SVG\n    margins: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    },\n\n    display: {\n      noAd: false,\n      leftImg: false,\n      rightImg: false,\n      show_images: false,\n      sizeToFit: true,\n      showEmpty: false // display even if no data\n    },\n\n    lines: {\n      easing: false, // 'bounce'\n      duration: 600,\n      points: { winners: '#2ed2db', errors: '#2ed2db', unknown: '#2ed2db' },\n      colors: { underlines: '#2ed2db' }\n    },\n\n    nodes: {\n      colors: { 0: 'black', 1: 'red', neutral: '#ecf0f1' }\n    },\n\n    points: {\n      winners: [\n        'Winner',\n        'Ace',\n        'Serve Winner',\n        'Passing Shot',\n        'Return Winner',\n        'Forcing Error',\n        'Forcing Volley Error',\n        'Net Cord',\n        'In'\n      ],\n      errors: [\n        'Unforced Error',\n        'Unforced',\n        'Forced Error',\n        'Error',\n        'Out',\n        'Net',\n        'Netted Passing Shot',\n        'L',\n        'Overhead Passing Shot',\n        'Double Fault'\n      ],\n      highlight: [] // opposite of filter; filter unhighlighted...\n    },\n\n    selectors: {\n      enabled: true,\n      selected: { 0: false, 1: false }\n    },\n\n    labels: { Game: 'GAME', Player: 'Player', Opponent: 'Opponent' }\n  };\n\n  // functions which should be accessible via ACCESSORS\n  let update: any;\n\n  // PROGRAMMATIC\n  // ------------\n  let canvas: any;\n  let radius: any;\n  const transition_time: number = 0;\n  const point_connector: string = 'x';\n  let counters: any = { w: {}, e: {}, p: {}, n: {} };\n\n  // DEFINABLE EVENTS\n  // Define with ACCESSOR function chart.events()\n  const events: any = {\n    leftImage: { click: null },\n    rightImage: { click: null },\n    update: { begin: null, end: null },\n    point: { mousemove: null, mouseout: null },\n    node: { mousemove: null, mouseout: null },\n    score: { mousemove: null, mouseout: null },\n    label: { mousemove: null, mouseout: null, click: selectView },\n    selector: { mousemove: null, mouseout: null, click: selectView }\n  };\n\n  function chart(selection: any) {\n    const root = selection.append('div').attr('class', 'gametreeRoot');\n\n    /*\n    const tree_width = options.width - (options.margins.left + options.margins.right);\n    const tree_height = options.width * 0.9;\n    */\n    canvas = root.append('svg');\n\n    update = function (opts: any) {\n      if (!data.length && !options.display.showEmpty) {\n        canvas.selectAll('*').remove();\n        return;\n      }\n\n      counterCalcs();\n\n      if (options.display.sizeToFit || (opts && opts.sizeToFit)) {\n        const dims = selection.node().getBoundingClientRect();\n        options.width = Math.min(dims.width, dims.height);\n      }\n\n      const tree_width = options.width - (options.margins.left + options.margins.right);\n      const tree_height = options.width * 0.9;\n      radius = ((tree_height + tree_width) / 2) * 0.03;\n\n      const keys = point_lines.map(function (m) {\n        return m.id;\n      });\n\n      const point_min = applyMin(\n        keys.map(function (k) {\n          return isNaN(counters.p[k]) ? 0 : counters.p[k];\n        })\n      );\n      const point_max = applyMax([\n        applyMax(\n          keys.map(function (k) {\n            return isNaN(counters.p[k]) ? 0 : counters.p[k];\n          })\n        ),\n        options.min_max\n      ]);\n\n      const scale = d3\n        .scaleLinear()\n        .domain([point_min, point_max])\n        .range([0, radius * 2]);\n      canvas.transition().duration(transition_time).attr('width', tree_width).attr('height', tree_height);\n\n      const gradients = canvas.selectAll('.gradient').data(point_lines, get_id);\n\n      gradients.exit().remove();\n\n      gradients\n        .enter()\n        .append('linearGradient')\n        .attr('id', function (d) {\n          return 'gradient' + d.id;\n        })\n        .attr('class', 'gradient')\n        .attr('gradientUnits', 'userSpaceOnUse')\n        .attr('x1', function (d) {\n          return d.start.x * tree_width;\n        })\n        .attr('y1', function (d) {\n          return d.start.y * tree_height;\n        })\n        .attr('x2', function (d) {\n          return d.end.x * tree_width;\n        })\n        .attr('y2', function (d) {\n          return d.end.y * tree_height;\n        })\n        .merge(gradients)\n        .attr('x1', function (d) {\n          return d.start.x * tree_width;\n        })\n        .attr('y1', function (d) {\n          return d.start.y * tree_height;\n        })\n        .attr('x2', function (d) {\n          return d.end.x * tree_width;\n        })\n        .attr('y2', function (d) {\n          return d.end.y * tree_height;\n        });\n\n      const point_stops = gradients.selectAll('.points_stop').data((d) => {\n        return calcStops(d);\n      });\n\n      point_stops.exit().remove();\n\n      point_stops\n        .enter()\n        .append('stop')\n        .attr('class', 'points_stop')\n        .attr('offset', function (d) {\n          return d.offset;\n        })\n        .attr('stop-color', function (d) {\n          return d.color;\n        })\n        .merge(point_stops)\n        .attr('offset', function (d) {\n          return d.offset;\n        });\n\n      const lines = canvas.selectAll('.line').data(point_lines);\n\n      lines.exit().remove();\n\n      lines\n        .enter()\n        .append('line')\n        .attr('class', 'line')\n        .attr('id', function (d) {\n          return d.id;\n        })\n        .attr('x1', function (d) {\n          return d.start.x * tree_width;\n        })\n        .attr('y1', function (d) {\n          return d.start.y * tree_height;\n        })\n        .attr('x2', function (d) {\n          return d.end.x * tree_width;\n        })\n        .attr('y2', function (d) {\n          return d.end.y * tree_height;\n        })\n        .attr('stroke-width', function (d) {\n          return d.width ? d.width : 0;\n        })\n        .attr('stroke', function (d) {\n          return 'url(#gradient' + d.id + ')';\n        })\n        .on('mousemove', function (d, i) {\n          if (events.point.mousemove) events.point.mousemove(d, i);\n        })\n        .on('mouseout', function (d, i) {\n          if (events.point.mouseout) events.point.mouseout(d, i);\n        })\n        .on('click', function (d, i) {\n          if (events.point.click) events.point.click(d, i);\n        })\n        .merge(lines)\n        .transition()\n        .duration(options.lines.easing || (opts && opts.easing) ? options.lines.duration : 0)\n        //                     .ease(options.lines.easing || (opts && opts.easing) || 'none')\n        .attr('x1', function (d) {\n          return d.start.x * tree_width;\n        })\n        .attr('y1', function (d) {\n          return d.start.y * tree_height;\n        })\n        .attr('x2', function (d) {\n          return d.end.x * tree_width;\n        })\n        .attr('y2', function (d) {\n          return d.end.y * tree_height;\n        })\n        .attr('stroke-width', function (d) {\n          return counters.p[d.id] ? scale(counters.p[d.id]) : 0;\n        });\n\n      const ulines = canvas.selectAll('.uline').data(under_lines);\n\n      ulines.exit().remove();\n\n      ulines\n        .enter()\n        .append('line')\n        .attr('class', 'uline')\n        .attr('id', function (d: any) {\n          return d.id;\n        })\n        .attr('x1', function (d: any) {\n          return d.start.x * tree_width;\n        })\n        .attr('y1', function (d: any) {\n          return d.start.y * tree_height;\n        })\n        .attr('x2', function (d: any) {\n          return d.end.x * tree_width;\n        })\n        .attr('y2', function (d: any) {\n          return d.end.y * tree_height;\n        })\n        .attr('stroke-width', function (d: any) {\n          return d.width ? d.width : 0;\n        })\n        .attr('stroke', function () {\n          return options.lines.colors.underlines;\n        })\n        .merge(ulines)\n        .transition()\n        .duration(transition_time)\n        .attr('id', function (d: any) {\n          return d.id;\n        })\n        .attr('x1', function (d: any) {\n          return d.start.x * tree_width;\n        })\n        .attr('y1', function (d: any) {\n          return d.start.y * tree_height;\n        })\n        .attr('x2', function (d: any) {\n          return d.end.x * tree_width;\n        })\n        .attr('y2', function (d: any) {\n          return d.end.y * tree_height;\n        })\n        .attr('stroke-width', function (d) {\n          return d.width ? d.width : 0;\n        });\n\n      const nodes = canvas.selectAll('.node').data(point_circles);\n\n      nodes.exit().remove();\n\n      nodes\n        .enter()\n        .append('circle')\n        .attr('class', 'node')\n        .attr('cx', function (d: any) {\n          return d.pos.x * tree_width;\n        })\n        .attr('cy', function (d: any) {\n          return d.pos.y * tree_height;\n        })\n        .attr('r', function () {\n          return radius;\n        })\n        .attr('stroke', function (d: any) {\n          return d.color_pct != undefined\n            ? colorShade(getHexColor(options.nodes.colors[d.player]), d.color_pct)\n            : options.nodes.colors.neutral;\n        })\n        .attr('fill', function (d: any) {\n          return d.color_pct != undefined\n            ? colorShade(getHexColor(options.nodes.colors[d.player]), d.color_pct)\n            : options.nodes.colors.neutral;\n        })\n        .on('mousemove', function (d: any, i: number) {\n          if (events.score.mousemove) events.score.mousemove(d, i);\n        })\n        .on('mouseout', function (d: any, i: number) {\n          if (events.node.mouseout) events.node.mouseout(d, i);\n        })\n        .on('click', function (d: any, i: number) {\n          if (events.node.click) events.node.click(d, i);\n        })\n        .merge(nodes)\n        .transition()\n        .duration(transition_time)\n        .attr('cx', function (d: any) {\n          return d.pos.x * tree_width;\n        })\n        .attr('cy', function (d: any) {\n          return d.pos.y * tree_height;\n        })\n        .attr('r', function () {\n          return radius;\n        });\n\n      const scores = canvas.selectAll('.score').data(point_text);\n\n      scores.exit().remove();\n\n      scores\n        .enter()\n        .append('text')\n        .attr('class', 'score')\n        .attr('x', function (d) {\n          return d.pos.x * tree_width;\n        })\n        .attr('y', function (d) {\n          return d.pos.y * tree_height;\n        })\n        .attr('font-size', function (d) {\n          return radius * d.fontsize + 'px';\n        })\n        .attr('font-family', 'Lato, Arial, sans-serif')\n        .attr('text-anchor', 'middle')\n        .attr('alignment-baseline', 'central')\n        .attr('stroke', function (d) {\n          return d.stroke;\n        })\n        .attr('fill', function (d) {\n          return d.fill;\n        })\n        .text(function (d) {\n          if (radius * d.fontsize > 7) return d.text;\n        })\n        .on('mousemove', function (d, i) {\n          if (events.score.mousemove) events.score.mousemove(d, i);\n        })\n        .on('mouseout', function (d, i) {\n          if (events.score.mouseout) events.score.mouseout(d, i);\n        })\n        .on('click', function (d, i) {\n          if (events.score.click) events.score.click(d, i);\n        })\n        .merge(scores)\n        .transition()\n        .duration(transition_time)\n        .attr('x', function (d) {\n          return d.pos.x * tree_width;\n        })\n        .attr('y', function (d) {\n          return d.pos.y * tree_height;\n        })\n        .attr('font-size', function (d) {\n          return radius * d.fontsize + 'px';\n        })\n        .text(function (d) {\n          if (radius * d.fontsize > 5) return d.text;\n        });\n\n      const labels = canvas.selectAll('.gt_label').data(label_text);\n\n      labels.exit().remove();\n\n      labels\n        .enter()\n        .append('text')\n        .attr('class', 'gt_label')\n        .attr('x', function (d) {\n          return d.pos.x * tree_width;\n        })\n        .attr('y', function (d) {\n          return d.pos.y * tree_height;\n        })\n        .attr('alignment-baseline', function (d) {\n          return d.baseline ? d.baseline : undefined;\n        })\n        .attr('font-size', function (d) {\n          return radius * d.fontsize + 'px';\n        })\n        .attr('text-anchor', function (d) {\n          return d.anchor ? d.anchor : undefined;\n        })\n        .attr('font-family', 'Lato, Arial, sans-serif')\n        .attr('stroke', function (d) {\n          return d.stroke;\n        })\n        .attr('fill', function (d) {\n          return d.fill;\n        })\n        .text(function (d) {\n          if (radius * d.fontsize > 5) return d.id;\n        })\n        .attr('selector', function (d) {\n          return d.id;\n        })\n        .on('click', function (d: any, i: number, n: any) {\n          if (events.label.click) events.label.click(d, i, n[i]);\n        })\n        .merge(labels)\n        .transition()\n        .duration(transition_time)\n        .attr('x', function (d) {\n          return d.pos.x * tree_width;\n        })\n        .attr('y', function (d) {\n          return d.pos.y * tree_height;\n        })\n        .attr('font-size', function (d) {\n          return radius * d.fontsize + 'px';\n        })\n        .text(function (d) {\n          if (radius * d.fontsize > 5) return options.labels[d.id];\n        });\n\n      const select = canvas.selectAll('.selector').data(selectors);\n\n      select.exit();\n\n      select\n        .enter()\n        .append('circle')\n        .attr('class', 'selector')\n        .attr('status', function (d: any) {\n          return d.status;\n        })\n        .attr('id', function (d: any) {\n          return d.id;\n        })\n        .attr('selector', function (d: any) {\n          return d.id;\n        })\n        .attr('cx', function (d: any) {\n          return d.pos.x * tree_width;\n        })\n        .attr('cy', function (d: any) {\n          return d.pos.y * tree_height + 4;\n        })\n        .attr('r', function (d: any) {\n          return radius * d.r_pct;\n        })\n        .attr('stroke', function (_, i: number) {\n          return options.nodes.colors[i];\n        })\n        .attr('stroke-width', function () {\n          return radius * 0.25;\n        })\n        .attr('fill', function (_, i: number) {\n          return !options.selectors.enabled || (options.selectors.enabled && options.selectors.selected[i])\n            ? options.nodes.colors[i]\n            : options.nodes.colors.neutral;\n        })\n        .attr('opacity', function (d: any) {\n          return d.opacity;\n        })\n        .on('mousemove', function (d: any, i: number) {\n          if (events.selector.mousemove) events.selector.mousemove(d, i);\n        })\n        .on('mouseout', function (d: any, i: number) {\n          if (events.selector.mouseout) events.selector.mouseout(d, i);\n        })\n        .on('click', function (d: any, i: number, n: any) {\n          if (events.selector.click) events.selector.click(d, i, n[i]);\n        })\n        .merge(select)\n        .transition()\n        .duration(transition_time)\n        .attr('cx', function (d: any) {\n          return d.pos.x * tree_width;\n        })\n        .attr('cy', function (d: any) {\n          return d.pos.y * tree_height + 4;\n        })\n        .attr('r', function (d: any) {\n          return radius * d.r_pct;\n        })\n        .attr('stroke-width', function () {\n          return radius * 0.25;\n        })\n        .attr('fill', function (_, i: number) {\n          return !options.selectors.enabled || (options.selectors.enabled && options.selectors.selected[i])\n            ? options.nodes.colors[i]\n            : options.nodes.colors.neutral;\n        });\n\n      if (options.display.rightImg) {\n        images.right = canvas.selectAll('image.rightImage').data([0]);\n\n        images.right.exit().remove();\n\n        images.right\n          .enter()\n          .append('image')\n          .attr('class', 'rightImage')\n          .attr('xlink:href', options.display.rightImg)\n          .attr('x', options.width - (options.margins.right + 30))\n          .attr('y', 5)\n          .attr('height', '20px')\n          .attr('width', '20px')\n          .attr('opacity', options.display.show_images ? 1 : 0)\n          .on('click', function () {\n            if (events.rightImage.click) events.rightImage.click(options.id);\n          })\n          .merge(images.right)\n          .attr('x', options.width - (options.margins.right + 30))\n          .attr('xlink:href', options.display.rightImg)\n          .on('click', function () {\n            if (events.rightImage.click) events.rightImage.click(options.id);\n          });\n      } else {\n        root.selectAll('image.rightImage').remove();\n      }\n\n      if (options.display.leftImg) {\n        images.left = canvas.selectAll('image.leftImage').data([0]);\n\n        images.left\n          .enter()\n          .append('image')\n          .attr('class', 'leftImage')\n          .attr('xlink:href', options.display.leftImg)\n          .attr('x', 10 + options.margins.left)\n          .attr('y', 5)\n          .attr('height', '20px')\n          .attr('width', '20px')\n          .attr('opacity', options.display.show_images ? 1 : 0)\n          .on('click', function () {\n            if (events.leftImage.click) events.leftImage.click();\n          })\n          .merge(images.left)\n          .attr('x', 10 + options.margins.left)\n          .attr('xlink:href', options.display.leftImg)\n          .on('click', function () {\n            if (events.leftImage.click) events.leftImage.click(options.id);\n          });\n\n        images.left.exit().remove();\n      } else {\n        root.selectAll('image.leftImage').remove();\n      }\n\n      /*\n      function showImages() {\n        if (options.display.show_images == false) return;\n        if (options.display.leftImg) images.left.attr('opacity', 1);\n        if (options.display.rightImg) images.right.attr('opacity', 1);\n      }\n\n      function hideImages() {\n        if (options.display.show_images) return;\n        if (options.display.leftImg) images.left.attr('opacity', 0);\n        if (options.display.rightImg) images.right.attr('opacity', 0);\n      }\n      */\n    };\n  }\n\n  // ACCESSORS\n\n  chart.exports = function () {\n    return { selectView: selectView };\n  };\n\n  // allows updating individual options and suboptions\n  // while preserving state of other options\n  chart.options = function (values) {\n    if (!arguments.length) return options;\n    keyWalk(values, options);\n    return chart;\n  };\n\n  function keyWalk(valuesObject, optionsObject) {\n    if (!valuesObject || !optionsObject) return;\n    const vKeys = Object.keys(valuesObject);\n    const oKeys = Object.keys(optionsObject);\n    for (let k = 0; k < vKeys.length; k++) {\n      if (oKeys.indexOf(vKeys[k]) >= 0) {\n        const oo = optionsObject[vKeys[k]];\n        const vo = valuesObject[vKeys[k]];\n        if (typeof oo == 'object' && typeof vo !== 'function' && oo && oo.constructor !== Array) {\n          keyWalk(valuesObject[vKeys[k]], optionsObject[vKeys[k]]);\n        } else {\n          optionsObject[vKeys[k]] = valuesObject[vKeys[k]];\n        }\n      }\n    }\n  }\n\n  chart.events = function (functions) {\n    if (!arguments.length) return events;\n    keyWalk(functions, events);\n    return chart;\n  };\n\n  chart.reset = function () {\n    data = [];\n    clearView();\n    counters = { w: {}, e: {}, p: {}, n: {} };\n    return chart;\n  };\n\n  chart.width = function (value: any) {\n    if (!arguments.length) return options.width;\n    options.width = value;\n    return chart;\n  };\n\n  chart.height = function (value: any) {\n    if (!arguments.length) return options.height;\n    options.height = value;\n    return chart;\n  };\n\n  chart.data = function (values: any) {\n    if (!arguments.length) return data;\n    if (values.constructor === Array) {\n      chart.reset();\n      data = values;\n    }\n    return chart;\n  };\n\n  chart.counters = function () {\n    counterCalcs();\n    return counters;\n  };\n\n  chart.update = function (opts) {\n    if (events.update.begin) events.update.begin();\n    if (typeof update === 'function') update(opts);\n    setTimeout(function () {\n      if (events.update.end) events.update.end();\n    }, transition_time);\n  };\n\n  // REUSABLE FUNCTIONS\n  // ------------------\n\n  function counterCalcs() {\n    let _data;\n    // w = winners, e = errors, p = points, n = nodes\n    counters = { w: {}, e: {}, p: {}, n: {} };\n    if (options.selectors.selected[0] || options.selectors.selected[1]) {\n      const selected = options.selectors.selected[0] ? 0 : 1;\n      _data = data.filter(function (f) {\n        return f.point.server == selected;\n      });\n    } else {\n      _data = data;\n    }\n    _data = _data.filter(function (f) {\n      return !f.point.tiebreak;\n    });\n    for (let d = 0; d < _data.length; d++) {\n      const previous_episode = _data[d - 1];\n      const previous =\n        d == 0 || previous_episode.game.complete ? calcPosition([0, 0]) : calcPosition(previous_episode.point.points);\n      const progression = 'L' + previous + point_connector + calcPosition(_data[d].point.points);\n      if (options.points.highlight.length && options.points.highlight.indexOf(d) < 0) {\n        continue;\n      }\n      counters.p[progression] = counters.p[progression] ? counters.p[progression] + 1 : 1;\n\n      if (options.points.winners.indexOf(_data[d].point.result) >= 0) {\n        counters.w[progression] = counters.w[progression] ? counters.w[progression] + 1 : 1;\n      } else if (options.points.errors.indexOf(_data[d].point.result) >= 0) {\n        counters.e[progression] = counters.e[progression] ? counters.e[progression] + 1 : 1;\n      }\n    }\n\n    // make adjustment for multiple dueces\n    function calcPosition(points) {\n      const point_min = Math.min(...points);\n      const diff = point_min >= 4 ? point_min - 3 : 0;\n      const pos = points.map((point, index) =>\n        options.display.noAd && point == 4 && points[1 - index] == 3 ? 'G' : point - diff\n      );\n      return pos.join('-');\n    }\n  }\n\n  function get_id(d) {\n    return d && d.id;\n  }\n\n  /*\n  function isEven(n) {\n    return n == parseFloat(n) ? !(n % 2) : void 0;\n  }\n  */\n\n  function clearView() {\n    d3.select('[id=Player]').attr('opacity', 0.4).attr('status', 'none').attr('fill', options.nodes.colors.neutral);\n    d3.select('[id=Opponent]').attr('opacity', 0.4).attr('status', 'none').attr('fill', options.nodes.colors.neutral);\n    options.selectors.selected[1] = false;\n    options.selectors.selected[0] = false;\n  }\n\n  function selectView(_, i: number, self: any) {\n    if (!options.selectors.enabled) return;\n    const selector = d3.select(self).attr('selector');\n    if (d3.select('[id=' + selector + ']').attr('status') == 'none') {\n      if (d3.select(self).attr('selector') == 'Opponent') {\n        d3.select('[id=Player]').attr('opacity', 0.4).attr('status', 'none').attr('fill', options.nodes.colors.neutral);\n        d3.select('[id=Opponent]').attr('opacity', 1).attr('status', 'selected').attr('fill', options.nodes.colors[i]);\n        options.selectors.selected[1] = true;\n        options.selectors.selected[0] = false;\n      } else {\n        d3.select('[id=Opponent]')\n          .attr('opacity', 0.4)\n          .attr('status', 'none')\n          .attr('fill', options.nodes.colors.neutral);\n        d3.select('[id=Player]').attr('opacity', 1).attr('status', 'selected').attr('fill', options.nodes.colors[i]);\n        options.selectors.selected[0] = true;\n        options.selectors.selected[1] = false;\n      }\n    } else {\n      d3.select('[id=' + selector + ']')\n        .attr('opacity', 0.4)\n        .attr('status', 'none')\n        .attr('fill', options.nodes.colors.neutral);\n      if (d3.select(self).attr('selector') == 'Opponent') {\n        options.selectors.selected[1] = false;\n      } else {\n        options.selectors.selected[0] = false;\n      }\n    }\n    update();\n  }\n\n  function calcStops(d: any) {\n    if (!counters.p[d.id]) return [];\n    const total_points = counters.p[d.id] == undefined ? 1 : counters.p[d.id];\n    const winners = counters.w[d.id] ? counters.w[d.id] : 0;\n    const errors = counters.e[d.id] ? counters.e[d.id] : 0;\n    const winner_pct = (winners / total_points) * 100;\n    // const error_pct = (errors / total_points) * 100;\n    const u_pct = ((total_points - (winners + errors)) / total_points) * 100;\n    return [\n      { offset: '0%', color: options.lines.points.unknown },\n      { offset: u_pct + '%', color: options.lines.points.unknown },\n      { offset: u_pct + '%', color: options.lines.points.winners },\n      { offset: u_pct + winner_pct + '%', color: options.lines.points.winners },\n      { offset: u_pct + winner_pct + '%', color: options.lines.points.errors },\n      { offset: '100%', color: options.lines.points.errors }\n    ];\n  }\n\n  // DATA\n  // --------------\n\n  const c_start = 0.07;\n  const c_dist = 0.14;\n\n  const r_start = 0.05;\n  const r_dist = 0.21;\n\n  const f = {\n    col1: c_start,\n    col2: c_start + c_dist,\n    col3: c_start + 2 * c_dist,\n    col4: c_start + 3 * c_dist,\n    col5: c_start + 4 * c_dist,\n    col6: c_start + 5 * c_dist,\n    col7: c_start + 6 * c_dist,\n\n    row1: r_start,\n    row2: r_start + r_dist,\n    row3: r_start + 2 * r_dist,\n    row4: r_start + 3 * r_dist,\n    row5: r_start + 4 * r_dist,\n    foot: r_start + 4.1 * r_dist,\n\n    adr1: r_start + 3.5 * r_dist,\n    adc1: c_start + c_dist * 2.5,\n    adc2: c_start + c_dist * 3.5,\n\n    selc: c_start * 0.8,\n    tslc: c_start,\n    sl1r: r_start / 2,\n    sl2r: r_start * 1.5,\n    plr1: c_start * 0.8,\n    plr2: c_start + 4 * c_dist,\n    plrs: r_start + 4.25 * r_dist\n  };\n\n  const pos = {\n    'p0-0': { x: f.col4, y: f.row1 },\n    'p1-1': { x: f.col4, y: f.row2 },\n    'p2-2': { x: f.col4, y: f.row3 },\n    'p3-3': { x: f.col4, y: f.row4 },\n    'p1-0': { x: f.col3, y: f.row2 },\n    'p0-1': { x: f.col5, y: f.row2 },\n    'p2-1': { x: f.col3, y: f.row3 },\n    'p1-2': { x: f.col5, y: f.row3 },\n    'p2-0': { x: f.col2, y: f.row3 },\n    'p0-2': { x: f.col6, y: f.row3 },\n    'p3-2': { x: f.col3, y: f.row4 },\n    'p2-3': { x: f.col5, y: f.row4 },\n    'p3-1': { x: f.col2, y: f.row4 },\n    'p1-3': { x: f.col6, y: f.row4 },\n    'p3-0': { x: f.col1, y: f.row4 },\n    'p0-3': { x: f.col7, y: f.row4 },\n    'p3-4': { x: f.adc1, y: f.adr1 },\n    'p4-3': { x: f.adc2, y: f.adr1 },\n    'p5-3': { x: f.adc2, y: f.row5 },\n    'p3-5': { x: f.adc1, y: f.row5 },\n    'p4-1': { x: f.col2, y: f.row5 },\n    'p1-4': { x: f.col6, y: f.row5 },\n    'p4-2': { x: f.col3, y: f.row5 },\n    'p2-4': { x: f.col5, y: f.row5 },\n    'p4-0': { x: f.col1, y: f.row5 },\n    'p0-4': { x: f.col7, y: f.row5 },\n\n    // No Ad\n    'pG-3': { x: f.col4, y: f.row5 },\n    'p3-G': { x: f.col4, y: f.row5 },\n\n    sPlyr: { x: f.adc1, y: f.plrs },\n    tPlyr: { x: f.col2, y: f.plrs },\n    sOpp: { x: f.adc2, y: f.plrs },\n    tOpp: { x: f.col6, y: f.plrs },\n\n    GAME: { x: f.col4, y: f.foot },\n    L1s: { x: f.col1, y: f.foot },\n    L1e: { x: f.adc1, y: f.foot },\n    L2s: { x: f.adc2, y: f.foot },\n    L2e: { x: f.col7, y: f.foot }\n  };\n\n  const point_circles = [\n    { name: '0-0', pos: pos['p0-0'], player: 0 },\n    { name: '15-15', pos: pos['p1-1'], player: 0 },\n    { name: '30-30', pos: pos['p2-2'], player: 0 },\n    { name: '40-40', pos: pos['p3-3'], player: 0 },\n\n    { name: '0-15', pos: pos['p0-1'], color_pct: 0.4, player: 1 },\n    { name: '15-30', pos: pos['p1-2'], color_pct: 0.4, player: 1 },\n    { name: '0-30', pos: pos['p0-2'], color_pct: 0.2, player: 1 },\n    { name: '30-40', pos: pos['p2-3'], color_pct: 0.4, player: 1 },\n    { name: '15-40', pos: pos['p1-3'], color_pct: 0.2, player: 1 },\n    { name: '0-40', pos: pos['p0-3'], color_pct: 0, player: 1 },\n    { name: '40-A', pos: pos['p4-3'], color_pct: 0.5, player: 1 },\n\n    { name: '15-0', pos: pos['p1-0'], color_pct: 0.4, player: 0 },\n    { name: '30-15', pos: pos['p2-1'], color_pct: 0.4, player: 0 },\n    { name: '30-0', pos: pos['p2-0'], color_pct: 0.2, player: 0 },\n    { name: '40-30', pos: pos['p3-2'], color_pct: 0.4, player: 0 },\n    { name: '40-15', pos: pos['p3-1'], color_pct: 0.2, player: 0 },\n    { name: '40-0', pos: pos['p3-0'], color_pct: 0, player: 0 },\n    { name: 'A-40', pos: pos['p3-4'], color_pct: 0.5, player: 0 }\n  ];\n\n  const point_lines = [\n    { id: 'L0-0x0-1', start: pos['p0-0'], end: pos['p0-1'] },\n    { id: 'L0-0x1-0', start: pos['p0-0'], end: pos['p1-0'] },\n    { id: 'L0-1x0-2', start: pos['p0-1'], end: pos['p0-2'] },\n    { id: 'L0-1x1-1', start: pos['p0-1'], end: pos['p1-1'] },\n    { id: 'L1-0x2-0', start: pos['p1-0'], end: pos['p2-0'] },\n    { id: 'L1-0x1-1', start: pos['p1-0'], end: pos['p1-1'] },\n    { id: 'L1-1x1-2', start: pos['p1-1'], end: pos['p1-2'] },\n    { id: 'L1-1x2-1', start: pos['p1-1'], end: pos['p2-1'] },\n    { id: 'L2-0x2-1', start: pos['p2-0'], end: pos['p2-1'] },\n    { id: 'L2-0x3-0', start: pos['p2-0'], end: pos['p3-0'] },\n    { id: 'L2-1x2-2', start: pos['p2-1'], end: pos['p2-2'] },\n    { id: 'L2-1x3-1', start: pos['p2-1'], end: pos['p3-1'] },\n    { id: 'L2-2x2-3', start: pos['p2-2'], end: pos['p2-3'] },\n    { id: 'L2-2x3-2', start: pos['p2-2'], end: pos['p3-2'] },\n    { id: 'L0-2x0-3', start: pos['p0-2'], end: pos['p0-3'] },\n    { id: 'L0-2x1-2', start: pos['p0-2'], end: pos['p1-2'] },\n    { id: 'L0-3x0-4', start: pos['p0-3'], end: pos['p0-4'] },\n    { id: 'L0-3x1-3', start: pos['p0-3'], end: pos['p1-3'] },\n    { id: 'L1-2x2-2', start: pos['p1-2'], end: pos['p2-2'] },\n    { id: 'L1-2x1-3', start: pos['p1-2'], end: pos['p1-3'] },\n    { id: 'L1-3x2-3', start: pos['p1-3'], end: pos['p2-3'] },\n    { id: 'L1-3x1-4', start: pos['p1-3'], end: pos['p1-4'] },\n    { id: 'L2-3x3-3', start: pos['p2-3'], end: pos['p3-3'] },\n    { id: 'L2-3x2-4', start: pos['p2-3'], end: pos['p2-4'] },\n    { id: 'L3-3x3-4', start: pos['p3-3'], end: pos['p4-3'] },\n    { id: 'L3-3x4-3', start: pos['p3-3'], end: pos['p3-4'] },\n    { id: 'L3-2x3-3', start: pos['p3-2'], end: pos['p3-3'] },\n    { id: 'L3-2x4-2', start: pos['p3-2'], end: pos['p4-2'] },\n    { id: 'L3-1x3-2', start: pos['p3-1'], end: pos['p3-2'] },\n    { id: 'L3-1x4-1', start: pos['p3-1'], end: pos['p4-1'] },\n    { id: 'L3-0x3-1', start: pos['p3-0'], end: pos['p3-1'] },\n    { id: 'L3-0x4-0', start: pos['p3-0'], end: pos['p4-0'] },\n    { id: 'L3-4x3-5', start: pos['p4-3'], end: pos['p5-3'] },\n    { id: 'L4-3x5-3', start: pos['p3-4'], end: pos['p3-5'] },\n\n    // no Ad\n    { id: 'L3-3xG-3', start: pos['p3-3'], end: pos['pG-3'] },\n    { id: 'L3-3x3-G', start: pos['p3-3'], end: pos['p3-G'] }\n  ];\n\n  const under_lines = [\n    { stroke: 'blue', start: pos['L1s'], end: pos['L1e'], width: 2 },\n    { stroke: 'blue', start: pos['L2s'], end: pos['L2e'], width: 2 }\n  ];\n\n  const point_text = [\n    { pos: pos['p0-0'], fill: 'black', fontsize: 0.7, text: '0-0' },\n    { pos: pos['p1-1'], fill: 'black', fontsize: 0.7, text: '15-15' },\n    { pos: pos['p2-2'], fill: 'black', fontsize: 0.7, text: '30-30' },\n    { pos: pos['p3-3'], fill: 'black', fontsize: 0.7, text: '40-40' },\n\n    { pos: pos['p0-1'], fill: 'white', fontsize: 0.7, text: '0-15' },\n    { pos: pos['p1-2'], fill: 'white', fontsize: 0.7, text: '15-30' },\n    { pos: pos['p0-2'], fill: 'white', fontsize: 0.7, text: '0-30' },\n    { pos: pos['p2-3'], fill: 'white', fontsize: 0.7, text: '30-40' },\n    { pos: pos['p1-3'], fill: 'white', fontsize: 0.7, text: '15-40' },\n    { pos: pos['p0-3'], fill: 'white', fontsize: 0.7, text: '0-40' },\n    { pos: pos['p4-3'], fill: 'white', fontsize: 0.7, text: '40-A' },\n\n    { pos: pos['p1-0'], fill: 'white', fontsize: 0.7, text: '15-0' },\n    { pos: pos['p2-1'], fill: 'white', fontsize: 0.7, text: '30-15' },\n    { pos: pos['p2-0'], fill: 'white', fontsize: 0.7, text: '30-0' },\n    { pos: pos['p3-2'], fill: 'white', fontsize: 0.7, text: '40-30' },\n    { pos: pos['p3-1'], fill: 'white', fontsize: 0.7, text: '40-15' },\n    { pos: pos['p3-0'], fill: 'white', fontsize: 0.7, text: '40-0' },\n    { pos: pos['p3-4'], fill: 'white', fontsize: 0.7, text: 'A-40' }\n  ];\n\n  const label_text = [\n    { pos: pos['tPlyr'], fill: 'black', fontsize: 0.9, id: 'Player', anchor: 'middle', baseline: 'hanging' },\n    { pos: pos['tOpp'], fill: 'black', fontsize: 0.9, id: 'Opponent', anchor: 'middle', baseline: 'hanging' },\n    { pos: pos['GAME'], fill: '#555555', fontsize: 0.9, id: 'Game', anchor: 'middle', baseline: 'central' }\n  ];\n\n  const selectors = [\n    { id: 'Player', pos: pos['sPlyr'], r_pct: 0.4, opacity: 1, status: 'none' },\n    { id: 'Opponent', pos: pos['sOpp'], r_pct: 0.4, opacity: 0.4, status: 'none' }\n  ];\n\n  // Helper Functions\n  // ----------------\n\n  // http://stackoverflow.com/questions/5560248/programmatically-lighten-or-darken-a-hex-color-or-rgb-and-blend-colors\n  function shadeColor2(color, percent) {\n    const f = parseInt(color.slice(1), 16),\n      t = percent < 0 ? 0 : 255,\n      p = percent < 0 ? percent * -1 : percent,\n      R = f >> 16,\n      G = (f >> 8) & 0x00ff,\n      B = f & 0x0000ff;\n    return (\n      '#' +\n      (\n        0x1000000 +\n        (Math.round((t - R) * p) + R) * 0x10000 +\n        (Math.round((t - G) * p) + G) * 0x100 +\n        (Math.round((t - B) * p) + B)\n      )\n        .toString(16)\n        .slice(1)\n    );\n  }\n\n  /*\n  function blendColors(c0, c1, p) {\n    const f = parseInt(c0.slice(1), 16),\n      t = parseInt(c1.slice(1), 16),\n      R1 = f >> 16,\n      G1 = (f >> 8) & 0x00ff,\n      B1 = f & 0x0000ff,\n      R2 = t >> 16,\n      G2 = (t >> 8) & 0x00ff,\n      B2 = t & 0x0000ff;\n    return (\n      '#' +\n      (\n        0x1000000 +\n        (Math.round((R2 - R1) * p) + R1) * 0x10000 +\n        (Math.round((G2 - G1) * p) + G1) * 0x100 +\n        (Math.round((B2 - B1) * p) + B1)\n      )\n        .toString(16)\n        .slice(1)\n    );\n  }\n  */\n\n  function shadeRGBColor(color, percent) {\n    const f = color.split(','),\n      t = percent < 0 ? 0 : 255,\n      p = percent < 0 ? percent * -1 : percent,\n      R = parseInt(f[0].slice(4)),\n      G = parseInt(f[1]),\n      B = parseInt(f[2]);\n    return (\n      'rgb(' +\n      (Math.round((t - R) * p) + R) +\n      ',' +\n      (Math.round((t - G) * p) + G) +\n      ',' +\n      (Math.round((t - B) * p) + B) +\n      ')'\n    );\n  }\n\n  /*\n  function blendRGBColors(c0, c1, p) {\n    const f = c0.split(','),\n      t = c1.split(','),\n      R = parseInt(f[0].slice(4)),\n      G = parseInt(f[1]),\n      B = parseInt(f[2]);\n    return (\n      'rgb(' +\n      (Math.round((parseInt(t[0].slice(4)) - R) * p) + R) +\n      ',' +\n      (Math.round((parseInt(t[1]) - G) * p) + G) +\n      ',' +\n      (Math.round((parseInt(t[2]) - B) * p) + B) +\n      ')'\n    );\n  }\n  */\n\n  function colorShade(color, percent) {\n    if (color.length > 7) return shadeRGBColor(color, percent);\n    else return shadeColor2(color, percent);\n  }\n\n  /*\n  function colorBlend(color1, color2, percent) {\n    if (color1.length > 7) return blendRGBColors(color1, color2, percent);\n    else return blendColors(color1, color2, percent);\n  }\n  */\n\n  // http://stackoverflow.com/questions/1573053/javascript-function-to-convert-color-names-to-hex-codes\n  function getHexColor(colorStr) {\n    const a = document.createElement('div');\n    a.style.color = colorStr;\n    const colors = window\n      .getComputedStyle(document.body.appendChild(a))\n      .color.match(/\\d+/g)\n      .map(function (a) {\n        return parseInt(a, 10);\n      });\n    document.body.removeChild(a);\n    return colors.length >= 3\n      ? '#' + ((1 << 24) + (colors[0] << 16) + (colors[1] << 8) + colors[2]).toString(16).substr(1)\n      : false;\n  }\n\n  return chart;\n}\n","import * as d3 from 'd3';\n\nexport function ptsMatch() {\n  let match_data: any;\n\n  const options: any = {\n    id: 0,\n    class: 'ptsMatch',\n\n    resize: true,\n    width: window.innerWidth,\n    height: 80,\n    max_height: 100,\n\n    margins: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    },\n\n    set: {\n      average_points: 56\n    },\n\n    lines: {\n      width: 2,\n      interpolation: 'linear'\n    },\n\n    points: {\n      max_width_points: 100\n    },\n\n    score: {\n      font: 'Arial',\n      font_size: '12px',\n      font_weight: 'bold',\n      reverse: true\n    },\n\n    header: {\n      font: 'Arial',\n      font_size: '14px',\n      font_weight: 'bold'\n    },\n\n    display: {\n      sizeToFit: true,\n      transition_time: 0,\n      point_highlighting: true,\n      point_opacity: 0.4,\n      win_err_highlight: true,\n      game_highlighting: true,\n      game_opacity: 0.2,\n      game_boundaries: true,\n      gamepoints: false,\n      score: true,\n      points: true,\n      winner: true\n    },\n\n    colors: {\n      orientation: 'yellow',\n      gamepoints: 'black',\n      players: { 0: '#a55194', 1: '#6b6ecf' }\n    }\n  };\n\n  // functions which should be accessible via ACCESSORS\n  let update: any;\n\n  // programmatic\n  const pts_sets: any[] = [];\n  let dom_parent;\n\n  // prepare charts\n  const pts_charts: any[] = [];\n  for (let s = 0; s < 5; s++) {\n    pts_charts.push(ptsChart());\n  }\n\n  // DEFINABLE EVENTS\n  // Define with ACCESSOR function chart.events()\n  const events: any = {\n    update: { begin: null, end: null },\n    set_box: { mouseover: null, mouseout: null },\n    point_bars: { mouseover: null, mouseout: null, click: null }\n  };\n\n  function chart(selection) {\n    dom_parent = selection;\n\n    if (options.display.sizeToFit) {\n      const dims = selection.node().getBoundingClientRect();\n      options.width = Math.max(dims.width, 400);\n    }\n\n    // append svg\n    const root = dom_parent\n      .append('div')\n      .attr('class', options.class + 'root')\n      .style('width', options.width + 'px')\n      .style('height', options.height + 'px');\n\n    for (let s = 0; s < 5; s++) {\n      pts_sets[s] = root.append('div').attr('class', 'pts').style('display', 'none');\n      pts_sets[s].call(pts_charts[s]);\n    }\n\n    update = function (opts) {\n      const sets = match_data.sets();\n\n      if (options.display.sizeToFit || opts?.sizeToFit) {\n        const dims = selection.node().getBoundingClientRect();\n        options.width = Math.max(dims.width, 400);\n        options.height = (dims.height - (+options.margins.top + +options.margins.bottom)) / sets.length;\n        if (options.height > options.max_height) options.height = options.max_height;\n      }\n\n      let true_height = 0;\n      for (let s = 0; s < pts_charts.length; s++) {\n        if (sets?.[s]?.history.points().length) {\n          pts_sets[s].style('display', 'inline');\n          pts_charts[s].width(options.width);\n          pts_charts[s].height(options.height);\n          pts_charts[s].update();\n          true_height += +options.height + 5;\n        } else {\n          pts_sets[s].style('display', 'none');\n        }\n      }\n\n      root.style('width', options.width + 'px').style('height', true_height + 'px');\n    };\n  }\n\n  // ACCESSORS\n\n  // allows updating individual options and suboptions\n  // while preserving state of other options\n  chart.options = function (values) {\n    if (!arguments.length) return options;\n    keyWalk(values, options);\n    return chart;\n  };\n\n  function keyWalk(valuesObject: any, optionsObject: any) {\n    if (!valuesObject || !optionsObject) return;\n    const vKeys = Object.keys(valuesObject);\n    const oKeys = Object.keys(optionsObject);\n    for (const key of vKeys) {\n      if (oKeys.indexOf(key) >= 0) {\n        const oo = optionsObject[key];\n        const vo = valuesObject[key];\n        if (typeof oo == 'object' && typeof vo !== 'function' && oo && oo.constructor !== Array) {\n          keyWalk(valuesObject[key], optionsObject[key]);\n        } else {\n          optionsObject[key] = valuesObject[key];\n        }\n      }\n    }\n  }\n\n  chart.events = function (functions: any) {\n    if (!arguments.length) return events;\n    keyWalk(functions, events);\n    return chart;\n  };\n\n  chart.colors = function (colores: any) {\n    if (!arguments.length) return options.colors;\n    options.colors.players = colores;\n    return chart;\n  };\n\n  chart.width = function (value: any) {\n    if (!arguments.length) return options.width;\n    options.width = value;\n    if (typeof update === 'function') update(true);\n    pts_charts.forEach(function (e) {\n      e.width(value);\n    });\n    return chart;\n  };\n\n  chart.height = function (value) {\n    if (!arguments.length) return options.height;\n    options.height = value;\n    if (typeof update === 'function') update(true);\n    pts_charts.forEach(function (e) {\n      e.height(value);\n    });\n    return chart;\n  };\n\n  chart.duration = function (value) {\n    if (!arguments.length) return options.display.transition_time;\n    options.display.transition_time = value;\n    return chart;\n  };\n\n  chart.update = function (opts?: any) {\n    if (events.update.begin) events.update.begin();\n    const sets = match_data.sets();\n    const max_width_points = Math.max(\n      ...sets.map((set, index) => set.history.points().filter((f) => f.set == index).length)\n    );\n    if (sets.length > 1) chart.options({ points: { max_width_points } });\n    sets.forEach(function (_, i: number) {\n      pts_charts[i].data(sets[i]);\n      pts_charts[i].options({ id: i });\n      pts_charts[i].options({\n        lines: options.lines,\n        points: options.points,\n        score: options.score,\n        header: options.header\n      });\n      pts_charts[i].options({ set: options.set, display: options.display, colors: options.colors });\n      pts_charts[i].events(events);\n      pts_charts[i].width(options.width).height(options.height).update(opts);\n    });\n    if (typeof update === 'function') update(opts);\n    setTimeout(function () {\n      if (events.update.end) events.update.end();\n    }, options.display.transition_time);\n    return true;\n  };\n\n  chart.data = function (matchObject) {\n    if (!arguments.length) {\n      return match_data;\n    }\n    match_data = matchObject;\n    chart.update();\n  };\n\n  return chart;\n}\n\nfunction ptsChart() {\n  let set_data;\n\n  let game_data;\n  let points_to_set;\n\n  const winners = ['Ace', 'Winner', 'Serve Winner'];\n  const errors = ['Forced Error', 'Unforced Error', 'Double Fault', 'Penalty', 'Out', 'Net'];\n\n  const options = {\n    id: 0,\n    class: 'ptsChart',\n\n    resize: true,\n    width: window.innerWidth,\n    height: 80,\n\n    margins: {\n      top: 5,\n      right: 15,\n      bottom: 5,\n      left: 5\n    },\n\n    set: {\n      average_points: 56\n    },\n\n    lines: {\n      width: 2,\n      interpolation: 'linear'\n    },\n\n    points: {\n      max_width_points: 100\n    },\n\n    score: {\n      font: 'Arial',\n      font_size: '12px',\n      font_weight: 'bold',\n      reverse: true\n    },\n\n    header: {\n      font: 'Arial',\n      font_size: '14px',\n      font_weight: 'bold'\n    },\n\n    display: {\n      transition_time: 0,\n      point_highlighting: true,\n      point_opacity: 0.4,\n      win_err_highlight: true,\n      game_highlighting: true,\n      game_opacity: 0.2,\n      game_boundaries: false,\n      gamepoints: false,\n      score: true,\n      points: true,\n      winner: true\n    },\n\n    colors: {\n      orientation: 'yellow',\n      gamepoints: 'black',\n      players: { 0: 'blue', 1: 'purple' }\n    }\n  };\n\n  // functions which should be accessible via ACCESSORS\n  let update;\n\n  // programmatic\n  let dom_parent;\n\n  // DEFINABLE EVENTS\n  // Define with ACCESSOR function chart.events()\n  const events = {\n    set_box: { mouseover: null, mouseout: null },\n    update: { begin: null, end: null },\n    point_bars: { mouseover: null, mouseout: null, click: null }\n  };\n\n  function chart(selection) {\n    selection.each(function (_, i: number, n: any) {\n      dom_parent = d3.select(n[i]);\n\n      // append svg\n      const root = dom_parent\n        .append('svg')\n        .attr('class', options.class + 'root')\n        .style('width', options.width + 'px')\n        .style('height', options.height + 'px');\n\n      // append children g\n      const pts = root\n        .append('g')\n        .attr('class', options.class + 'pts')\n        .attr('transform', 'translate(5, 5)');\n\n      // For Point Bars which must always be on top\n      const ptsHover = root\n        .append('g')\n        .attr('class', options.class + 'pts')\n        .attr('transform', 'translate(5, 5)');\n\n      // append labels\n      const set_winner = pts\n        .append('text')\n        .attr('class', options.class + 'Header')\n        .attr('opacity', 0)\n        .attr('font-size', options.header.font_size)\n        .attr('font-weight', options.header.font_weight)\n        .attr('x', function () {\n          return options.margins.left + 'px';\n        })\n        .attr('y', function () {\n          return options.margins.top + 8 + 'px';\n        });\n\n      const set_score = pts\n        .append('text')\n        .attr('class', options.class + 'Score')\n        .attr('opacity', 0)\n        .attr('font-size', options.score.font_size)\n        .attr('font-weight', options.score.font_weight)\n        .attr('x', function () {\n          return options.margins.left + 'px';\n        })\n        .attr('y', function () {\n          return options.margins.top + 20 + 'px';\n        });\n\n      // resize used to disable transitions during resize operation\n      update = function (_, resize?: boolean) {\n        if (!set_data) {\n          return false;\n        }\n\n        root\n          .transition()\n          .duration(options.display.transition_time)\n          .style('width', options.width + 'px')\n          .style('height', options.height + 'px');\n\n        const points = set_data.history.action('addPoint').filter((f) => f.point.set == options.id);\n        const range_start = points[0].point.index;\n\n        game_data = groupGames(points);\n        points_to_set = points.map((p) => p.needed.points_to_set);\n        const pts_max = Math.max(\n          ...[].concat(\n            points_to_set.map((p) => p[0]),\n            points_to_set.map((p) => p[1])\n          )\n        );\n        const pts_start = Math.max(...points_to_set[0]);\n\n        // add pts prior to first point\n        points_to_set.unshift([pts_start, pts_start]);\n\n        const longest_rally =\n          Math.max.apply(\n            null,\n            points.map(function (m) {\n              return m.point.rally ? m.point.rally.length : 0;\n            })\n          ) + 2;\n\n        displayScore(resize);\n\n        const xScale = d3\n          .scaleLinear()\n          .domain([0, calcWidth()])\n          .range([0, options.width - (options.margins.left + options.margins.right)]);\n\n        function pointScale(d, r, a) {\n          if (d.range[r] < range_start) return xScale(d.range[r] + a);\n          return xScale(d.range[r] + a - range_start);\n        }\n\n        const yScale = d3\n          .scaleLinear()\n          .range([options.height - (options.margins.top + options.margins.bottom), options.margins.bottom])\n          .domain([-2, pts_max - 1]);\n\n        // Set Box\n        const set_box = pts.selectAll('.' + options.class + 'SetBox').data([options.id]); // # of list elements only used for index, data not important\n\n        set_box\n          .enter()\n          .append('rect')\n          .attr('class', options.class + 'SetBox')\n          .style('position', 'relative')\n          .attr('height', function () {\n            return options.height - (options.margins.top + options.margins.bottom);\n          })\n          .attr('width', function () {\n            return xScale(boxWidth() + 1);\n          })\n          .attr('stroke', 'black')\n          .attr('stroke-width', 1)\n          .attr('fill', 'none')\n          .on('mouseover', function (d, i) {\n            if (events.set_box.mouseover) events.set_box.mouseover(d, i);\n          })\n          .on('mouseout', function (d, i) {\n            if (events.set_box.mouseout) events.set_box.mouseout(d, i);\n          })\n          .merge(set_box)\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time)\n          .attr('height', function () {\n            return options.height - (options.margins.top + options.margins.bottom);\n          })\n          .attr('width', function () {\n            return xScale(boxWidth() + 1);\n          });\n\n        set_box\n          .exit()\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time)\n          .style('opacity', 0)\n          .remove();\n\n        // Game Boundaries\n        const game_boundaries = pts.selectAll('.' + options.class + 'GameBoundary').data(game_data);\n\n        game_boundaries.exit().remove();\n\n        game_boundaries\n          .enter()\n          .append('rect')\n          .attr('class', options.class + 'GameBoundary')\n          .merge(game_boundaries)\n          .attr('id', function (_, i: number) {\n            return options.class + options.id + 'boundary' + i;\n          })\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time)\n          .attr('opacity', function () {\n            return options.display.game_boundaries ? 0.02 : 0;\n          })\n          .attr('transform', function (d: any) {\n            return 'translate(' + pointScale(d, 0, 0) + ', 0)';\n          })\n          .attr('height', yScale(-2))\n          .attr('width', function (d: any) {\n            return pointScale(d, 1, 1) - pointScale(d, 0, 0);\n          })\n          .attr('stroke', 'black')\n          .attr('stroke-width', 1)\n          .attr('fill', 'none');\n\n        // Game Boxes\n        const game_boxes = pts.selectAll('.' + options.class + 'Game').data(game_data);\n\n        game_boxes.exit().remove();\n\n        game_boxes\n          .enter()\n          .append('rect')\n          .attr('class', options.class + 'Game')\n          .merge(game_boxes)\n          .attr('id', function (_, i: number) {\n            return options.class + options.id + 'game' + i;\n          })\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time)\n          .attr('opacity', function () {\n            return options.display.game_boundaries ? 0.02 : 0;\n          })\n          .attr('transform', function (d: any) {\n            return 'translate(' + pointScale(d, 0, 0) + ', 0)';\n          })\n          .attr('height', yScale(-2))\n          .attr('width', function (d: any) {\n            return pointScale(d, 1, 1) - pointScale(d, 0, 0);\n          })\n          .attr('stroke', function (d: any) {\n            return options.colors.players[d.winner];\n          })\n          .attr('stroke-width', 1)\n          .attr('fill', function (d: any) {\n            return d.winner != undefined ? options.colors.players[d.winner] : 'none';\n          });\n\n        // Player PTS Lines\n        const lineGen = d3\n          .line()\n          .x(function (_, i: number) {\n            return xScale(i);\n          })\n          .y(function (d: number) {\n            return yScale(pts_max - d);\n          });\n\n        const pts_lines = pts.selectAll('.' + options.class + 'Line').data([0, 1]);\n\n        pts_lines.exit().remove();\n\n        pts_lines\n          .enter()\n          .append('path')\n          .attr('class', options.class + 'Line')\n          .attr('id', function (d) {\n            return options.class + options.id + 'player' + d + 'Line';\n          })\n          .attr('fill', 'none')\n          .merge(pts_lines)\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time / 2)\n          .style('opacity', 0.1)\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time / 2)\n          .style('opacity', 1)\n          .attr('stroke', function (d) {\n            return options.colors.players[d];\n          })\n          .attr('stroke-width', function () {\n            return options.lines.width;\n          })\n          // .attr('d', function(d) { return lineGen(player_data[d]) })\n          .attr('d', function (d) {\n            return lineGen(points_to_set.map((p) => p[d]));\n          });\n\n        const bp_data = [\n          points_to_set.map((p) => {\n            return { pts: p[0] };\n          }),\n          points_to_set.map((p) => {\n            return { pts: p[1] };\n          })\n        ];\n        const bp_wrappers = pts.selectAll('.' + options.class + 'BPWrapper').data(bp_data);\n\n        bp_wrappers\n          .enter()\n          .append('g')\n          .attr('class', options.class + 'BPWrapper');\n\n        bp_wrappers.exit().remove();\n\n        const breakpoints = bp_wrappers.selectAll('.' + options.class + 'Breakpoint').data(function (d, i) {\n          return add_index(d, i);\n        });\n\n        breakpoints.exit().attr('opacity', '0').remove();\n\n        breakpoints\n          .enter()\n          .append('circle')\n          .attr('class', options.class + 'Breakpoint')\n          .attr('opacity', '0')\n          .merge(breakpoints)\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time / 2)\n          .style('opacity', 0)\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time / 2)\n          .attr('fill', function (d, i) {\n            if (points[i - 1] && points[i - 1].point.breakpoint != undefined) {\n              return options.colors.players[d._i];\n            }\n          })\n          .style('opacity', function (d, i) {\n            if (points[i - 1] && points[i - 1].point.breakpoint != undefined) {\n              // return points[i - 1].point.breakpoint == d._i ? 1 : 0\n              return points[i - 1].point.server == 1 - d._i ? 1 : 0;\n            }\n          })\n          .attr('cx', function (_, i: number) {\n            return xScale(i);\n          })\n          .attr('cy', function (d: any) {\n            return yScale(pts_max - d.pts);\n          })\n          .attr('r', 2);\n\n        const points_index = d3.range(points.length);\n        const barsX = d3\n          .scaleBand()\n          .domain(points_index)\n          .range([0, xScale(points.length)])\n          .round(true);\n\n        const bX = d3\n          .scaleLinear()\n          .domain([0, points.length])\n          .range([0, xScale(points.length)]);\n\n        // gradients cause hover errors when data is replaced\n        pts.selectAll('.gradient' + options.id).remove();\n\n        const gradients = pts.selectAll('.gradient' + options.id).data(d3.range(points.length)); // data not important, only length of array\n\n        gradients.exit().remove();\n\n        gradients\n          .enter()\n          .append('linearGradient')\n          .attr('id', function (_, i: number) {\n            return 'gradient' + options.id + i;\n          })\n          .attr('class', function () {\n            return 'gradient' + options.id;\n          })\n          .attr('gradientUnits', 'userSpaceOnUse')\n          .attr('x1', function () {\n            return barsX.bandwidth() / 2;\n          })\n          .attr('y1', function () {\n            return 0;\n          })\n          .attr('x2', function () {\n            return barsX.bandwidth() / 2;\n          })\n          .attr('y2', function () {\n            return yScale(-2);\n          })\n          .merge(gradients)\n          .attr('transform', function (_, i: number) {\n            return 'translate(' + bX(i) + ', 0)';\n          });\n\n        const point_stops = gradients.selectAll('.points_stop').data(function (d: any) {\n          return calcStops(points[d].point);\n        });\n\n        point_stops.exit().remove();\n\n        point_stops\n          .enter()\n          .append('stop')\n          .attr('class', 'points_stop')\n          .attr('offset', function (d) {\n            return d.offset;\n          })\n          .attr('stop-color', function (d) {\n            return d.color;\n          })\n          .merge(point_stops)\n          .attr('offset', function (d) {\n            return d.offset;\n          });\n\n        const point_bars = ptsHover.selectAll('.' + options.class + 'Bar').data(d3.range(points.length)); // data not important, only length of array\n\n        point_bars\n          .exit()\n          .transition()\n          .duration(resize ? 0 : options.display.transition_time)\n          .attr('opacity', '0')\n          .remove();\n\n        point_bars\n          .enter()\n          .append('line')\n          .attr('class', options.class + 'Bar')\n          .attr('opacity', '0')\n          .merge(point_bars)\n          .attr('opacity', '0')\n          .attr('transform', function (_, i: number) {\n            return 'translate(' + bX(i) + ', 0)';\n          })\n          .attr('x1', function () {\n            return barsX.bandwidth() / 2;\n          })\n          .attr('y1', function () {\n            return 0;\n          })\n          .attr('x2', function () {\n            return barsX.bandwidth() / 2;\n          })\n          .attr('y2', function () {\n            return yScale(-2);\n          })\n          .attr('stroke-width', function () {\n            return barsX.bandwidth();\n          })\n          .attr('stroke', function (_, i: number) {\n            return 'url(#gradient' + options.id + i + ')';\n          })\n          .attr('uid', function (_, i: number) {\n            return 'point' + i;\n          })\n          .on('mousemove', function (d: any, i: number, n: Node) {\n            if (options.display.point_highlighting) {\n              d3.select(n[i]).attr('opacity', options.display.point_opacity);\n            }\n            if (options.display.game_highlighting && points[i]) {\n              d3.select('[id=\"' + options.class + options.id + 'game' + points[i].point.game + '\"]').attr(\n                'opacity',\n                options.display.game_opacity\n              );\n            }\n            if (events.point_bars.mouseover) {\n              events.point_bars.mouseover(points[d], i);\n            }\n            if (d == 0) {\n              ptsHover.selectAll('.' + options.class + 'Bar').attr('opacity', options.display.point_opacity);\n            }\n            /** highlightScore(d, i); */\n          })\n          .on('mouseout', function (d, i) {\n            ptsHover.selectAll('.' + options.class + 'Bar').attr('opacity', 0);\n            pts.selectAll('.' + options.class + 'Game').attr('opacity', '0');\n            if (events.point_bars.mouseout) {\n              events.point_bars.mouseout(points[d], i);\n            }\n            displayScore();\n          })\n          .on('click', function (d: any, i: number, n: Node) {\n            if (events.point_bars.click) {\n              events.point_bars.click(points[d], i, n[i]);\n            }\n          });\n\n        function displayScore(resize?: boolean) {\n          const winner = set_data.winner();\n          const players = set_data.metadata.players();\n          function lastName(name) {\n            const split = name.split(' ');\n            return split[split.length - 1];\n          }\n          const legend =\n            winner != undefined ? players[winner].name : `${lastName(players[0].name)}/${lastName(players[1].name)}`;\n\n          set_winner\n            .transition()\n            .duration(resize ? 0 : options.display.transition_time)\n            .attr('opacity', 1)\n            .attr('fill', winner != undefined ? options.colors.players[winner] : 'black')\n            .text(legend);\n\n          const game_score = set_data.scoreboard(winner);\n          set_score\n            .transition()\n            .duration(resize ? 0 : options.display.transition_time)\n            .attr('opacity', 1)\n            .attr('fill', winner != undefined ? options.colors.players[winner] : 'black')\n            .text(game_score);\n        }\n\n        function calcStops(point) {\n          let win_pct = 0;\n          let err_pct = 0;\n          let u_pct = 0;\n\n          if (options.display.win_err_highlight) {\n            console.log('calcstops:', point);\n            const rally = point.rally;\n            const result = point.result;\n            const rally_pct = rally ? 100 - Math.floor((rally.length / longest_rally) * 100) : 100;\n            if (winners.indexOf(result) >= 0) {\n              win_pct = rally_pct;\n            } else if (errors.indexOf(result) >= 0) {\n              err_pct = rally_pct;\n            } else {\n              u_pct = rally_pct;\n            }\n          }\n\n          return [\n            { offset: '0%', color: 'blue' },\n            { offset: u_pct + '%', color: 'blue' },\n            { offset: u_pct + '%', color: 'green' },\n            { offset: u_pct + win_pct + '%', color: 'green' },\n            { offset: u_pct + win_pct + '%', color: 'red' },\n            { offset: u_pct + win_pct + err_pct + '%', color: 'red' },\n            { offset: u_pct + win_pct + err_pct + '%', color: options.colors.orientation },\n            { offset: '100%', color: options.colors.orientation }\n          ];\n        }\n      };\n    });\n  }\n\n  // REUSABLE functions\n  // ------------------\n\n  function add_index(d, i) {\n    for (const item of d) {\n      item['_i'] = i;\n    }\n    return d;\n  }\n\n  function boxWidth() {\n    const dl = set_data.history.points().filter((f) => f.set == options.id).length - 1;\n    return set_data.complete() ? dl : dl < options.set.average_points ? options.set.average_points : dl;\n  }\n\n  function calcWidth() {\n    const dl = set_data.history.points().filter((f) => f.set == options.id).length - 1;\n    return Math.max(dl, options.points.max_width_points, options.set.average_points);\n  }\n\n  function groupGames(point_episodes) {\n    const games: any = [{ points: [], range: [0, 0] }];\n    let game_counter = 0;\n    let current_game = 0;\n    point_episodes.forEach((episode) => {\n      const point = episode.point;\n      if (point.game != current_game) {\n        game_counter += 1;\n        current_game = point.game;\n        games[game_counter] = { points: [], range: [point.index, point.index] };\n      }\n      games[game_counter].points.push(point);\n      games[game_counter].index = game_counter;\n      games[game_counter].set = episode.set.index;\n      games[game_counter].score = episode.game.games;\n      games[game_counter].complete = episode.game.complete;\n      games[game_counter].range[1] = point.index;\n      if (episode.game.complete) {\n        games[game_counter].winner = point.winner;\n      }\n    });\n    return games;\n  }\n\n  // ACCESSORS\n\n  // allows updating individual options and suboptions\n  // while preserving state of other options\n  chart.options = function (values) {\n    if (!arguments.length) return options;\n    const vKeys = Object.keys(values);\n    const oKeys = Object.keys(options);\n    for (const vKey of vKeys) {\n      if (oKeys.indexOf(vKey) >= 0) {\n        if (typeof options[vKey] == 'object') {\n          const sKeys = Object.keys(values[vKey]);\n          const osKeys = Object.keys(options[vKey]);\n          for (const sKey of sKeys) {\n            if (osKeys.indexOf(sKey) >= 0) {\n              options[vKey][sKey] = values[vKey][sKey];\n            }\n          }\n        } else {\n          options[vKey] = values[vKey];\n        }\n      }\n    }\n    return chart;\n  };\n\n  chart.data = function (set_object) {\n    if (!arguments.length) return set_data;\n    set_data = set_object;\n  };\n\n  chart.events = function (functions) {\n    if (!arguments.length) return events;\n    const fKeys = Object.keys(functions);\n    const eKeys = Object.keys(events);\n    for (const fKey of fKeys) {\n      if (eKeys.indexOf(fKey) >= 0) events[fKey] = functions[fKey];\n    }\n    return chart;\n  };\n\n  chart.colors = function (colores) {\n    if (!arguments.length) return options.colors;\n    options.colors.players = colores;\n    return chart;\n  };\n\n  chart.width = function (value) {\n    if (!arguments.length) return options.width;\n    options.width = value;\n    return chart;\n  };\n\n  chart.height = function (value) {\n    if (!arguments.length) return options.height;\n    options.height = value;\n    return chart;\n  };\n\n  chart.update = function (opts) {\n    if (events.update.begin) events.update.begin();\n    if (typeof update === 'function') update(opts);\n    setTimeout(function () {\n      if (events.update.end) events.update.end();\n    }, options.display.transition_time);\n    return true;\n  };\n\n  chart.duration = function (value) {\n    if (!arguments.length) return options.display.transition_time;\n    options.display.transition_time = value;\n    return chart;\n  };\n\n  return chart;\n}\n","import { changeDisplay, viewManager } from './viewManager';\nimport { charts, env, setOrientation } from './env';\nimport { momentumChart } from './momentumChart';\nimport { groupGames } from './groupGames';\nimport { gameTree } from './gameTree';\nimport { ptsMatch } from './ptsChart';\nimport { gameFish } from './gameFish';\n\nimport * as d3 from 'd3';\n\nexport function configureViz() {\n  // set up momentum\n  let pcolors: any = ['#a55194', '#6b6ecf'];\n  charts.mc = momentumChart();\n  charts.mc.options({\n    display: {\n      sizeToFit: false,\n      continuous: false,\n      orientation: 'vertical',\n      transition_time: 0,\n      service: false,\n      rally: true,\n      player: false,\n      grid: false,\n      score: true\n    },\n    colors: pcolors\n  });\n  charts.mc.events({ score: { click: showGame } });\n  d3.select('#momentumChart').call(charts.mc);\n\n  // set up gameFish\n  pcolors = { players: ['#a55194', '#6b6ecf'] };\n  charts.gamefish = gameFish();\n  charts.gamefish.options({\n    display: { sizeToFit: true },\n    colors: pcolors\n  });\n  d3.select('#gameFishChart').call(charts.gamefish);\n\n  // set up gametree\n  charts.gametree = gameTree();\n  const options = {\n    display: { sizeToFit: true },\n    lines: {\n      points: { winners: 'green', errors: '#BA1212', unknown: '#2ed2db' },\n      colors: { underlines: 'black' }\n    },\n    nodes: {\n      colors: {\n        0: pcolors.players[0],\n        1: pcolors.players[1],\n        neutral: '#ecf0f1'\n      }\n    },\n    selectors: {\n      enabled: true,\n      selected: { 0: false, 1: false }\n    }\n  };\n  charts.gametree.options(options);\n  d3.select('#gameTreeChart').call(charts.gametree);\n\n  charts.pts_match = ptsMatch();\n  charts.pts_match.options({\n    margins: { top: 40, bottom: 20 },\n    display: { sizeToFit: true }\n  });\n  charts.pts_match.data(env.match);\n  d3.select('#PTSChart').call(charts.pts_match);\n}\n\nfunction showGame(d: any) {\n  showGameFish(d.index);\n}\nexport function closeGameFish() {\n  const gFish = document.getElementById('gamefish');\n  if (gFish) gFish.style.display = 'none';\n}\nexport function showGameFish(index?: number) {\n  const gFish = document.getElementById('gamefish');\n  if (gFish) gFish.style.display = 'flex';\n  const games = groupGames();\n  const game = index != undefined ? games[index] : games[games.length - 1];\n  const gridcells = game.points[0].tiebreak ? ['0', '1', '2', '3', '4', '5', '6', '7'] : ['0', '15', '30', '40', 'G'];\n  charts.gamefish.options({\n    display: { reverse: env.swap_sides },\n    fish: {\n      gridcells: gridcells,\n      cell_size: 20\n    },\n    score: game.score\n  });\n  charts.gamefish.data(game.points).update();\n  window.scrollTo(0, 0);\n}\n\nexport function vizUpdate() {\n  const direction = env.orientation == 'landscape' ? 'horizontal' : 'vertical';\n\n  if (env.view == 'pts' && direction == 'vertical') {\n    changeDisplay('none', 'pts');\n    changeDisplay('inline', 'momentum');\n    charts.mc.width(window.innerWidth).height(820);\n    charts.mc.update();\n    env.view = 'momentum';\n  } else if (env.view == 'momentum' && direction == 'horizontal') {\n    changeDisplay('none', 'momentum');\n    changeDisplay('flex', 'pts');\n    charts.pts_match.update({ sizeToFit: true });\n    env.view = 'pts';\n  }\n\n  if (charts.gamefish) charts.gamefish.update();\n\n  const players = env.match.metadata.players();\n\n  if (charts.gametree) {\n    charts.gametree.options({\n      labels: {\n        Player: players[0].name,\n        Opponent: players[1].name\n      }\n    });\n    charts.gametree.update({ sizeToFit: true });\n  }\n}\n\nexport function orientationEvent() {\n  setOrientation();\n  vizUpdate();\n  viewManager();\n}\n","export function setWindow() {\n  // to disable context menu on the page\n  document.oncontextmenu = () => false;\n  window.addEventListener(\n    'contextmenu',\n    (e) => {\n      e.preventDefault();\n    },\n    false\n  );\n  window.onunhandledrejection = (windowEvent) => {\n    windowEvent.preventDefault();\n    const reason = windowEvent.reason;\n    const message = reason && (reason.stack || reason);\n    if (message && message.indexOf('blocked') > 0) {\n      console.warn('popup blocked');\n    } else {\n      console.warn('Unhandled rejection:', reason && (reason.stack || reason));\n    }\n  };\n}\n","export const version = '@VERSION@';\n","import { browserStorage } from '../transition/browserStorage';\nimport { setWindow } from './setWindow';\nimport { env } from '../transition/env';\nimport { version } from './version';\n\nimport 'bulma/css/bulma.css';\nimport '../transition/css/courtHive.css';\nimport '../transition/css/swipeList.css';\nimport '../transition/css/icons.css';\n\nexport function setInitialState() {\n  console.log(`%cversion: ${version}`, 'color: lightblue');\n  const provider = browserStorage.get('mobile-provider');\n  if (provider) {\n    env.provider = provider;\n    const target: any = document.getElementById(`provider`);\n    if (target) target.value = provider;\n  }\n  setWindow();\n}\n","export function getJwtTokenStorageKey(): string {\n  const TOKEN_NAME = 'tmxToken';\n  if (!TOKEN_NAME) throw new Error('Token storage name not defined!');\n\n  return TOKEN_NAME;\n}\n","import { broadcastToggle } from './coms';\n\nimport * as d3 from 'd3';\n\nexport function pulseCircle() {\n  let width: number; // in pixels\n  let height: number; // in pixels\n  let radius = 50;\n  let duration = 1000;\n  const stroke = 'black';\n  let pulse_circles = 5;\n  let stroke_width = 10;\n  let delay_multiplier = 150;\n  let color_range = ['white', 'blue'];\n  const margins = { top: 0, right: 0, bottom: 0, left: 0 };\n\n  function pulseCircle(selection: any) {\n    const dims = selection.node().getBoundingClientRect();\n    if (!height || !width) {\n      radius = Math.min(width || dims.width, dims.width, height || dims.height, dims.height) * 0.45;\n      stroke_width = radius / 3;\n    }\n    width = width || dims.width;\n    height = height || dims.height;\n\n    if (!height || !width) return;\n\n    const color = d3.scaleLinear().domain([100, 0]).range(color_range).interpolate(d3.interpolateHcl);\n\n    const colorFill = function (d: number) {\n      return color(Math.abs((d % 20) - 10));\n    };\n\n    const y = d3.scalePoint().domain(d3.range(pulse_circles)).range([0, height]);\n\n    /*\n    const z = d3\n      .scaleLinear()\n      .domain([10, 0])\n      .range(['hsl(240, 90%, 100%)', 'hsl(240,90%,40%)'])\n      .interpolate(d3.interpolateHcl);\n      */\n\n    const svg = selection.append('svg').attr('width', width).attr('height', height);\n\n    const g = svg.append('g').attr('transform', 'translate(' + margins.left + ',' + margins.top + ')');\n\n    g.selectAll('circle')\n      .data(y.domain())\n      .enter()\n      .append('circle')\n      .attr('fill', '#000')\n      .attr('stroke', stroke)\n      .attr('stroke-width', stroke_width + 'px')\n      .attr('r', 0)\n      .attr('cx', width / 2)\n      .attr('cy', height / 2)\n      .style('fill', colorFill)\n      .on('click', broadcastToggle)\n      .transition()\n      .duration(duration)\n      .delay((d: number) => {\n        return d * delay_multiplier;\n      })\n      .on('start', function repeat(_, i: number, n: any) {\n        d3.active(n[i])\n          .attr('r', radius)\n          .attr('stroke-width', '0px')\n          .transition()\n          .attr('r', 0)\n          .attr('stroke-width', stroke_width + 'px')\n          .transition()\n          .on('start', repeat);\n      });\n  }\n\n  pulseCircle.height = (d: number) => {\n    return d ? ((height = d), pulseCircle) : height;\n  };\n  pulseCircle.width = (d: number) => {\n    return d ? ((width = d), pulseCircle) : width;\n  };\n  pulseCircle.duration = (d: number) => {\n    return d ? ((duration = d), pulseCircle) : duration;\n  };\n  pulseCircle.pulse_circles = (d: number) => {\n    return d ? ((pulse_circles = d), pulseCircle) : pulse_circles;\n  };\n  pulseCircle.radius = (d: number) => {\n    return d ? ((radius = d), pulseCircle) : radius;\n  };\n  pulseCircle.delay_multiplier = (d: number) => {\n    return d ? ((delay_multiplier = d), pulseCircle) : delay_multiplier;\n  };\n  pulseCircle.stroke_width = (d: number) => {\n    return d ? ((stroke_width = d), pulseCircle) : stroke_width;\n  };\n  pulseCircle.color_range = (d: any) => {\n    return d ? ((color_range = d), pulseCircle) : color_range;\n  };\n\n  return pulseCircle;\n}\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n};\nfunction toArray(data) {\n    if (data instanceof Uint8Array) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n    }\n    else {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n    }\n}\nlet TEXT_ENCODER;\nexport function encodePacketToBinary(packet, callback) {\n    if (withNativeBlob && packet.data instanceof Blob) {\n        return packet.data\n            .arrayBuffer()\n            .then(toArray)\n            .then(callback);\n    }\n    else if (withNativeArrayBuffer &&\n        (packet.data instanceof ArrayBuffer || isView(packet.data))) {\n        return callback(toArray(packet.data));\n    }\n    encodePacket(packet, false, encoded => {\n        if (!TEXT_ENCODER) {\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\nexport { encodePacket };\n","// imported from https://github.com/socketio/base64-arraybuffer\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nexport const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type]\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            if (data instanceof Blob) {\n                // from WebSocket + binaryType \"blob\"\n                return data;\n            }\n            else {\n                // from HTTP long-polling or WebTransport\n                return new Blob([data]);\n            }\n        case \"arraybuffer\":\n        default:\n            if (data instanceof ArrayBuffer) {\n                // from HTTP long-polling (base64) or WebSocket + binaryType \"arraybuffer\"\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n    }\n};\n","import { encodePacket, encodePacketToBinary } from \"./encodePacket.js\";\nimport { decodePacket } from \"./decodePacket.js\";\nimport { ERROR_PACKET } from \"./commons.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport function createPacketEncoderStream() {\n    return new TransformStream({\n        transform(packet, controller) {\n            encodePacketToBinary(packet, encodedPacket => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        }\n    });\n}\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nexport function createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* READ_PAYLOAD */;\n                }\n                else if (state === 2 /* READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue(decodePacket(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(ERROR_PACKET);\n                    break;\n                }\n            }\n        }\n    });\n}\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload };\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","export const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\n","import { globalThisShim as globalThis } from \"./globalThis.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nimport { encode } from \"./contrib/parseqs.js\";\nexport class TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = encode(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n","// imported from https://github.com/unshiftio/yeast\n'use strict';\nconst alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''), length = 64, map = {};\nlet seed = 0, i = 0, prev;\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nexport function encode(num) {\n    let encoded = '';\n    do {\n        encoded = alphabet[num % length] + encoded;\n        num = Math.floor(num / length);\n    } while (num > 0);\n    return encoded;\n}\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nexport function decode(str) {\n    let decoded = 0;\n    for (i = 0; i < str.length; i++) {\n        decoded = decoded * length + map[str.charAt(i)];\n    }\n    return decoded;\n}\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nexport function yeast() {\n    const now = encode(+new Date());\n    if (now !== prev)\n        return seed = 0, prev = now;\n    return now + '.' + encode(seed++);\n}\n//\n// Map each character to its index.\n//\nfor (; i < length; i++)\n    map[alphabet[i]] = i;\n","// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n","// browser shim for xmlhttprequest module\nimport { hasCORS } from \"../contrib/has-cors.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nexport function XHR(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\nexport function createCookieJar() { }\n","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nimport { createCookieJar, XHR as XMLHttpRequest, } from \"./xmlhttprequest.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new XMLHttpRequest({\n        xdomain: false,\n    });\n    return null != xhr.responseType;\n})();\nexport class Polling extends Transport {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        this.polling = false;\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n        if (this.opts.withCredentials) {\n            this.cookieJar = createCookieJar();\n        }\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    poll() {\n        this.polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, cookieJar: this.cookieJar }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(uri, opts) {\n        super();\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    create() {\n        var _a;\n        const opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        const xhr = (this.xhr = new XMLHttpRequest(opts));\n        try {\n            xhr.open(this.method, this.uri, true);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(xhr);\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    onError(err) {\n        this.emitReserved(\"error\", err, this.xhr);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this.cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","import { globalThisShim as globalThis } from \"../globalThis.js\";\nexport const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return (cb) => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const WebSocket = globalThis.WebSocket || globalThis.MozWebSocket;\nexport const usingBrowserWebSocket = true;\nexport const defaultBinaryType = \"arraybuffer\";\n","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { pick } from \"../util.js\";\nimport { nextTick, usingBrowserWebSocket, WebSocket, } from \"./websocket-constructor.js\";\nimport { encodePacket } from \"engine.io-parser\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class WS extends Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @param {Object} opts - connection options\n     * @protected\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new WebSocket(uri, protocols)\n                        : new WebSocket(uri)\n                    : new WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \n                        // @ts-ignore\n                        \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @private\n     */\n    check() {\n        return !!WebSocket;\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { nextTick } from \"./websocket-constructor.js\";\nimport { createPacketDecoderStream, createPacketEncoderStream, } from \"engine.io-parser\";\nexport class WT extends Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        // @ts-ignore\n        if (typeof WebTransport !== \"function\") {\n            return;\n        }\n        // @ts-ignore\n        this.transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        this.transport.closed\n            .then(() => {\n            this.onClose();\n        })\n            .catch((err) => {\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this.transport.ready.then(() => {\n            this.transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = createPacketDecoderStream(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = createPacketEncoderStream();\n                encoderStream.readable.pipeTo(stream.writable);\n                this.writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            return;\n                        }\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this.writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this.writer.write(packet).then(() => {\n                if (lastPacket) {\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this.transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n","import { Polling } from \"./polling.js\";\nimport { WS } from \"./websocket.js\";\nimport { WT } from \"./webtransport.js\";\nexport const transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: Polling,\n};\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    if (str.length > 2000) {\n        throw \"URI too long\";\n    }\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nimport { defaultBinaryType } from \"./transports/websocket-constructor.js\";\nexport class Socket extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts = {}) {\n        super();\n        this.binaryType = defaultBinaryType;\n        this.writeBuffer = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = parse(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\n            \"polling\",\n            \"websocket\",\n            \"webtransport\",\n        ];\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this.beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        return new transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", (reason) => this.onClose(\"transport close\", reason));\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this.upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            this.resetPingTimeout();\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this.getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    getWritablePackets() {\n        const shouldCheckPayloadSize = this.maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this.maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    onError(err) {\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nSocket.protocol = protocol;\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n        }\n        else if (this.connected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        // the timeout flag is optional\n        const withErr = this.flags.timeout !== undefined || this._opts.ackTimeout !== undefined;\n        return new Promise((resolve, reject) => {\n            args.push((arg1, arg2) => {\n                if (withErr) {\n                    return arg1 ? reject(arg1) : resolve(arg2);\n                }\n                else {\n                    return resolve(arg1);\n                }\n            });\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\n","import { attemptJSONparse, formatDate, getOpponents, showModal } from './utilities';\nimport { getJwtTokenStorageKey } from '../config/getJwtTokenStorageKey';\nimport { app, env, updateAppState, updateMatchArchive } from './env';\nimport { loadDetails, stateChangeEvent } from './displayUpdate';\nimport { resetMatch } from './displayMatchArchive';\nimport { browserStorage } from './browserStorage';\nimport { viewManager } from './viewManager';\nimport { pulseCircle } from './pulseCircle';\nimport { version } from '../config/version';\nimport { connect } from 'socket.io-client';\nimport { closeModal } from './modals';\nimport * as d3 from 'd3';\n\ntype ComsObject = {\n  socket: any;\n};\n\nfunction getAuthorization() {\n  const token = browserStorage.get(getJwtTokenStorageKey());\n  if (!token) return undefined;\n  const authorization = `Bearer ${token}`;\n  return { authorization };\n}\n\nexport const coms: ComsObject = {\n  socket: undefined,\n};\n\nexport function connectSocket() {\n  if ((navigator.onLine || window.location.hostname == 'localhost') && !coms.socket) {\n    const server =\n      window.location.hostname.startsWith('localhost') || window.location.hostname === '127.0.0.1'\n        ? 'http://127.0.0.1:8383'\n        : window.location.hostname;\n    const connectionString = `${server}/mobile`;\n    const connectionOptions: any = {\n      transportOptions: { polling: { extraHeaders: getAuthorization() } },\n      reconnectionAttempts: 'Infinity',\n      'force new connection': true,\n      reconnectionDelay: 1000,\n      timeout: 20000,\n    };\n    coms.socket = connect(connectionString, connectionOptions);\n    if (coms.socket) {\n      coms.socket.on('connect', comsConnect);\n      coms.socket.on('ack', (ack) => console.log({ ack }));\n      coms.socket.on('disconnect', comsDisconnect);\n      coms.socket.on('connect_error', comsError);\n      coms.socket.on('history request', sendHistory);\n      coms.socket.on('tmx message', receiveMatchUp);\n      coms.socket.on('exception', (exeption) => console.log(exeption));\n      coms.socket.on('success', (message) => console.log(message));\n    }\n  }\n}\n\nexport function disconnectSocket() {\n  if (coms.socket) {\n    coms.socket.disconnect();\n    coms.socket = undefined;\n  }\n}\n\nexport function sendHistory() {\n  connectSocket();\n  if (coms.socket) {\n    const match = env.match.metadata.defineMatch();\n    const payload = {\n      matchUp: {\n        tournament: env.match.metadata.defineTournament(),\n        first_service: env.match.set.firstService(),\n        players: env.match.metadata.players(),\n        format: env.match.format.settings(),\n        scoreboard: env.match.scoreboard(),\n        points: env.match.history.points(),\n        provider: env.provider,\n        matchUpId: match.muid,\n        ch_version: version,\n        match,\n      },\n    };\n    if (match.muid) coms.socket.emit('mh', { type: 'history', payload });\n  }\n  closeModal();\n}\n\nfunction comsConnect() {\n  console.log('connect');\n}\nfunction comsDisconnect() {\n  console.log('socket closed');\n}\nfunction comsError() {\n  showModal(` <p> <h1>No Internet Connection!</h1>`);\n  endBroadcast();\n}\n\nfunction receiveMatchUp(data: any) {\n  if (!data?.matchUpId) {\n    const message = `<h2>Invalid Data</h2>`;\n    return showModal(message);\n  }\n\n  const auth_match = attemptJSONparse(data.data);\n\n  updateMatchArchive();\n  resetMatch(auth_match.match.muid);\n\n  env.match.metadata.defineTournament({\n    name: auth_match.tournament.name,\n    tuid: auth_match.tournament.tuid,\n    start_date: formatDate(auth_match.tournament.start),\n  });\n\n  env.match.metadata.defineMatch({\n    euid: auth_match.event.euid,\n  });\n\n  const format = auth_match.teams && 2 === auth_match.teams[0].length ? 'doubles' : 'singles';\n  const teams = getOpponents({\n    sides: auth_match.teams,\n    format,\n  });\n  env.match.metadata.definePlayer({ index: 0, name: teams[0] });\n  env.match.metadata.definePlayer({ index: 1, name: teams[1] });\n\n  const surface: any = auth_match.event.surface;\n  if (surface) {\n    const surfaces: any = {\n      C: 'clay',\n      H: 'hard',\n      G: 'grass',\n    };\n    if (surfaces[surface]) {\n      env.match.metadata.defineTournament({ surface: surfaces[surface] });\n    }\n  }\n\n  const in_out = auth_match.event.inout;\n  if (in_out) {\n    const inout: any = {\n      o: 'out',\n      i: 'in',\n    };\n    if (inout[in_out]) {\n      env.match.metadata.defineTournament({ in_out: inout[in_out] });\n    }\n  }\n\n  loadDetails();\n  stateChangeEvent();\n  viewManager('entry');\n}\n\nexport function broadcasting() {\n  if (app.broadcast && coms.socket) return true;\n  if (app.broadcast) {\n    connectSocket();\n  }\n  return false;\n}\n\nexport function startBroadcast() {\n  connectSocket();\n  //@ts-expect-error unknown reason\n  const pc: any = pulseCircle().color_range(['white', 'white']).height(60).width(60).radius(28).stroke_width(5);\n  d3.select('#startpulse').style('display', 'none');\n  d3.select('#pulse').style('display', 'block').call(pc);\n}\n\nfunction endBroadcast() {\n  app.broadcast = false;\n  d3.select('#startpulse').style('display', 'flex');\n  d3.select('#pulse').style('display', 'none').selectAll('svg').remove();\n  disconnectSocket();\n}\n\nexport function sendKey(payload: any) {\n  Object.assign(payload, {\n    timestamp: new Date().getTime(),\n    uuuid: app.user_uuid,\n  });\n  if (coms.socket) {\n    coms.socket.emit('mh', { type: 'key', payload });\n    closeModal();\n  } else {\n    const modaltext = ` <p> <h1>Not connected</h1> <p><i>Connection Error</i></p> </p> `;\n    showModal(modaltext);\n  }\n}\n\nexport function broadcastToggle() {\n  app.broadcast = !app.broadcast;\n  if (app.broadcast) {\n    startBroadcast();\n  } else {\n    endBroadcast();\n  }\n  updateAppState();\n}\n\nexport function broadcastStatus(status: string) {\n  if (broadcasting()) {\n    const muid = env.match.metadata.defineMatch().muid;\n    const data: any = { muid, status };\n    const tournament = env.match.metadata.defineTournament();\n    data.tuid = tournament.tuid || tournament.name;\n    coms.socket.emit('mh', { type: 'status', payload: data });\n  }\n}\n","export class InvalidTokenError extends Error {\n}\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).replace(/(.)/g, (m, p) => {\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n        return \"%\" + code;\n    }));\n}\nfunction base64UrlDecode(str) {\n    let output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"base64 string is not of the correct length\");\n    }\n    try {\n        return b64DecodeUnicode(output);\n    }\n    catch (err) {\n        return atob(output);\n    }\n}\nexport function jwtDecode(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: must be a string\");\n    }\n    options || (options = {});\n    const pos = options.header === true ? 0 : 1;\n    const part = token.split(\".\")[pos];\n    if (typeof part !== \"string\") {\n        throw new InvalidTokenError(`Invalid token specified: missing part #${pos + 1}`);\n    }\n    let decoded;\n    try {\n        decoded = base64UrlDecode(part);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${pos + 1} (${e.message})`);\n    }\n    try {\n        return JSON.parse(decoded);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid json for part #${pos + 1} (${e.message})`);\n    }\n}\n","import { jwtDecode } from 'jwt-decode';\n\nexport function validateToken(token) {\n  if (!token || token === 'undefined') {\n    return undefined;\n  }\n\n  const decodedToken = jwtDecode(token);\n  const dateNow = new Date();\n\n  const tokenExpired = decodedToken?.exp < dateNow.getTime() / 1000;\n  if (tokenExpired) return undefined;\n\n  return decodedToken;\n}\n","import { coms, connectSocket, disconnectSocket } from '../../transition/coms';\nimport { getJwtTokenStorageKey } from '../../config/getJwtTokenStorageKey';\nimport { browserStorage } from '../../transition/browserStorage';\nimport { validateToken } from './validateToken';\n\nconst JWT_TOKEN_STORAGE_NAME = getJwtTokenStorageKey();\n\nexport function getLoginState() {\n  const token = browserStorage.get(JWT_TOKEN_STORAGE_NAME);\n  return validateToken(token);\n}\nexport function logOut() {\n  browserStorage.remove(JWT_TOKEN_STORAGE_NAME);\n  if (coms.socket) {\n    disconnectSocket();\n    connectSocket();\n  }\n}\n\nexport function logIn({ data }) {\n  const decodedToken = validateToken(data.token);\n  if (decodedToken) {\n    browserStorage.set(JWT_TOKEN_STORAGE_NAME, data.token);\n    disconnectSocket();\n    connectSocket();\n    console.log({ intent: 'is-success', message: 'Login successful' });\n  }\n}\n","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  value = +value;\n  return Number.isFinite(value) ? value : defaultValue;\n}\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz'\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n}\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  while (size--) {\n    str += alphabet[Math.random() * length|0]\n  }\n\n  return str;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  ALPHABET,\n  generateString,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  response && (this.response = response);\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?object} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = (\n  (product) => {\n    return hasBrowserEnv && ['ReactNative', 'NativeScript', 'NS'].indexOf(product) < 0\n  })(typeof navigator !== 'undefined' && navigator.product);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      if (!hasJSONContentType) {\n        return data;\n      }\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils.isString(path) && cookie.push('path=' + path);\n\n      utils.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\nimport utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n// Standard browser envs have full support of the APIs needed to test\n// whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    const msie = /(msie|trident)/i.test(navigator.userAgent);\n    const urlParsingNode = document.createElement('a');\n    let originURL;\n\n    /**\n    * Parse a URL to discover its components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      let href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n          urlParsingNode.pathname :\n          '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      const parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n          parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })();\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","'use strict';\n\nimport utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport cookies from './../helpers/cookies.js';\nimport buildURL from './../helpers/buildURL.js';\nimport buildFullPath from '../core/buildFullPath.js';\nimport isURLSameOrigin from './../helpers/isURLSameOrigin.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport speedometer from '../helpers/speedometer.js';\n\nfunction progressEventReducer(listener, isDownloadStream) {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e\n    };\n\n    data[isDownloadStream ? 'download' : 'upload'] = true;\n\n    listener(data);\n  };\n}\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    let requestData = config.data;\n    const requestHeaders = AxiosHeaders.from(config.headers).normalize();\n    let {responseType, withXSRFToken} = config;\n    let onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    let contentType;\n\n    if (utils.isFormData(requestData)) {\n      if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n        requestHeaders.setContentType(false); // Let the browser set it\n      } else if ((contentType = requestHeaders.getContentType()) !== false) {\n        // fix semicolon duplication issue for ReactNative FormData implementation\n        const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n        requestHeaders.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n      }\n    }\n\n    let request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.set('Authorization', 'Basic ' + btoa(username + ':' + password));\n    }\n\n    const fullPath = buildFullPath(config.baseURL, config.url);\n\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if(platform.hasStandardBrowserEnv) {\n      withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(config));\n\n      if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(fullPath))) {\n        // Add xsrf header\n        const xsrfValue = config.xsrfHeaderName && config.xsrfCookieName && cookies.read(config.xsrfCookieName);\n\n        if (xsrfValue) {\n          requestHeaders.set(config.xsrfHeaderName, xsrfValue);\n        }\n      }\n    }\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', progressEventReducer(config.onDownloadProgress, true));\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', progressEventReducer(config.onUploadProgress));\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(fullPath);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? thing.toJSON() : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b) => mergeDeepProperties(headersToObject(a), headersToObject(b), true)\n  };\n\n  utils.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","export const VERSION = \"1.6.5\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","import { getJwtTokenStorageKey } from '../../config/getJwtTokenStorageKey';\nimport { browserStorage } from '../../transition/browserStorage';\nimport axios from 'axios';\n\nconst JWT_TOKEN_STORAGE_NAME = getJwtTokenStorageKey();\n// const baseURL = window.location.host;\nconst baseURL = 'http://localhost:8383';\nconst axiosInstance = axios.create({ baseURL });\n\naxiosInstance.interceptors.request.use(\n  (config) => {\n    const token = browserStorage.get(JWT_TOKEN_STORAGE_NAME);\n    if (token) {\n      config.headers.common.authorization = `Bearer ${token}`;\n    }\n\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  },\n);\n\naxiosInstance.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (error.message === 'Network Error') {\n      console.log({ message: error.message, intent: 'is-danger' });\n    }\n    if (error.response) {\n      if (error.response?.status === 401) removeAuthorization();\n      const message = error.response.data.message || error.response.data.error || error.response.data;\n      console.log({ message, intent: 'is-danger' });\n    }\n  },\n);\n\nconst addAuthorization = () => {\n  const token = browserStorage.get(JWT_TOKEN_STORAGE_NAME);\n  if (token) {\n    axiosInstance.defaults.headers.common.authorization = `Bearer ${token}`;\n  }\n};\n\nconst removeAuthorization = () => {\n  axiosInstance.defaults.headers.common.authorization = undefined;\n};\n\nexport const baseApi: any = {\n  ...axiosInstance,\n  removeAuthorization,\n  addAuthorization,\n};\n","import { logIn } from '../auth/loginState';\nimport { baseApi } from './baseApi';\n\nasync function systemLogin(email, password) {\n  return baseApi.post('/auth/login', {\n    password,\n    email,\n  });\n}\n\nexport function submitCredentials({ email, password }) {\n  const response = (res) => {\n    res?.status === 200 && logIn(res);\n  };\n  systemLogin(email, password).then(response, (err) => console.log({ err }));\n}\n","import { coms, connectSocket, disconnectSocket, sendHistory } from '../../transition/coms';\nimport { viewManager } from '../../transition/viewManager';\nimport { submitCredentials } from '../messaging/authApi';\nimport { app, env } from '../../transition/env';\nimport { version } from '../../config/version';\nimport { logOut } from '../auth/loginState';\n\nexport function setDev() {\n  window['dev'] = {\n    submitCredentials,\n    disconnectSocket,\n    connectSocket,\n    sendHistory,\n    viewManager,\n    version,\n    logOut,\n    coms,\n    app,\n    env,\n  };\n}\n","import { env, updateMatchArchive } from './env';\n\nexport function updateTournamentDetails() {\n  const tournament = {};\n  let attributes = ['surface', 'in_out', 'draw', 'draw_size', 'round'];\n\n  attributes.forEach((attribute) => {\n    const target_id = `tournament_${attribute}`;\n    const obj: any = document.getElementById(target_id);\n    if (obj.selectedIndex >= 0) {\n      const value = obj.options[obj.selectedIndex].value;\n      if (value) tournament[attribute] = value;\n    }\n  });\n\n  attributes = ['name', 'start_date', 'tour', 'rank'];\n  attributes.forEach((attribute) => {\n    const target: any = document.getElementById(`tournament_${attribute}`);\n    const value = target.value;\n    if (value) tournament[attribute] = value.trim();\n  });\n  env.match.metadata.defineTournament(tournament);\n  updateMatchArchive();\n}\n","import { env, updateMatchArchive } from './env';\n\nexport function updateMatchDetails() {\n  const match_details = {};\n  const attributes = ['court', 'umpire'];\n  attributes.forEach((attribute) => {\n    const target: any = document.getElementById(`match_${attribute}`);\n    const value = target.value;\n    if (value) match_details[attribute] = value;\n  });\n  env.match.metadata.defineMatch(match_details);\n  updateMatchArchive();\n}\n","import { updateTournamentDetails } from './updateTournamentDetails';\nimport { updateMatchDetails } from './updateMatchDetails';\nimport { browserStorage } from './browserStorage';\nimport { env } from './env';\n\nexport function updateDetails() {\n  updateTournamentDetails();\n  updateMatchDetails();\n  const target: any = document.getElementById(`provider`);\n  const value = target.value;\n  env.provider = value;\n\n  if (value) {\n    browserStorage.set('mobile-provider', value);\n  }\n}\n","let touchTimer: any;\nconst em: any = {\n  elapsed: 100000,\n  held: undefined,\n  touched: undefined,\n  holdTime: 800,\n  holdAction: undefined,\n  holdActions: {}\n};\nconst keys: any = {};\nlet registeredFunctions: any = {};\nconst intersection = (a: any, b: any) =>\n  a.filter((n: any) => b.indexOf(n) !== -1).filter((e: any, i: any, c: any) => c.indexOf(e) === i);\n\nem.reset = () => {\n  registeredFunctions = {};\n  return em;\n};\n\nem.register = (cls: any, evnt: any, fx: any, delay: any) => {\n  if (typeof fx == 'function') {\n    if (!registeredFunctions[evnt]) {\n      registeredFunctions[evnt] = {};\n      keys[evnt] = [];\n    }\n    registeredFunctions[evnt][cls] = { fx, delay };\n    keys[evnt] = Object.keys(registeredFunctions[evnt]);\n  }\n  return em;\n};\n\nem.deRegister = (cls: any, evnt: any) => {\n  if (registeredFunctions[evnt]) {\n    delete registeredFunctions[evnt][cls];\n    keys[evnt] = Object.keys(registeredFunctions[evnt]);\n  }\n  return em;\n};\n\nem.call = (cls: any, evnt: any, ...args: any) => {\n  return registeredFunctions?.[evnt]?.[cls]?.fx(...args);\n};\nem.trigger = (cls: any, evnt: any, target: any, mouse: any) => registeredFunctions[evnt][cls].fx(target, mouse, evnt);\nem.list = () => console.log(registeredFunctions);\n\nconst tapHandler = 'ontouchstart' in document.documentElement ? 'touchstart' : 'click';\ndocument.addEventListener(tapHandler, (evt) => processEvnt({ evt, evnt: 'tap' }));\ndocument.addEventListener('change', (evt) => processEvnt({ evt, evnt: 'change' }));\ndocument.addEventListener('click', (evt) => processEvnt({ evt, evnt: 'click' }));\ndocument.addEventListener('mouseover', (evt) => processEvnt({ evt, evnt: 'mouseover', stopPropagation: false }));\ndocument.addEventListener('mouseout', (evt) => processEvnt({ evt, evnt: 'mouseout', stopPropagation: false }));\ndocument.addEventListener('keyup', (evt) => processEvnt({ evt, evnt: 'keyup', stopPropagation: false }));\n\nlet lastTap = 0;\n\ntype AnyType = {\n  [key: string]: any;\n};\nfunction processEvnt({ evt, evnt, stopPropagation = true }: AnyType) {\n  if (stopPropagation) evt.stopPropagation();\n  const mouse = {\n    x: evt.clientX,\n    y: evt.clientY,\n    pageX: evt.pageX,\n    pageY: evt.pageY\n  };\n  const classList = Array.from(evt.target.classList);\n  const matchedClasses = classList.length && keys[evnt] ? intersection(classList, keys[evnt]) : [];\n  if (matchedClasses.length) {\n    const thisTap = new Date().getTime();\n    em.elapsed = thisTap - lastTap;\n    lastTap = thisTap;\n    matchedClasses.forEach((cls: any) => {\n      callFunction({ cls, evt, evnt, mouse });\n    });\n  }\n}\n\nfunction callFunction({ cls, evt, evnt, mouse }: AnyType) {\n  const target = evt.target;\n  registeredFunctions[evnt][cls].fx(target, mouse, evnt, evt);\n}\n\ndocument.addEventListener(\n  'touchstart',\n  (pointerEvent) => {\n    em.touched = pointerEvent.target;\n    em.coords = [pointerEvent.touches[0].clientX, pointerEvent.touches[0].clientY];\n    if (em.touched) {\n      touchTimer = setTimeout(function () {\n        holdAction();\n      }, em.holdTime);\n    }\n  },\n  false\n);\ndocument.addEventListener(\n  'touchend',\n  function () {\n    touchleave();\n  },\n  false\n);\ndocument.addEventListener(\n  'touchmove',\n  function (pointerEvent) {\n    if (em.touched !== pointerEvent.target) touchleave();\n  },\n  false\n);\nfunction touchleave() {\n  clearTimeout(touchTimer);\n}\nfunction holdAction() {\n  if (typeof em.holdAction == 'function') {\n    em.held = em.touched;\n    em.holdAction(em.held, em.coords);\n  }\n}\n\nlet isTouch = false; //let to indicate current input type (is touch versus no touch)\nlet isTouchTimer: any;\nlet curRootClass = ''; //let indicating current document root class (\"can-touch\" or \"\")\n\nfunction addtouchclass() {\n  clearTimeout(isTouchTimer);\n  isTouch = true;\n  if (curRootClass !== 'can-touch') {\n    //add \"can-touch' class if it's not already present\n    curRootClass = 'can-touch';\n    document.documentElement.classList.add(curRootClass);\n  }\n  //maintain \"istouch\" state for 500ms so removetouchclass doesn't get fired immediately following a touch event\n  isTouchTimer = setTimeout(function () {\n    isTouch = false;\n  }, 500);\n}\n\nfunction removetouchclass() {\n  // console.log('removing touch class');\n  if (!isTouch && curRootClass === 'can-touch') {\n    //remove 'can-touch' class if not triggered by a touch event and class is present\n    isTouch = false;\n    curRootClass = '';\n    document.documentElement.classList.remove('can-touch');\n  }\n}\n\ndocument.addEventListener('touchstart', addtouchclass, false); //this event only gets called when input type is touch\ndocument.addEventListener('mouseover', removetouchclass, false); //this event gets called when input type is everything from touch to mouse/ trackpad\n\nexport const eventManager = em;\n","import { default_players, device, env } from './env';\nimport { broadcasting, coms } from './coms';\n\nexport function broadcastScore(action?: any) {\n  action = action || env.match.history.lastPoint();\n  const players = env.match.metadata.players();\n\n  // don't publish if the player names haven't been changed\n  const pub = players[0].name != default_players[0] && players[1].name != default_players[1];\n\n  if (pub && broadcasting()) {\n    const coords = device.geoposition.coords || {};\n    const tournament = env.match.metadata.defineTournament();\n    const match_meta = env.match.metadata.defineMatch();\n    const match_message = {\n      tournament,\n      match: env.match.metadata.defineMatch(),\n      event: { euid: match_meta.euid },\n      status: env.match.status,\n      players: env.match.metadata.players(),\n      score: env.match.score(),\n      point: action.point,\n      serving: env.match.nextTeamServing(),\n      complete: env.match.complete(),\n      winner: env.match.winner(),\n      geoposition: {\n        latitude: coords.latitude,\n        longitude: coords.longitude,\n      },\n      undo: typeof action == 'string' && action == 'Undo',\n    };\n    sendScoreUpdate(match_message);\n  }\n}\n\nlet next_update: any;\nlet last_timeout: any;\nlet last_update = 0;\nconst update_window = 10000;\n\nfunction sendScoreUpdate(update: any) {\n  const now = Date.now();\n  next_update = update;\n\n  if (now - last_update > update_window) {\n    coms.socket.emit('mh', { type: 'score', payload: { next_update } });\n    last_update = now;\n  } else {\n    if (last_timeout) clearTimeout(last_timeout);\n    const wait_time = update_window - (now - last_update);\n    last_timeout = setTimeout(function () {\n      coms.socket.emit('mh', { type: 'score', payload: { next_update } });\n      last_update = now;\n    }, wait_time);\n  }\n}\n","import { showGameFish } from './configureViz';\nimport { showModal } from './utilities';\nimport { env, settings } from './env';\n\nexport function checkMatchEnd(action?: any) {\n  if (env.match.complete()) {\n    const winner = env.match.metadata.players()[env.match.winner()].name;\n    showModal(\n      `<div style=\"height: 50vh\" class=\"flexcols flexcenter\"><div>Match Complete!</div><div>Winner: ${winner}</div></div>`\n    );\n    return true;\n  } else if (action?.game.complete && settings.display_gamefish) {\n    showGameFish();\n  }\n}\n","import { stateChangeEvent } from './displayUpdate';\nimport { broadcastScore } from './broadcastScore';\nimport { checkMatchEnd } from './checkMatchEnd';\nimport { strokeSlider } from './strokeSlider';\nimport { env } from './env';\n\nexport function strokeAction(element: any) {\n  const hand: string = element.getAttribute('hand');\n  const stroke: string = element.getAttribute('stroke');\n  if (hand && stroke) {\n    const last_point = env.match.history.lastPoint();\n    env.match.decoratePoint(last_point, { hand, stroke });\n    stateChangeEvent(); // make sure to save the decoration in case of exit!!\n  }\n  strokeSlider();\n  const point_episodes = env.match.history.action('addPoint');\n  const last_action = point_episodes[point_episodes.length - 1];\n  checkMatchEnd(last_action);\n  broadcastScore(last_action);\n}\n","import { env, updateMatchArchive } from './env';\n\nexport function updatePlayer() {\n  env.match.metadata.definePlayer(updatePlayerDetails());\n  updateMatchArchive();\n}\n\nfunction updatePlayerDetails() {\n  const player: any = { index: env.edit_player };\n  const attributes = ['hand', 'entry', 'seed', 'draw_position', 'ioc'];\n  attributes.forEach((attribute) => {\n    const target_id = `player_${attribute}`;\n    const obj: any = document.getElementById(target_id);\n    if (obj.selectedIndex >= 0) {\n      const value = obj.options[obj.selectedIndex].value;\n      if (value) player[attribute] = value;\n    }\n  });\n  const rankElement: any = document.getElementById('player_rank');\n  if (rankElement.value) player.rank = rankElement.value;\n  const wtnElement: any = document.getElementById('player_wtn');\n  if (wtnElement.value) player.wtn = wtnElement.value;\n  const utrElement: any = document.getElementById('player_utr');\n  if (utrElement.value) player.utr = utrElement.value;\n\n  const teamElement: any = document.getElementById('team');\n  if (teamElement.value) player.team = teamElement.value;\n  const idElement: any = document.getElementById('playerid');\n  if (idElement.value) player.id = idElement.value;\n\n  return player;\n}\n","import { env, updateMatchArchive } from './env';\nimport { updateScore } from './displayUpdate';\nimport { viewManager } from './viewManager';\nimport { findUpClass } from './utilities';\n\nexport function changeFormat(element: Element) {\n  const selectionContainer = findUpClass(element, 'mf_format');\n  if (selectionContainer) {\n    const format = selectionContainer.getAttribute('newFormat');\n    env.match.format.type(format);\n    const format_name = env.match.format.settings().name;\n    document.getElementById('md_format').innerHTML = format_name;\n    updateScore();\n    updateMatchArchive();\n    viewManager('entry');\n  }\n}\n","export const DOUBLE_FAULT = 'Double Fault';\n","import { updateState, visibleButtons } from './displayUpdate';\nimport { resetButton, resetStyles } from './events';\nimport { broadcastScore } from './broadcastScore';\nimport { checkMatchEnd } from './checkMatchEnd';\nimport { buttons, env, settings } from './env';\nimport { strokeSlider } from './strokeSlider';\nimport { broadcastStatus } from './coms';\nimport { DOUBLE_FAULT } from './constants';\n\nconst toggles: any = {};\n\nexport function classAction(element: any) {\n  const action: string = element.getAttribute('action');\n  let side: number = parseInt(element.getAttribute('side') ?? 0);\n  const service: string = element.getAttribute('service');\n  const playerRole: string = element.getAttribute('role');\n\n  if (checkMatchEnd()) return;\n  const slider_side = side ? 'right' : 'left';\n  if (env.swap_sides && ['server', 'receiver'].indexOf(playerRole) < 0) side = 1 - side;\n  resetStyles();\n\n  function changeValue(classes: any, value: any) {\n    const objs = Array.from(document.querySelectorAll(classes));\n    objs.forEach((element) => (element.innerHTML = value));\n  }\n\n  function rallyMode() {\n    env.rally_mode = true;\n    Array.from(document.querySelectorAll('.modeforce')).forEach((div: any) => (div.style.display = 'flex'));\n    changeValue('.vs_action_button.winner', 'Winner');\n    changeValue('.vs_action_button.fault', 'UFE');\n    changeValue('.vs_action_button.forced', 'Forced');\n    Array.from(document.querySelectorAll('.vs_mode_button')).forEach((button) => {\n      if (['Serve', 'Return', '2nd Serve'].indexOf(button.innerHTML) >= 0) button.innerHTML = 'Base Line';\n    });\n  }\n\n  const actions: any = {\n    firstServe() {\n      env.serve2nd = false;\n    },\n    secondServe() {\n      env.serve2nd = toggles.serve2nd ? false : true;\n      toggles.serve2nd = !toggles.serve2nd;\n    },\n    fault(side: number) {\n      if (side != env.serving) return undefined;\n      if (env.serve2nd) return { code: 'D' };\n      const player_side = env.swap_sides ? 1 - side : side;\n      changeValue(`.fault.display_${player_side}_serving`, DOUBLE_FAULT);\n      changeValue(`.fault.modeerr_player${player_side}`, DOUBLE_FAULT);\n      const server_side = env.swap_sides ? 1 - env.serving : env.serving;\n      const server_mode = `.modeaction_player${server_side}`;\n      Array.from(document.querySelectorAll(server_mode)).forEach((div) => (div.innerHTML = '2nd Serve'));\n      env.serve2nd = true;\n      broadcastStatus('Service Fault');\n    },\n    doubleFault(side: number) {\n      return side != env.serving ? undefined : { code: 'd' };\n    },\n    ace(side: number) {\n      return side != env.serving ? undefined : env.serve2nd ? { code: 'a' } : { code: 'A' };\n    },\n    winner(side: number) {\n      return { winner: side, result: 'Winner' };\n    },\n    unforced(side: number) {\n      return { winner: 1 - side, result: 'Unforced Error' };\n    },\n    forced(side: number) {\n      return { winner: 1 - side, result: 'Forced Error' };\n    },\n    point(side: number) {\n      return { winner: side };\n    },\n    penalty(side: number) {\n      console.log('penalty');\n      return {\n        winner: 1 - side,\n        result: 'Penalty',\n        code: side == env.serving ? 'P' : 'Q',\n      };\n    },\n\n    modewin(side: number, point: any) {\n      const action = element.innerHTML;\n      if (action == 'Ace') return actions.ace(side, point);\n      if (action == 'Winner') return actions.winner(side, point);\n    },\n    modeerr(side: number, point: any) {\n      const action = element.innerHTML;\n      if (action == 'Fault' || action == DOUBLE_FAULT) return actions.fault(side, point);\n      if (action == 'UFE') return actions.unforced(side, point);\n      if (action == 'Forced') return actions.forced(side, point);\n      if (action == 'Let') return actions.let(side, point);\n    },\n    modeaction() {\n      const action = element.innerHTML;\n      if (['Serve', '2nd Serve', 'Return'].indexOf(action) >= 0) {\n        rallyMode();\n      }\n      if (action == 'Serve' || action == 'Return') {\n        rallyMode();\n      }\n      if (action == 'Net') {\n        element.innerHTML = 'Base Line';\n      }\n      if (action == 'Base Line') {\n        element.innerHTML = 'Net';\n      }\n    },\n    rally() {\n      const action = element.innerHTML;\n      env.rally = parseInt((action.match(/\\d+/g) || ['0']).join(''));\n      env.rally += 1;\n      changeValue(`.rally`, `Rally: ${env.rally}`);\n      if (env.rally == 1) rallyMode();\n    },\n    let() {\n      broadcastStatus('Service: Let');\n      env.lets += 1;\n      // reset serve clock\n    },\n  };\n\n  const sound: any = document.getElementById('click');\n  if (sound && settings.audible_clicks) sound.play();\n  if (element.id) styleButton(element.id);\n  if (service && service == 'second_service') env.serve2nd = true;\n  if (Object.keys(actions).indexOf(action) < 0) return undefined;\n  const player_position = ['server', 'receiver'].indexOf(playerRole);\n  if (player_position >= 0) side = player_position ? env.receiving : env.serving;\n  const point: any = env.serve2nd ? { first_serve: { error: 'Error', serves: ['0e'] } } : {};\n  const result = actions[action](side, point);\n  if (result) {\n    checkStartTime();\n    Object.assign(point, result);\n    if (env.rally) point.rally = new Array(env.rally);\n    const point_location = getPointLocation(point);\n    if (point_location) point.location = point_location;\n\n    // perhaps refactor to defer adding point until\n    // stroke/result action, if any; then decorate point not necessary\n    // and broadcast of point doesn't have to wait until decoration...\n    // would require a global variable, perhaps 'pip' for point-in-progress\n    const what = env.match.addPoint(point);\n\n    if (\n      settings.track_shot_types &&\n      what.result &&\n      what.point.result &&\n      ['Penalty', 'Ace', 'Double Fault'].indexOf(what.point.result) < 0\n    ) {\n      strokeSlider(slider_side);\n    } else {\n      checkMatchEnd(what);\n      broadcastScore(what);\n    }\n\n    env.rally = 0;\n    env.lets = 0;\n    env.undone = [];\n    updateState();\n  }\n  visibleButtons();\n}\n\nfunction styleButton(id: string) {\n  const button = document.getElementById(id);\n  if (!button) return;\n  if (buttons[id].type == 'flash') {\n    button.style.backgroundColor = buttons[id].color;\n    button.style.color = 'white';\n    setTimeout(() => resetStyles(), 300);\n  } else if (buttons[id].type == 'toggle') {\n    if (button.style.backgroundColor == 'white') {\n      env.serve2nd = id == 'second_serve';\n      button.style.backgroundColor = buttons[id].color;\n      button.style.color = 'white';\n    } else {\n      env.serve2nd = false;\n      button.style.backgroundColor = 'white';\n      button.style.color = buttons[id].color;\n    }\n    const toggle_ids = Object.keys(buttons).filter((f) => buttons[f].type == 'toggle');\n    toggle_ids.filter((f) => f != id).forEach((id: string) => resetButton(id));\n  }\n}\n\nfunction checkStartTime() {\n  const points = env.match.history.points();\n  if (points.length == 0) {\n    // if no points, define new start time\n    const date = new Date();\n    env.match.metadata.defineMatch({ date: date.valueOf() });\n  }\n}\n\nfunction getPointLocation(point: any) {\n  const p0location = document.querySelectorAll('.modeaction_player0');\n  const p1location = document.querySelectorAll('.modeaction_player1');\n  if ((p0location && p0location[0].innerHTML == 'Net') || (p1location && p1location[0].innerHTML == 'Net')) {\n    if (point.result == 'Unforced Error' || point.result == 'Forced Error') {\n      if (point.winner == 0 && p1location[0].innerHTML == 'Net') return 'Net';\n      if (point.winner == 1 && p0location[0].innerHTML == 'Net') return 'Net';\n    } else if (point.result == 'Winner') {\n      if (point.winner == 0 && p0location[0].innerHTML == 'Net') return 'Net';\n      if (point.winner == 1 && p1location[0].innerHTML == 'Net') return 'Net';\n    }\n  }\n}\n","import { browserStorage } from './browserStorage';\nimport { closeModal } from './modals';\n\nexport function exportMatch(element: any) {\n  const match_id = element.getAttribute('matchId');\n  const match_data: any = browserStorage.get(match_id);\n  if (match_data) {\n    download(match_data, `match_${match_id}.json`);\n    closeModal();\n  }\n}\n\nfunction download(textToWrite: string, fileNameToSaveAs: string) {\n  fileNameToSaveAs = fileNameToSaveAs || 'match.json';\n  const textFileAsBlob = new Blob([textToWrite], { type: 'text/plain' });\n  const downloadLink = document.createElement('a');\n  downloadLink.download = fileNameToSaveAs;\n  downloadLink.innerHTML = 'Download File';\n  if (window.URL != null) {\n    downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n    downloadLink.click();\n  }\n}\n","import { findUpClass } from './utilities';\n\nexport function toggleChart(element: Element) {\n  const container = findUpClass(element, 'statrow');\n  const id = container.getAttribute('id');\n  const el = document.getElementById(id + '_chart');\n  console.log({ id, el });\n  if (el) {\n    const visible = el.style.display != 'none';\n    el.style.display = visible ? 'none' : 'flex';\n  }\n}\n","export default \"__VITE_ASSET__SN86_yA3__\"","import emailblackImage from '../assets/icons/emailblack.png';\nimport { broadcastScore } from './broadcastScore';\nimport { browserStorage } from './browserStorage';\nimport { showModal } from './utilities';\nimport { app, env } from './env';\nimport { UUID } from './UUID';\nimport { coms } from './coms';\n\nexport function modalShare() {\n  broadcastScore();\n  const match_id = browserStorage.get('current_match');\n  const match_data = match_id && browserStorage.get(match_id);\n  if (match_data) {\n    const json_data = JSON.parse(match_data);\n    let muid = json_data.match.muid;\n    if (!muid) {\n      muid = UUID();\n      json_data.match.muid = muid;\n      env.match.metadata.defineMatch({ muid });\n      browserStorage.set(match_id, JSON.stringify(json_data));\n    }\n    shareResult(json_data);\n  } else {\n    const modaltext = ` <p> <h1>First Track a Match!</h1> </p> `;\n    showModal(modaltext);\n  }\n}\n\nfunction shareResult(json_data: any) {\n  if (!coms.socket) {\n    const modaltext = ` <p> <h1>Unable to share match...</h1> <p><i>Connection Error</i></p> </p> `;\n    showModal(modaltext);\n    return;\n  }\n  const broadcast_link = app.broadcast ? `CourtHive Live Score: ${location.origin}/scores?muid=${json_data.muid}` : '';\n  const email_message = `${broadcast_link}%0D%0A `;\n  const emailOption = app.broadcast\n    ? `\n    <div class='closeModal flexcenter iconmargin'>\n      <a href='mailto:?subject=CourtHive Match Link&body=${email_message}' class=\"notextdecoration\">\n          <img class=\"icon_large\" src='${emailblackImage}'>\n      </a> \n    </div>\n  `\n    : '';\n  const clipboardOption = json_data\n    ? `\n    <div class='flexcenter iconmargin'>\n      <button id='copy2clipboard' class=\"flexcenter c2c\" data-clipboard-text=\"\"> \n          <div class='export_action action_icon_large iconclipboard'></div> \n      </button>\n    </div>\n  `\n    : '';\n\n  const match_id = json_data?.match?.muid;\n  const sendHistoryOption = match_id\n    ? `\n   <div matchId=\"${match_id}\" class=\"sendHistory flexcenter\">\n      <div matchId=\"${match_id}\" class='sendHistory export_action action_icon iconsave'></div>\n   </div>\n`\n    : '';\n\n  const modaltext = `\n      <p>&nbsp;</p>\n      <h1>Options for Sharing</h1>\n      <div class='flexrows'> \n        ${emailOption}\n        ${sendHistoryOption}\n        ${clipboardOption}\n      </div>`;\n  showModal(modaltext, JSON.stringify(json_data));\n}\n","import { browserStorage } from './browserStorage';\nimport { stateChangeEvent } from './displayUpdate';\nimport { loadMatch } from './loadMatch';\nimport { env } from './env';\n\nexport function editPoint(index: number) {\n  env.edit_point_index = index;\n  const episodes = env.match.history.action('addPoint');\n  env.edit_point = episodes[index].point;\n  env.edit_point_result = env.edit_point.result;\n  let score = env.edit_point.server ? env.edit_point.score.split('-').reverse().join('-') : env.edit_point.score;\n  if (score == '0-0') score = 'Gamepoint';\n  const epSGP = document.getElementById('ep_sgp');\n  if (epSGP) epSGP.innerHTML = `Set: ${env.edit_point.set + 1}, Game: ${env.edit_point.game + 1}, Point: ${score}`;\n  const players = env.match.metadata.players();\n  const player_select = Array.from(document.querySelectorAll('.select_player'));\n  player_select.forEach((select: any) =>\n    players.forEach(\n      (player: any, index: number) => (select.options[index] = new Option(player.name, index.toString())),\n    ),\n  );\n  const point_winner: any = document.getElementById('point_winner');\n  const point_loser: any = document.getElementById('point_loser');\n  if (point_winner) point_winner.value = env.edit_point.winner;\n  if (point_loser) point_loser.value = env.edit_point.result || '';\n  changePointWinner();\n  changePointPlayer();\n  changeResultOptions();\n  const editPointDisplay = document.getElementById('editpoint');\n  if (editPointDisplay) editPointDisplay.style.display = 'flex';\n}\n\nfunction changePointWinner() {\n  const pointPlayer: any = document.getElementById('point_player');\n  const pointResult: any = document.getElementById('point_result');\n  const pointWinner: any = document.getElementById('point_winner');\n  const player = pointPlayer?.value;\n  const result = pointResult?.value;\n  const winner = pointWinner?.value;\n  if (result.indexOf('Winner') < 0 && result.indexOf('Ace') < 0 && player == winner) {\n    pointPlayer.value = 1 - winner;\n  }\n  if ((result.indexOf('Winner') >= 0 || result.indexOf('Ace') >= 0) && player != winner) {\n    pointPlayer.value = winner;\n  }\n}\n\nfunction changeResultOptions() {\n  const pointPlayer: any = document.getElementById('point_player');\n  const pointResult: any = document.getElementById('point_result');\n  const player = pointPlayer?.value;\n  env.edit_point_result = pointResult.value;\n  pointResult.innerHTML = '';\n  pointResult.options[0] = new Option('- select -', '');\n  let results: any[] = [];\n  if (player == env.edit_point.server) results = ['Ace', 'Double Fault'].concat(...results);\n  results = ['Winner', 'Unforced Error', 'Forced Error'].concat(...results);\n  results.forEach((result, index) => (pointResult.options[index + 1] = new Option(result, result)));\n  pointResult.value = env.edit_point_result;\n}\n\nfunction changePointPlayer() {\n  const pointPlayer: any = document.getElementById('point_player');\n  const pointResult: any = document.getElementById('point_result');\n  const winner: any = document.getElementById('point_winner');\n  const player = pointPlayer?.value;\n  const result = pointResult.value;\n  env.edit_point.result = result;\n  if ((result.indexOf('Winner') >= 0 || result.indexOf('Ace') >= 0) && player != winner.value) {\n    winner.value = player;\n  }\n  if (result.indexOf('Winner') < 0 && result.indexOf('Ace') < 0 && player == winner.value) {\n    winner.value = 1 - player;\n  }\n  changeResultOptions();\n}\n\nexport function updatePoint() {\n  const pointResult: any = document.getElementById('point_result');\n  const pointWinner: any = document.getElementById('point_winner');\n  const winner = pointWinner.value;\n  const result = pointResult.value;\n  env.edit_point.winner = winner;\n  env.edit_point.result = result;\n  env.edit_point.code = undefined; // TODO: code needs to be updated properly\n  stateChangeEvent();\n  const current_match_id = browserStorage.get('current_match');\n  if (current_match_id) {\n    loadMatch(current_match_id, 'pointhistory');\n    const editPointDisplay = document.getElementById('editpoint');\n    if (editPointDisplay) editPointDisplay.style.display = 'none';\n  }\n}\n","import { closeModal } from './modals';\nimport { env } from './env';\n\nexport function editPlayer(element: any) {\n  const index = parseInt(element.getAttribute('playerIndex') ?? 0);\n  env.edit_player = env.swap_sides ? 1 - index : index;\n  closeModal();\n  const editPlayerDisplay = document.getElementById('editplayer');\n  if (editPlayerDisplay) editPlayerDisplay.style.display = 'flex';\n  const player = env.match.metadata.players(env.edit_player);\n  const playerName: any = document.getElementById('playername');\n  if (playerName) playerName.value = player.name;\n  const team: any = document.getElementById('team');\n  if (team) team.value = player.team ?? '';\n\n  const playerId: any = document.getElementById('playerid');\n  if (playerId) playerId.value = player.id ?? '';\n\n  const attributes = ['hand', 'entry', 'seed', 'draw_position', 'ioc'];\n  attributes.forEach((attribute) => {\n    const target_id = `player_${attribute}`;\n    const targetElement: any = document.getElementById(target_id);\n    if (targetElement) targetElement.value = player[attribute] || '';\n  });\n  const playerRank: any = document.getElementById('player_rank');\n  if (playerRank) playerRank.value = player.rank || '';\n  const playerWTN: any = document.getElementById('player_wtn');\n  if (playerWTN) playerWTN.value = player.wtn || '';\n  const playerUTR: any = document.getElementById('player_utr');\n  if (playerUTR) playerUTR.value = player.utr || '';\n}\n","export default \"__VITE_ASSET__wUPJvyNp__\"","import pointsImage from '../assets/icons/points.jpg';\nimport { showModal } from './utilities';\n\nexport function modalHelp(quick_start?: boolean) {\n  const quick = `\n         <div class=\"helpintro\">Quick Start</div>\n         <div class=\"flexhelp\"> <div class='iconmenub action_icon_large'></div> <div class=\"quicktitle\">Main Menu</div> </div>\n         <div class=\"quickitem\"> <span> Set <b>Match Details</b>, <b>Share</b>, or turn on <b>Broadcasting</b> </span></div>\n         <div class=\"flexhelp\"> <div class='iconsettingsb action_icon_large'></div> <div class=\"quicktitle\">Settings</div> </div>\n         <div class=\"quickitem\"> <span> Turn on <b>Audible Clicks</b> and <b>Track Shot Types</b></span></div>\n         <div class=\"flexhelp\"> <div class='iconchangeb action_icon_large'></div> <div class=\"quicktitle\">Change First Server</div> </div>\n         <div class=\"quickitem\"> <span>After Service press <b>Serve</b>, <b>Return</b>, or <b>Rally</b> to switch into Rally Mode </span></div>\n         <div class=\"quickitem\"> <span>To simply advance points, tap the <b>Points</b> display </span></div>\n         <div class=\"flexhelp\"> <img src='${pointsImage}'> </div>\n      `;\n  const save = `\n         <div class=\"helpintro\">Save To Home Screen</div>\n         <div class=\"helpitem\">CourtHive is a Progressive Web App</div>\n         <div class=\"helpitem\"><b>For Full Screen View:</b></div>\n         <div class=\"helpitem\">On iOS use Safari to Save</div>\n         <div class=\"helpitem\">On Android use Chrome</div>\n      `;\n  const helptext = `\n         <div class=\"helpintro\">How to</div>\n         <div class=\"helpitem\"><div><b>Add/Change Player Names</b>:</div> &nbsp; <div> Touch the name!</div></div>\n         <div class=\"helpitem\"><div><b>Edit a Point</b>:</div><div> &nbsp; Touch the point in History view</div></div>\n         <div class=\"helpitem\"><div><b>Delete Match</b>:</div><div> &nbsp; Swipe Left in Match Archive </div></div>\n         <div class=\"helpitem\"><div><b>Export Match</b>:</div><div> &nbsp; Swipe Right in Match Archive </div></div>\n         <div class=\"helpitem\"><div><b>Points-to-Set</b>:</div><div> &nbsp; Rotate Momentum Chart</div></div>\n         <div class=\"helpitem\"><div><b>GameTree</b>:</div><div> &nbsp; Tap Player to filter by server</div></div>\n         <div class=\"flexhelp\"> <div class='iconbroadcast icon icon_5'></div> <div class=\"quicktitle\">Enable Broadcast</div> </div>\n         <div class=\"flexhelp\"> <div class='iconshare icon icon_3'></div> <div class=\"quicktitle\">Share (Email, Copy/Paste)</div> </div>\n      `;\n  const modaltext = quick_start ? quick + save + helptext : helptext + save + quick;\n  showModal(modaltext);\n}\n","import { showModal } from './utilities';\nimport { ch_version } from './env';\n\nexport function modalInfo() {\n  const modaltext = `\n         <p>&nbsp;</b>\n         <h2>CourtHive</h2>\n         <p>version <a id=\"version\" target=\"_blank\" href=\"https://github.com/TennisVisuals/universal-match-object/tree/master/examples/CourtHive\">${ch_version}</a></p>\n         <p>An \n            <a target=\"_blank\" href=\"https://github.com/TennisVisuals/universal-match-object/tree/master/examples/CourtHive\">Open Source</a> project developed by \n            <a target=\"_blank\" href=\"http://TennisVisuals.com\">TennisVisuals</a>\n         </p>\n         <p><a href=\"mailto:tennis.aip@gmail.com?subject=CourtHive\">Feedback Welcome!</a></p>\n         <h2>Help</h2>\n         <div class=\"helpitem\">Difficulties after an app update?</div>\n         <div class=\"flexcenter\">\n            <div class='flexcenter reset' onclick=\"appReset()\">Reset</div>\n         </div>\n         <p>&nbsp;</b>\n      `;\n  showModal(modaltext);\n}\n","import { showModal } from './utilities';\nimport { sendKey } from './coms';\n\nexport function enterKey() {\n  const html = `\n    <h2>Enter key:</h2>\n    <input id='key' class='key_input input is-primary'>\n    <button id='submit_key' class='btn btn-small submit-btn'>Submit</button>\n  `;\n  showModal(html);\n\n  const key: any = document.getElementById('key');\n\n  const key_entry = document.getElementById('key');\n  if (key_entry) key_entry.addEventListener('keyup', keyAction);\n\n  const submit = document.getElementById('submit_key');\n  if (submit) submit.addEventListener('click', submitKey);\n\n  function submitKey() {\n    if (key.value) sendKey({ key: key.value });\n  }\n\n  function keyAction(evt: any) {\n    if (evt.which == 13) submitKey();\n  }\n}\n","import { resetButtons, setCourtSide, swapServer, updateState, visibleButtons } from './displayUpdate';\nimport { env, options, updateMatchArchive } from './env';\nimport { broadcastScore } from './broadcastScore';\nimport { viewManager } from './viewManager';\nimport { showGameFish } from './configureViz';\nimport { findUpClass } from './utilities';\nimport { editPoint } from './editPoint';\n\nexport function viewGameFish(element: any) {\n  const gameIndex: number = parseInt(element.getAttribute('gameIndex') ?? 0);\n  showGameFish(gameIndex);\n}\nexport function viewEditPoint(element: any) {\n  const parent = findUpClass(element, 'ph_episode');\n  const pointIndex = parseInt(parent?.getAttribute('pointIndex') ?? 0);\n  editPoint(pointIndex);\n}\nexport function viewStats() {\n  viewManager('stats');\n}\nexport function viewMatchFormat() {\n  viewManager('matchformat');\n}\nexport function viewGameTree() {\n  viewManager('gametree');\n}\nexport function viewMomentum() {\n  viewManager('momentum');\n}\nexport function viewPointHistory() {\n  viewManager('pointhistory');\n}\nexport function settings() {\n  viewManager('settings');\n}\nexport function matchArchive() {\n  viewManager('matcharchive');\n}\nexport function outcomeEntry() {\n  viewManager('entry');\n}\nexport function mainMenu() {\n  viewManager('mainmenu');\n}\nexport function undoAction() {\n  if (env.serve2nd || env.rally_mode) {\n    env.serve2nd = false;\n    env.rally_mode = false;\n    env.rally = 0;\n    env.lets = 0;\n    resetButtons();\n  } else {\n    const undo = env.match.undo();\n    broadcastScore('Undo');\n    if (undo) env.undone.push(undo);\n    updateMatchArchive(true);\n  }\n  visibleButtons();\n}\nexport function redoAction() {\n  if (!env.undone.length) return;\n  const action = env.match.addPoint(env.undone.pop());\n  broadcastScore(action);\n}\nexport function changeServer() {\n  console.log('changeServer');\n  if (!env.match.history.points().length) {\n    env.match.set.firstService(1 - env.serving);\n    updateState();\n    viewManager('entry');\n  }\n}\nexport function swapAction() {\n  console.log('swapAction');\n  options.user_swap = !options.user_swap;\n  setCourtSide();\n  swapServer();\n}\n/*\nexport function menuAction(obj, action) {\n  const actions = {\n    horizontalview() {\n      options.horizontal_view = options.horizontal_view == 'hblack' ? 'hwhite' : 'hblack';\n      BrowserStorage.set('horizontal_view', options.horizontal_view);\n      viewManager('entry');\n    },\n    verticalview() {\n            options.vertical_view = (options.vertical_view == 'vblack') ? 'vwhite' : 'vblack';\n            BrowserStorage.set('vertical_view', options.vertical_view);\n            viewManager('entry');\n    }\n  };\n}\n*/\n","import { updateTournamentDetails } from './updateTournamentDetails';\nimport { updateMatchDetails } from './updateMatchDetails';\nimport { broadcastToggle, sendHistory } from './coms';\nimport { editMatchDetails } from './displayUpdate';\nimport { newMatch } from './displayMatchArchive';\nimport { updateDetails } from './updateDetails';\nimport { eventManager } from './eventManager';\nimport { closeGameFish } from './configureViz';\nimport { strokeAction } from './strokeAction';\nimport { updatePlayer } from './updatePlayer';\nimport { changeFormat } from './changeFormat';\nimport { classAction } from './classAction';\nimport { exportMatch } from './exportMatch';\nimport { toggleChart } from './toggleChart';\nimport { updateStats } from './updateStats';\nimport { modalShare } from './modalShare';\nimport { updatePoint } from './editPoint';\nimport { editPlayer } from './editPlayer';\nimport { modalHelp } from './modalHelp';\nimport { modalInfo } from './modalInfo';\nimport { updateAppState } from './env';\nimport { closeModal } from './modals';\nimport { enterKey } from './enterKey';\nimport {\n  outcomeEntry,\n  matchArchive,\n  settings,\n  mainMenu,\n  swapAction,\n  undoAction,\n  redoAction,\n  changeServer,\n  viewStats,\n  viewPointHistory,\n  viewMomentum,\n  viewGameTree,\n  viewMatchFormat,\n  viewGameFish,\n  viewEditPoint,\n} from './clickActions';\n\nexport function registerEvents() {\n  eventManager\n    .register('modalInfo', 'tap', modalInfo)\n    .register('toggleChart', 'tap', toggleChart)\n    .register('broadcastToggle', 'tap', broadcastToggle)\n    .register('modalShare', 'tap', modalShare)\n    .register('enterKey', 'tap', enterKey)\n    .register('changeFormat', 'tap', changeFormat)\n    .register('closeModal', 'tap', closeModal)\n    .register('newMatch', 'tap', newMatch)\n    .register('exportMatch', 'tap', exportMatch)\n    .register('sendHistory', 'tap', sendHistory)\n    .register('settings', 'tap', settings)\n    .register('outcomeEntry', 'tap', outcomeEntry)\n    .register('matchArchive', 'tap', matchArchive)\n    .register('mainMenu', 'tap', mainMenu)\n    .register('modalHelp', 'tap', modalHelp)\n    .register('updateAppState', 'tap', updateAppState)\n    .register('updateStats', 'tap', updateStats)\n    .register('closeGameFish', 'tap', closeGameFish)\n    .register('strokeAction', 'tap', strokeAction)\n    .register('swapAction', 'tap', swapAction)\n    .register('undoAction', 'tap', undoAction)\n    .register('redoAction', 'tap', redoAction)\n    .register('changeServer', 'tap', changeServer)\n    .register('updatePoint', 'tap', updatePoint)\n    .register('editPlayer', 'tap', editPlayer)\n    .register('updatePlayer', 'tap', updatePlayer)\n    .register('updateTournamentDetails', 'tap', updateTournamentDetails)\n    .register('updateMatchDetails', 'tap', updateMatchDetails)\n    .register('updateDetails', 'tap', updateDetails)\n    .register('viewGameFish', 'tap', viewGameFish)\n    .register('viewStats', 'tap', viewStats)\n    .register('viewGameTree', 'tap', viewGameTree)\n    .register('viewMomentum', 'tap', viewMomentum)\n    .register('viewEditPoint', 'tap', viewEditPoint)\n    .register('viewMatchFormat', 'tap', viewMatchFormat)\n    .register('viewPointHistory', 'tap', viewPointHistory)\n    .register('editMatchDetails', 'tap', editMatchDetails)\n    .register('classAction', 'tap', classAction);\n}\n","/*!\n * clipboard.js v2.0.11\n * https://clipboardjs.com/\n *\n * Licensed MIT  Zeno Rocha\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ClipboardJS\"] = factory();\n\telse\n\t\troot[\"ClipboardJS\"] = factory();\n})(this, function() {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 686:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": function() { return /* binding */ clipboard; }\n});\n\n// EXTERNAL MODULE: ./node_modules/tiny-emitter/index.js\nvar tiny_emitter = __webpack_require__(279);\nvar tiny_emitter_default = /*#__PURE__*/__webpack_require__.n(tiny_emitter);\n// EXTERNAL MODULE: ./node_modules/good-listener/src/listen.js\nvar listen = __webpack_require__(370);\nvar listen_default = /*#__PURE__*/__webpack_require__.n(listen);\n// EXTERNAL MODULE: ./node_modules/select/src/select.js\nvar src_select = __webpack_require__(817);\nvar select_default = /*#__PURE__*/__webpack_require__.n(src_select);\n;// CONCATENATED MODULE: ./src/common/command.js\n/**\n * Executes a given operation type.\n * @param {String} type\n * @return {Boolean}\n */\nfunction command(type) {\n  try {\n    return document.execCommand(type);\n  } catch (err) {\n    return false;\n  }\n}\n;// CONCATENATED MODULE: ./src/actions/cut.js\n\n\n/**\n * Cut action wrapper.\n * @param {String|HTMLElement} target\n * @return {String}\n */\n\nvar ClipboardActionCut = function ClipboardActionCut(target) {\n  var selectedText = select_default()(target);\n  command('cut');\n  return selectedText;\n};\n\n/* harmony default export */ var actions_cut = (ClipboardActionCut);\n;// CONCATENATED MODULE: ./src/common/create-fake-element.js\n/**\n * Creates a fake textarea element with a value.\n * @param {String} value\n * @return {HTMLElement}\n */\nfunction createFakeElement(value) {\n  var isRTL = document.documentElement.getAttribute('dir') === 'rtl';\n  var fakeElement = document.createElement('textarea'); // Prevent zooming on iOS\n\n  fakeElement.style.fontSize = '12pt'; // Reset box model\n\n  fakeElement.style.border = '0';\n  fakeElement.style.padding = '0';\n  fakeElement.style.margin = '0'; // Move element out of screen horizontally\n\n  fakeElement.style.position = 'absolute';\n  fakeElement.style[isRTL ? 'right' : 'left'] = '-9999px'; // Move element to the same position vertically\n\n  var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n  fakeElement.style.top = \"\".concat(yPosition, \"px\");\n  fakeElement.setAttribute('readonly', '');\n  fakeElement.value = value;\n  return fakeElement;\n}\n;// CONCATENATED MODULE: ./src/actions/copy.js\n\n\n\n/**\n * Create fake copy action wrapper using a fake element.\n * @param {String} target\n * @param {Object} options\n * @return {String}\n */\n\nvar fakeCopyAction = function fakeCopyAction(value, options) {\n  var fakeElement = createFakeElement(value);\n  options.container.appendChild(fakeElement);\n  var selectedText = select_default()(fakeElement);\n  command('copy');\n  fakeElement.remove();\n  return selectedText;\n};\n/**\n * Copy action wrapper.\n * @param {String|HTMLElement} target\n * @param {Object} options\n * @return {String}\n */\n\n\nvar ClipboardActionCopy = function ClipboardActionCopy(target) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    container: document.body\n  };\n  var selectedText = '';\n\n  if (typeof target === 'string') {\n    selectedText = fakeCopyAction(target, options);\n  } else if (target instanceof HTMLInputElement && !['text', 'search', 'url', 'tel', 'password'].includes(target === null || target === void 0 ? void 0 : target.type)) {\n    // If input type doesn't support `setSelectionRange`. Simulate it. https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/setSelectionRange\n    selectedText = fakeCopyAction(target.value, options);\n  } else {\n    selectedText = select_default()(target);\n    command('copy');\n  }\n\n  return selectedText;\n};\n\n/* harmony default export */ var actions_copy = (ClipboardActionCopy);\n;// CONCATENATED MODULE: ./src/actions/default.js\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\n\n/**\n * Inner function which performs selection from either `text` or `target`\n * properties and then executes copy or cut operations.\n * @param {Object} options\n */\n\nvar ClipboardActionDefault = function ClipboardActionDefault() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  // Defines base properties passed from constructor.\n  var _options$action = options.action,\n      action = _options$action === void 0 ? 'copy' : _options$action,\n      container = options.container,\n      target = options.target,\n      text = options.text; // Sets the `action` to be performed which can be either 'copy' or 'cut'.\n\n  if (action !== 'copy' && action !== 'cut') {\n    throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n  } // Sets the `target` property using an element that will be have its content copied.\n\n\n  if (target !== undefined) {\n    if (target && _typeof(target) === 'object' && target.nodeType === 1) {\n      if (action === 'copy' && target.hasAttribute('disabled')) {\n        throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n      }\n\n      if (action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\n        throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n      }\n    } else {\n      throw new Error('Invalid \"target\" value, use a valid Element');\n    }\n  } // Define selection strategy based on `text` property.\n\n\n  if (text) {\n    return actions_copy(text, {\n      container: container\n    });\n  } // Defines which selection strategy based on `target` property.\n\n\n  if (target) {\n    return action === 'cut' ? actions_cut(target) : actions_copy(target, {\n      container: container\n    });\n  }\n};\n\n/* harmony default export */ var actions_default = (ClipboardActionDefault);\n;// CONCATENATED MODULE: ./src/clipboard.js\nfunction clipboard_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { clipboard_typeof = function _typeof(obj) { return typeof obj; }; } else { clipboard_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return clipboard_typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (clipboard_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n/**\n * Helper function to retrieve attribute value.\n * @param {String} suffix\n * @param {Element} element\n */\n\nfunction getAttributeValue(suffix, element) {\n  var attribute = \"data-clipboard-\".concat(suffix);\n\n  if (!element.hasAttribute(attribute)) {\n    return;\n  }\n\n  return element.getAttribute(attribute);\n}\n/**\n * Base class which takes one or more elements, adds event listeners to them,\n * and instantiates a new `ClipboardAction` on each click.\n */\n\n\nvar Clipboard = /*#__PURE__*/function (_Emitter) {\n  _inherits(Clipboard, _Emitter);\n\n  var _super = _createSuper(Clipboard);\n\n  /**\n   * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n   * @param {Object} options\n   */\n  function Clipboard(trigger, options) {\n    var _this;\n\n    _classCallCheck(this, Clipboard);\n\n    _this = _super.call(this);\n\n    _this.resolveOptions(options);\n\n    _this.listenClick(trigger);\n\n    return _this;\n  }\n  /**\n   * Defines if attributes would be resolved using internal setter functions\n   * or custom functions that were passed in the constructor.\n   * @param {Object} options\n   */\n\n\n  _createClass(Clipboard, [{\n    key: \"resolveOptions\",\n    value: function resolveOptions() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.action = typeof options.action === 'function' ? options.action : this.defaultAction;\n      this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;\n      this.text = typeof options.text === 'function' ? options.text : this.defaultText;\n      this.container = clipboard_typeof(options.container) === 'object' ? options.container : document.body;\n    }\n    /**\n     * Adds a click event listener to the passed trigger.\n     * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n     */\n\n  }, {\n    key: \"listenClick\",\n    value: function listenClick(trigger) {\n      var _this2 = this;\n\n      this.listener = listen_default()(trigger, 'click', function (e) {\n        return _this2.onClick(e);\n      });\n    }\n    /**\n     * Defines a new `ClipboardAction` on each click event.\n     * @param {Event} e\n     */\n\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      var trigger = e.delegateTarget || e.currentTarget;\n      var action = this.action(trigger) || 'copy';\n      var text = actions_default({\n        action: action,\n        container: this.container,\n        target: this.target(trigger),\n        text: this.text(trigger)\n      }); // Fires an event based on the copy operation result.\n\n      this.emit(text ? 'success' : 'error', {\n        action: action,\n        text: text,\n        trigger: trigger,\n        clearSelection: function clearSelection() {\n          if (trigger) {\n            trigger.focus();\n          }\n\n          window.getSelection().removeAllRanges();\n        }\n      });\n    }\n    /**\n     * Default `action` lookup function.\n     * @param {Element} trigger\n     */\n\n  }, {\n    key: \"defaultAction\",\n    value: function defaultAction(trigger) {\n      return getAttributeValue('action', trigger);\n    }\n    /**\n     * Default `target` lookup function.\n     * @param {Element} trigger\n     */\n\n  }, {\n    key: \"defaultTarget\",\n    value: function defaultTarget(trigger) {\n      var selector = getAttributeValue('target', trigger);\n\n      if (selector) {\n        return document.querySelector(selector);\n      }\n    }\n    /**\n     * Allow fire programmatically a copy action\n     * @param {String|HTMLElement} target\n     * @param {Object} options\n     * @returns Text copied.\n     */\n\n  }, {\n    key: \"defaultText\",\n\n    /**\n     * Default `text` lookup function.\n     * @param {Element} trigger\n     */\n    value: function defaultText(trigger) {\n      return getAttributeValue('text', trigger);\n    }\n    /**\n     * Destroy lifecycle.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.listener.destroy();\n    }\n  }], [{\n    key: \"copy\",\n    value: function copy(target) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        container: document.body\n      };\n      return actions_copy(target, options);\n    }\n    /**\n     * Allow fire programmatically a cut action\n     * @param {String|HTMLElement} target\n     * @returns Text cutted.\n     */\n\n  }, {\n    key: \"cut\",\n    value: function cut(target) {\n      return actions_cut(target);\n    }\n    /**\n     * Returns the support of the given action, or all actions if no action is\n     * given.\n     * @param {String} [action]\n     */\n\n  }, {\n    key: \"isSupported\",\n    value: function isSupported() {\n      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];\n      var actions = typeof action === 'string' ? [action] : action;\n      var support = !!document.queryCommandSupported;\n      actions.forEach(function (action) {\n        support = support && !!document.queryCommandSupported(action);\n      });\n      return support;\n    }\n  }]);\n\n  return Clipboard;\n}((tiny_emitter_default()));\n\n/* harmony default export */ var clipboard = (Clipboard);\n\n/***/ }),\n\n/***/ 828:\n/***/ (function(module) {\n\nvar DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n\n\n/***/ }),\n\n/***/ 438:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar closest = __webpack_require__(828);\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n\n\n/***/ }),\n\n/***/ 879:\n/***/ (function(__unused_webpack_module, exports) {\n\n/**\n * Check if argument is a HTML element.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.node = function(value) {\n    return value !== undefined\n        && value instanceof HTMLElement\n        && value.nodeType === 1;\n};\n\n/**\n * Check if argument is a list of HTML elements.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.nodeList = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return value !== undefined\n        && (type === '[object NodeList]' || type === '[object HTMLCollection]')\n        && ('length' in value)\n        && (value.length === 0 || exports.node(value[0]));\n};\n\n/**\n * Check if argument is a string.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.string = function(value) {\n    return typeof value === 'string'\n        || value instanceof String;\n};\n\n/**\n * Check if argument is a function.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.fn = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return type === '[object Function]';\n};\n\n\n/***/ }),\n\n/***/ 370:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar is = __webpack_require__(879);\nvar delegate = __webpack_require__(438);\n\n/**\n * Validates all params and calls the right\n * listener function based on its target type.\n *\n * @param {String|HTMLElement|HTMLCollection|NodeList} target\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listen(target, type, callback) {\n    if (!target && !type && !callback) {\n        throw new Error('Missing required arguments');\n    }\n\n    if (!is.string(type)) {\n        throw new TypeError('Second argument must be a String');\n    }\n\n    if (!is.fn(callback)) {\n        throw new TypeError('Third argument must be a Function');\n    }\n\n    if (is.node(target)) {\n        return listenNode(target, type, callback);\n    }\n    else if (is.nodeList(target)) {\n        return listenNodeList(target, type, callback);\n    }\n    else if (is.string(target)) {\n        return listenSelector(target, type, callback);\n    }\n    else {\n        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');\n    }\n}\n\n/**\n * Adds an event listener to a HTML element\n * and returns a remove listener function.\n *\n * @param {HTMLElement} node\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNode(node, type, callback) {\n    node.addEventListener(type, callback);\n\n    return {\n        destroy: function() {\n            node.removeEventListener(type, callback);\n        }\n    }\n}\n\n/**\n * Add an event listener to a list of HTML elements\n * and returns a remove listener function.\n *\n * @param {NodeList|HTMLCollection} nodeList\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNodeList(nodeList, type, callback) {\n    Array.prototype.forEach.call(nodeList, function(node) {\n        node.addEventListener(type, callback);\n    });\n\n    return {\n        destroy: function() {\n            Array.prototype.forEach.call(nodeList, function(node) {\n                node.removeEventListener(type, callback);\n            });\n        }\n    }\n}\n\n/**\n * Add an event listener to a selector\n * and returns a remove listener function.\n *\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenSelector(selector, type, callback) {\n    return delegate(document.body, selector, type, callback);\n}\n\nmodule.exports = listen;\n\n\n/***/ }),\n\n/***/ 817:\n/***/ (function(module) {\n\nfunction select(element) {\n    var selectedText;\n\n    if (element.nodeName === 'SELECT') {\n        element.focus();\n\n        selectedText = element.value;\n    }\n    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n        var isReadOnly = element.hasAttribute('readonly');\n\n        if (!isReadOnly) {\n            element.setAttribute('readonly', '');\n        }\n\n        element.select();\n        element.setSelectionRange(0, element.value.length);\n\n        if (!isReadOnly) {\n            element.removeAttribute('readonly');\n        }\n\n        selectedText = element.value;\n    }\n    else {\n        if (element.hasAttribute('contenteditable')) {\n            element.focus();\n        }\n\n        var selection = window.getSelection();\n        var range = document.createRange();\n\n        range.selectNodeContents(element);\n        selection.removeAllRanges();\n        selection.addRange(range);\n\n        selectedText = selection.toString();\n    }\n\n    return selectedText;\n}\n\nmodule.exports = select;\n\n\n/***/ }),\n\n/***/ 279:\n/***/ (function(module) {\n\nfunction E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(__webpack_module_cache__[moduleId]) {\n/******/ \t\t\treturn __webpack_module_cache__[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t!function() {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = function(module) {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\tfunction() { return module['default']; } :\n/******/ \t\t\t\tfunction() { return module; };\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t// module exports must be returned from runtime so entry inlining is disabled\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(686);\n/******/ })()\n.default;\n});","import { app, restoreAppState, setOrientation, updateAppState } from './env';\nimport { configureViz, orientationEvent, vizUpdate } from './configureViz';\nimport { setInitialState } from '../config/initialState';\nimport { setDev } from '../services/helpers/setDev';\nimport { browserStorage } from './browserStorage';\nimport { registerEvents } from './registerEvents';\nimport { newMatch } from './displayMatchArchive';\nimport { sendKey, startBroadcast } from './coms';\nimport { changeDisplay } from './viewManager';\nimport { touchManager } from './touchManager';\nimport { defineActionEvents } from './events';\nimport { generateRange } from './utilities';\nimport { modalHelp } from './modalHelp';\nimport { loadMatch } from './loadMatch';\nimport { closeModal } from './modals';\nimport clipboard from 'clipboard';\nimport { UUID } from './UUID';\nimport {\n  changePlayerName,\n  checkPlayerName,\n  loadDetails,\n  resetButtons,\n  swapServer,\n  visibleButtons,\n} from './displayUpdate';\n\nimport iocCodes from './ioc_codes.json';\n\nexport function init() {\n  setDev();\n\n  window.addEventListener(\n    'orientationchange',\n    function () {\n      orientationEvent();\n    },\n    false,\n  );\n  window.addEventListener(\n    'resize',\n    function () {\n      orientationEvent();\n    },\n    false,\n  );\n\n  const queryString: any = {};\n  const query = window.location.search.substring(1);\n  const vars = query.split('&');\n  for (let i = 0; i < vars.length; i++) {\n    const pair = vars[i].split('=');\n    if (typeof queryString[pair[0]] === 'undefined') {\n      queryString[pair[0]] = pair[1];\n    } else if (typeof queryString[pair[0]] === 'string') {\n      const arr = [queryString[pair[0]], pair[1]];\n      queryString[pair[0]] = arr;\n    } else {\n      queryString[pair[0]].push(pair[1]);\n    }\n  }\n  history.pushState('', document.title, window.location.pathname);\n\n  touchManager.disableDrag();\n  registerEvents();\n\n  // dismiss notification of requirements\n  changeDisplay('none', 'welcome');\n\n  // initialize clipboard\n  const clip = new clipboard('.c2c');\n  clip.on('success', () => {\n    closeModal();\n  });\n\n  restoreAppState();\n  checkUserUUID();\n  if (app.broadcast && navigator.onLine) startBroadcast();\n\n  defineEntryEvents();\n  defineActionEvents();\n  touchManager.addSwipeTarget(document.getElementById('mainmenu'));\n\n  // populate drop down list box selectors\n  const select_seed = Array.from(document.querySelectorAll('.md_seed'));\n  select_seed.forEach((select: any) => {\n    generateRange(0, 32).forEach((i: number) => {\n      const optionValue = (i + 1).toString();\n      select.options[i + 1] = new Option(optionValue, optionValue);\n    });\n  });\n  const select_draw_position = Array.from(document.querySelectorAll('.md_draw_position'));\n  select_draw_position.forEach((select: any) => {\n    generateRange(0, 128).forEach((i) => {\n      const optionValue = (i + 1).toString();\n      select.options[i + 1] = new Option(optionValue, optionValue);\n    });\n  });\n  const select_ioc = Array.from(document.querySelectorAll('.md_ioc'));\n  select_ioc.forEach((select: any) => {\n    iocCodes.forEach((entry: any, index: number) => (select.options[index + 1] = new Option(entry.name, entry.ioc)));\n  });\n  // load Details to be sure that ioc data can be used to populate country\n  loadDetails();\n\n  setOrientation();\n  loadCurrent();\n  configureViz();\n  vizUpdate();\n\n  if (queryString.key) {\n    setTimeout(() => sendKey({ key: queryString.key }), 1000);\n  }\n\n  setInitialState();\n}\n\nfunction checkUserUUID() {\n  if (!app.user_uuid) {\n    app.user_uuid = UUID();\n    updateAppState();\n  }\n}\n\nfunction defineEntryEvents() {\n  const catchTab = (evt: any) => {\n    if (evt.which == 9) {\n      evt.preventDefault();\n    }\n  };\n  const playername = document.getElementById('playername');\n  if (playername) {\n    playername.addEventListener('keyup', checkPlayerName, false);\n    playername.addEventListener('keydown', catchTab, false);\n    playername.onblur = function () {\n      changePlayerName();\n    };\n    playername.onfocus = function () {\n      setTimeout(() => {\n        //@ts-expect-error unknown reason\n        this.setSelectionRange(0, this.value.length);\n      }, 100);\n    };\n  }\n  const team = document.getElementById('team');\n  if (team) {\n    team.onblur = function () {\n      changePlayerName();\n    };\n    team.onfocus = function () {\n      setTimeout(() => {\n        //@ts-expect-error unknown reason\n        this.setSelectionRange(0, this.value.length);\n      }, 100);\n    };\n  }\n\n  const playerRank = document.getElementById('player_rank');\n  if (playerRank) {\n    playerRank.onfocus = function () {\n      setTimeout(() => {\n        //@ts-expect-error unknown reason\n        this.setSelectionRange(0, this.value.length);\n      }, 300);\n    };\n  }\n\n  const playerWTN = document.getElementById('player_wtn');\n  if (playerWTN) {\n    playerWTN.onfocus = function () {\n      setTimeout(() => {\n        //@ts-expect-error unknown reason\n        this.setSelectionRange(0, this.value.length);\n      }, 300);\n    };\n  }\n\n  const playerUTR = document.getElementById('player_utr');\n  if (playerUTR) {\n    playerUTR.onfocus = function () {\n      setTimeout(() => {\n        //@ts-expect-error unknown reason\n        this.setSelectionRange(0, this.value.length);\n      }, 300);\n    };\n  }\n\n  const hold_targets = Array.from(document.querySelectorAll('.pressAndHold'));\n  Array.from(hold_targets).forEach((target) => touchManager.addPressAndHold(target));\n}\n\nfunction loadCurrent() {\n  const current_match_id = browserStorage.get('current_match');\n  if (!current_match_id) {\n    const match_archive = browserStorage.get('match_archive');\n    // only show quick start if this is first launch\n    newMatch();\n    if (!match_archive) modalHelp(true);\n  } else {\n    loadMatch(current_match_id);\n    swapServer();\n    resetButtons();\n    visibleButtons();\n  }\n}\n","export default \"__VITE_ASSET__Q_tt1iRc__\"","import chLogo from \"../../assets/images/courthive-transparent-logo.png\";\nimport \"../../styles/default.css\";\nexport function renderDefaultPage(display) {\n    if (display) {\n        document.querySelector(\"#app\").innerHTML = `\n  <div>\n    <a href=\"https://courthive.com\" target=\"_blank\">\n      <img src=\"${chLogo}\" class=\"logo\" alt=\"Vite logo\" />\n    </a>\n    <h1 class=\"name\">CourtHive</h1>\n  </div>\n`;\n    }\n}\n","export var PARAMETER_REGEXP = /([:*])(\\w+)/g;\nexport var REPLACE_VARIABLE_REGEXP = \"([^/]+)\";\nexport var WILDCARD_REGEXP = /\\*/g;\nexport var REPLACE_WILDCARD = \"?(?:.*)\";\nexport var NOT_SURE_REGEXP = /\\/\\?/g;\nexport var REPLACE_NOT_SURE = \"/?([^/]+|)\";\nexport var START_BY_SLASH_REGEXP = \"(?:/^|^)\";\nexport var MATCH_REGEXP_FLAGS = \"\";","import { PARAMETER_REGEXP, WILDCARD_REGEXP, REPLACE_VARIABLE_REGEXP, REPLACE_WILDCARD, START_BY_SLASH_REGEXP, MATCH_REGEXP_FLAGS, REPLACE_NOT_SURE, NOT_SURE_REGEXP } from \"./constants\";\nexport function getCurrentEnvURL(fallback) {\n  if (fallback === void 0) {\n    fallback = \"/\";\n  }\n\n  if (windowAvailable()) {\n    return location.pathname + location.search + location.hash;\n  }\n\n  return fallback;\n}\nexport function clean(s) {\n  return s.replace(/\\/+$/, \"\").replace(/^\\/+/, \"\");\n}\nexport function isString(s) {\n  return typeof s === \"string\";\n}\nexport function isFunction(s) {\n  return typeof s === \"function\";\n}\nexport function extractHashFromURL(url) {\n  if (url && url.indexOf(\"#\") >= 0) {\n    return url.split(\"#\").pop() || \"\";\n  }\n\n  return \"\";\n}\nexport function regExpResultToParams(match, names) {\n  if (names.length === 0) return null;\n  if (!match) return null;\n  return match.slice(1, match.length).reduce(function (params, value, index) {\n    if (params === null) params = {};\n    params[names[index]] = decodeURIComponent(value);\n    return params;\n  }, null);\n}\nexport function extractGETParameters(url) {\n  var tmp = clean(url).split(/\\?(.*)?$/);\n  return [clean(tmp[0]), tmp.slice(1).join(\"\")];\n}\nexport function parseQuery(queryString) {\n  var query = {};\n  var pairs = queryString.split(\"&\");\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i].split(\"=\");\n\n    if (pair[0] !== \"\") {\n      var key = decodeURIComponent(pair[0]);\n\n      if (!query[key]) {\n        query[key] = decodeURIComponent(pair[1] || \"\");\n      } else {\n        if (!Array.isArray(query[key])) query[key] = [query[key]];\n        query[key].push(decodeURIComponent(pair[1] || \"\"));\n      }\n    }\n  }\n\n  return query;\n}\nexport function matchRoute(context, route) {\n  var _extractGETParameters = extractGETParameters(clean(context.currentLocationPath)),\n      current = _extractGETParameters[0],\n      GETParams = _extractGETParameters[1];\n\n  var params = GETParams === \"\" ? null : parseQuery(GETParams);\n  var paramNames = [];\n  var pattern;\n\n  if (isString(route.path)) {\n    pattern = START_BY_SLASH_REGEXP + clean(route.path).replace(PARAMETER_REGEXP, function (full, dots, name) {\n      paramNames.push(name);\n      return REPLACE_VARIABLE_REGEXP;\n    }).replace(WILDCARD_REGEXP, REPLACE_WILDCARD).replace(NOT_SURE_REGEXP, REPLACE_NOT_SURE) + \"$\";\n\n    if (clean(route.path) === \"\") {\n      if (clean(current) === \"\") {\n        return {\n          url: current,\n          queryString: GETParams,\n          hashString: extractHashFromURL(context.to),\n          route: route,\n          data: null,\n          params: params\n        };\n      }\n    }\n  } else {\n    pattern = route.path;\n  }\n\n  var regexp = new RegExp(pattern, MATCH_REGEXP_FLAGS);\n  var match = current.match(regexp);\n\n  if (match) {\n    var data = isString(route.path) ? regExpResultToParams(match, paramNames) : match.groups ? match.groups : match.slice(1);\n    return {\n      url: clean(current.replace(new RegExp(\"^\" + context.instance.root), \"\")),\n      queryString: GETParams,\n      hashString: extractHashFromURL(context.to),\n      route: route,\n      data: data,\n      params: params\n    };\n  }\n\n  return false;\n}\nexport function pushStateAvailable() {\n  return !!(typeof window !== \"undefined\" && window.history && window.history.pushState);\n}\nexport function undefinedOrTrue(obj, key) {\n  return typeof obj[key] === \"undefined\" || obj[key] === true;\n}\nexport function parseNavigateOptions(source) {\n  if (!source) return {};\n  var pairs = source.split(\",\");\n  var options = {};\n  var resolveOptions;\n  pairs.forEach(function (str) {\n    var temp = str.split(\":\").map(function (v) {\n      return v.replace(/(^ +| +$)/g, \"\");\n    });\n\n    switch (temp[0]) {\n      case \"historyAPIMethod\":\n        options.historyAPIMethod = temp[1];\n        break;\n\n      case \"resolveOptionsStrategy\":\n        if (!resolveOptions) resolveOptions = {};\n        resolveOptions.strategy = temp[1];\n        break;\n\n      case \"resolveOptionsHash\":\n        if (!resolveOptions) resolveOptions = {};\n        resolveOptions.hash = temp[1] === \"true\";\n        break;\n\n      case \"updateBrowserURL\":\n      case \"callHandler\":\n      case \"updateState\":\n      case \"force\":\n        options[temp[0]] = temp[1] === \"true\";\n        break;\n    }\n  });\n\n  if (resolveOptions) {\n    options.resolveOptions = resolveOptions;\n  }\n\n  return options;\n}\nexport function windowAvailable() {\n  return typeof window !== \"undefined\";\n}\nexport function accumulateHooks(hooks, result) {\n  if (hooks === void 0) {\n    hooks = [];\n  }\n\n  if (result === void 0) {\n    result = {};\n  }\n\n  hooks.filter(function (h) {\n    return h;\n  }).forEach(function (h) {\n    [\"before\", \"after\", \"already\", \"leave\"].forEach(function (type) {\n      if (h[type]) {\n        if (!result[type]) result[type] = [];\n        result[type].push(h[type]);\n      }\n    });\n  });\n  return result;\n}","export default function Q(funcs, c, done) {\n  var context = c || {};\n  var idx = 0;\n\n  (function next() {\n    if (!funcs[idx]) {\n      if (done) {\n        done(context);\n      }\n\n      return;\n    }\n\n    if (Array.isArray(funcs[idx])) {\n      funcs.splice.apply(funcs, [idx, 1].concat(funcs[idx][0](context) ? funcs[idx][1] : funcs[idx][2]));\n      next();\n    } else {\n      // console.log(funcs[idx].name + \" / \" + JSON.stringify(context));\n      // console.log(funcs[idx].name);\n      funcs[idx](context, function (moveForward) {\n        if (typeof moveForward === \"undefined\" || moveForward === true) {\n          idx += 1;\n          next();\n        } else if (done) {\n          done(context);\n        }\n      });\n    }\n  })();\n}\n\nQ[\"if\"] = function (condition, one, two) {\n  if (!Array.isArray(one)) one = [one];\n  if (!Array.isArray(two)) two = [two];\n  return [condition, one, two];\n};","import { getCurrentEnvURL } from \"../utils\";\nexport default function setLocationPath(context, done) {\n  if (typeof context.currentLocationPath === \"undefined\") {\n    context.currentLocationPath = context.to = getCurrentEnvURL(context.instance.root);\n  }\n\n  context.currentLocationPath = context.instance._checkForAHash(context.currentLocationPath);\n  done();\n}","import { matchRoute } from \"../utils\";\nexport default function matchPathToRegisteredRoutes(context, done) {\n  for (var i = 0; i < context.instance.routes.length; i++) {\n    var route = context.instance.routes[i];\n    var match = matchRoute(context, route);\n\n    if (match) {\n      if (!context.matches) context.matches = [];\n      context.matches.push(match);\n\n      if (context.resolveOptions.strategy === \"ONE\") {\n        done();\n        return;\n      }\n    }\n  }\n\n  done();\n}","export default function checkForDeprecationMethods(context, done) {\n  if (context.navigateOptions) {\n    if (typeof context.navigateOptions[\"shouldResolve\"] !== \"undefined\") {\n      console.warn(\"\\\"shouldResolve\\\" is deprecated. Please check the documentation.\");\n    }\n\n    if (typeof context.navigateOptions[\"silent\"] !== \"undefined\") {\n      console.warn(\"\\\"silent\\\" is deprecated. Please check the documentation.\");\n    }\n  }\n\n  done();\n}","export default function checkForForceOp(context, done) {\n  if (context.navigateOptions.force === true) {\n    context.instance._setCurrent([context.instance._pathToMatchObject(context.to)]);\n\n    done(false);\n  } else {\n    done();\n  }\n}","import { undefinedOrTrue, pushStateAvailable, windowAvailable } from \"../utils\";\nvar isWindowAvailable = windowAvailable();\nvar isPushStateAvailable = pushStateAvailable();\nexport default function updateBrowserURL(context, done) {\n  if (undefinedOrTrue(context.navigateOptions, \"updateBrowserURL\")) {\n    var value = (\"/\" + context.to).replace(/\\/\\//g, \"/\"); // making sure that we don't have two slashes\n\n    var isItUsingHash = isWindowAvailable && context.resolveOptions && context.resolveOptions.hash === true;\n\n    if (isPushStateAvailable) {\n      history[context.navigateOptions.historyAPIMethod || \"pushState\"](context.navigateOptions.stateObj || {}, context.navigateOptions.title || \"\", isItUsingHash ? \"#\" + value : value); // This is to solve a nasty bug where the page doesn't scroll to the anchor.\n      // We set a microtask to update the hash only.\n\n      if (location && location.hash) {\n        context.instance.__freezeListening = true;\n        setTimeout(function () {\n          if (!isItUsingHash) {\n            var tmp = location.hash;\n            location.hash = \"\";\n            location.hash = tmp;\n          }\n\n          context.instance.__freezeListening = false;\n        }, 1);\n      }\n    } else if (isWindowAvailable) {\n      window.location.href = context.to;\n    }\n  }\n\n  done();\n}","import Q from \"../Q\";\nimport { undefinedOrTrue } from \"../utils\";\nexport default function checkForLeaveHook(context, done) {\n  var instance = context.instance;\n\n  if (!instance.lastResolved()) {\n    done();\n    return;\n  }\n\n  Q(instance.lastResolved().map(function (oldMatch) {\n    return function (_, leaveLoopDone) {\n      // no leave hook\n      if (!oldMatch.route.hooks || !oldMatch.route.hooks.leave) {\n        leaveLoopDone();\n        return;\n      }\n\n      var runHook = false;\n      var newLocationVSOldMatch = context.instance.matchLocation(oldMatch.route.path, context.currentLocationPath, false);\n\n      if (oldMatch.route.path !== \"*\") {\n        runHook = !newLocationVSOldMatch;\n      } else {\n        var someOfTheLastOnesMatch = context.matches ? context.matches.find(function (match) {\n          return oldMatch.route.path === match.route.path;\n        }) : false;\n        runHook = !someOfTheLastOnesMatch;\n      }\n\n      if (undefinedOrTrue(context.navigateOptions, \"callHooks\") && runHook) {\n        Q(oldMatch.route.hooks.leave.map(function (f) {\n          // just so we match the Q interface\n          return function (_, d) {\n            return f(function (shouldStop) {\n              if (shouldStop === false) {\n                context.instance.__markAsClean(context);\n              } else {\n                d();\n              }\n            }, context.matches && context.matches.length > 0 ? context.matches.length === 1 ? context.matches[0] : context.matches : undefined);\n          };\n        }).concat([function () {\n          return leaveLoopDone();\n        }]));\n        return;\n      } else {\n        leaveLoopDone();\n      }\n    };\n  }), {}, function () {\n    return done();\n  });\n}","import Q from \"../Q\";\nimport { undefinedOrTrue } from \"../utils\";\nexport default function checkForBeforeHook(context, done) {\n  if (context.match.route.hooks && context.match.route.hooks.before && undefinedOrTrue(context.navigateOptions, \"callHooks\")) {\n    Q(context.match.route.hooks.before.map(function (f) {\n      // just so we match the Q interface\n      return function beforeHookInternal(_, d) {\n        return f(function (shouldStop) {\n          if (shouldStop === false) {\n            context.instance.__markAsClean(context);\n          } else {\n            d();\n          }\n        }, context.match);\n      };\n    }).concat([function () {\n      return done();\n    }]));\n  } else {\n    done();\n  }\n}","import { undefinedOrTrue } from \"../utils\";\nexport default function callHandler(context, done) {\n  if (undefinedOrTrue(context.navigateOptions, \"callHandler\")) {\n    context.match.route.handler(context.match);\n  }\n\n  context.instance.updatePageLinks();\n  done();\n}","import { undefinedOrTrue } from \"../utils\";\nexport default function checkForAfterHook(context, done) {\n  if (context.match.route.hooks && context.match.route.hooks.after && undefinedOrTrue(context.navigateOptions, \"callHooks\")) {\n    context.match.route.hooks.after.forEach(function (f) {\n      return f(context.match);\n    });\n  }\n\n  done();\n}","import { undefinedOrTrue } from \"../utils\";\nexport default function checkForAlreadyHook(context, done) {\n  var current = context.instance.lastResolved();\n\n  if (current && current[0] && current[0].route === context.match.route && current[0].url === context.match.url && current[0].queryString === context.match.queryString) {\n    current.forEach(function (c) {\n      if (c.route.hooks && c.route.hooks.already) {\n        if (undefinedOrTrue(context.navigateOptions, \"callHooks\")) {\n          c.route.hooks.already.forEach(function (f) {\n            return f(context.match);\n          });\n        }\n      }\n    });\n    done(false);\n    return;\n  }\n\n  done();\n}","import { parseQuery, extractGETParameters, clean, extractHashFromURL } from \"../utils\";\nexport default function checkForNotFoundHandler(context, done) {\n  var notFoundRoute = context.instance._notFoundRoute;\n\n  if (notFoundRoute) {\n    context.notFoundHandled = true;\n\n    var _extractGETParameters = extractGETParameters(context.currentLocationPath),\n        url = _extractGETParameters[0],\n        queryString = _extractGETParameters[1];\n\n    var hashString = extractHashFromURL(context.to);\n    notFoundRoute.path = clean(url);\n    var notFoundMatch = {\n      url: notFoundRoute.path,\n      queryString: queryString,\n      hashString: hashString,\n      data: null,\n      route: notFoundRoute,\n      params: queryString !== \"\" ? parseQuery(queryString) : null\n    };\n    context.matches = [notFoundMatch];\n    context.match = notFoundMatch;\n  }\n\n  done();\n}","export default function errorOut(context, done) {\n  if (!context.resolveOptions || context.resolveOptions.noMatchWarning === false || typeof context.resolveOptions.noMatchWarning === \"undefined\") console.warn(\"Navigo: \\\"\" + context.currentLocationPath + \"\\\" didn't match any of the registered routes.\");\n  done();\n}","export default function flushCurrent(context, done) {\n  context.instance._setCurrent(null);\n\n  done();\n}","import { undefinedOrTrue } from \"../utils\";\nexport default function updateState(context, done) {\n  if (undefinedOrTrue(context.navigateOptions, \"updateState\")) {\n    context.instance._setCurrent(context.matches);\n  }\n\n  done();\n}","import Q from \"./Q\";\nimport checkForLeaveHook from \"./middlewares/checkForLeaveHook\";\nimport checkForBeforeHook from \"./middlewares/checkForBeforeHook\";\nimport callHandler from \"./middlewares/callHandler\";\nimport checkForAfterHook from \"./middlewares/checkForAfterHook\";\nimport checkForAlreadyHook from \"./middlewares/checkForAlreadyHook\";\nimport checkForNotFoundHandler from \"./middlewares/checkForNotFoundHandler\";\nimport errorOut from \"./middlewares/errorOut\";\nimport flushCurrent from \"./middlewares/flushCurrent\";\nimport updateState from \"./middlewares/updateState\";\nexport var foundLifecycle = [checkForAlreadyHook, checkForBeforeHook, callHandler, checkForAfterHook];\nexport var notFoundLifeCycle = [checkForLeaveHook, checkForNotFoundHandler, Q[\"if\"](function (_ref) {\n  var notFoundHandled = _ref.notFoundHandled;\n  return notFoundHandled;\n}, foundLifecycle.concat([updateState]), [errorOut, flushCurrent])];","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport Q from \"../Q\";\nimport { foundLifecycle } from \"../lifecycles\";\nimport updateState from \"./updateState\";\nimport checkForLeaveHook from \"./checkForLeaveHook\";\nexport default function processMatches(context, done) {\n  var idx = 0;\n\n  function nextMatch() {\n    if (idx === context.matches.length) {\n      updateState(context, done);\n      return;\n    }\n\n    Q(foundLifecycle, _extends({}, context, {\n      match: context.matches[idx]\n    }), function end() {\n      idx += 1;\n      nextMatch();\n    });\n  }\n\n  checkForLeaveHook(context, nextMatch);\n}","export default function waitingList(context) {\n  context.instance.__markAsClean(context);\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { pushStateAvailable, matchRoute, parseQuery, extractGETParameters, isFunction, isString, clean, parseNavigateOptions, windowAvailable, getCurrentEnvURL, accumulateHooks, extractHashFromURL } from \"./utils\";\nimport Q from \"./Q\";\nimport setLocationPath from \"./middlewares/setLocationPath\";\nimport matchPathToRegisteredRoutes from \"./middlewares/matchPathToRegisteredRoutes\";\nimport checkForDeprecationMethods from \"./middlewares/checkForDeprecationMethods\";\nimport checkForForceOp from \"./middlewares/checkForForceOp\";\nimport updateBrowserURL from \"./middlewares/updateBrowserURL\";\nimport processMatches from \"./middlewares/processMatches\";\nimport waitingList from \"./middlewares/waitingList\";\nimport { notFoundLifeCycle } from \"./lifecycles\";\nvar DEFAULT_LINK_SELECTOR = \"[data-navigo]\";\nexport default function Navigo(appRoute, options) {\n  var DEFAULT_RESOLVE_OPTIONS = options || {\n    strategy: \"ONE\",\n    hash: false,\n    noMatchWarning: false,\n    linksSelector: DEFAULT_LINK_SELECTOR\n  };\n  var self = this;\n  var root = \"/\";\n  var current = null;\n  var routes = [];\n  var destroyed = false;\n  var genericHooks;\n  var isPushStateAvailable = pushStateAvailable();\n  var isWindowAvailable = windowAvailable();\n\n  if (!appRoute) {\n    console.warn('Navigo requires a root path in its constructor. If not provided will use \"/\" as default.');\n  } else {\n    root = clean(appRoute);\n  }\n\n  function _checkForAHash(url) {\n    if (url.indexOf(\"#\") >= 0) {\n      if (DEFAULT_RESOLVE_OPTIONS.hash === true) {\n        url = url.split(\"#\")[1] || \"/\";\n      } else {\n        url = url.split(\"#\")[0];\n      }\n    }\n\n    return url;\n  }\n\n  function composePathWithRoot(path) {\n    return clean(root + \"/\" + clean(path));\n  }\n\n  function createRoute(path, handler, hooks, name) {\n    path = isString(path) ? composePathWithRoot(path) : path;\n    return {\n      name: name || clean(String(path)),\n      path: path,\n      handler: handler,\n      hooks: accumulateHooks(hooks)\n    };\n  } // public APIs\n\n\n  function on(path, handler, hooks) {\n    var _this = this;\n\n    if (typeof path === \"object\" && !(path instanceof RegExp)) {\n      Object.keys(path).forEach(function (p) {\n        if (typeof path[p] === \"function\") {\n          _this.on(p, path[p]);\n        } else {\n          var _path$p = path[p],\n              _handler = _path$p.uses,\n              name = _path$p.as,\n              _hooks = _path$p.hooks;\n          routes.push(createRoute(p, _handler, [genericHooks, _hooks], name));\n        }\n      });\n      return this;\n    } else if (typeof path === \"function\") {\n      hooks = handler;\n      handler = path;\n      path = root;\n    }\n\n    routes.push(createRoute(path, handler, [genericHooks, hooks]));\n    return this;\n  }\n\n  function resolve(to, options) {\n    if (self.__dirty) {\n      self.__waiting.push(function () {\n        return self.resolve(to, options);\n      });\n\n      return;\n    } else {\n      self.__dirty = true;\n    }\n\n    to = to ? clean(root) + \"/\" + clean(to) : undefined; // console.log(\"-- resolve --> \" + to, self.__dirty);\n\n    var context = {\n      instance: self,\n      to: to,\n      currentLocationPath: to,\n      navigateOptions: {},\n      resolveOptions: _extends({}, DEFAULT_RESOLVE_OPTIONS, options)\n    };\n    Q([setLocationPath, matchPathToRegisteredRoutes, Q[\"if\"](function (_ref) {\n      var matches = _ref.matches;\n      return matches && matches.length > 0;\n    }, processMatches, notFoundLifeCycle)], context, waitingList);\n    return context.matches ? context.matches : false;\n  }\n\n  function navigate(to, navigateOptions) {\n    // console.log(\"-- navigate --> \" + to, self.__dirty);\n    if (self.__dirty) {\n      self.__waiting.push(function () {\n        return self.navigate(to, navigateOptions);\n      });\n\n      return;\n    } else {\n      self.__dirty = true;\n    }\n\n    to = clean(root) + \"/\" + clean(to);\n    var context = {\n      instance: self,\n      to: to,\n      navigateOptions: navigateOptions || {},\n      resolveOptions: navigateOptions && navigateOptions.resolveOptions ? navigateOptions.resolveOptions : DEFAULT_RESOLVE_OPTIONS,\n      currentLocationPath: _checkForAHash(to)\n    };\n    Q([checkForDeprecationMethods, checkForForceOp, matchPathToRegisteredRoutes, Q[\"if\"](function (_ref2) {\n      var matches = _ref2.matches;\n      return matches && matches.length > 0;\n    }, processMatches, notFoundLifeCycle), updateBrowserURL, waitingList], context, waitingList);\n  }\n\n  function navigateByName(name, data, options) {\n    var url = generate(name, data);\n\n    if (url !== null) {\n      navigate(url.replace(new RegExp(\"^/?\" + root), \"\"), options);\n      return true;\n    }\n\n    return false;\n  }\n\n  function off(what) {\n    this.routes = routes = routes.filter(function (r) {\n      if (isString(what)) {\n        return clean(r.path) !== clean(what);\n      } else if (isFunction(what)) {\n        return what !== r.handler;\n      }\n\n      return String(r.path) !== String(what);\n    });\n    return this;\n  }\n\n  function listen() {\n    if (isPushStateAvailable) {\n      this.__popstateListener = function () {\n        if (!self.__freezeListening) {\n          resolve();\n        }\n      };\n\n      window.addEventListener(\"popstate\", this.__popstateListener);\n    }\n  }\n\n  function destroy() {\n    this.routes = routes = [];\n\n    if (isPushStateAvailable) {\n      window.removeEventListener(\"popstate\", this.__popstateListener);\n    }\n\n    this.destroyed = destroyed = true;\n  }\n\n  function notFound(handler, hooks) {\n    self._notFoundRoute = createRoute(\"*\", handler, [genericHooks, hooks], \"__NOT_FOUND__\");\n    return this;\n  }\n\n  function updatePageLinks() {\n    if (!isWindowAvailable) return;\n    findLinks().forEach(function (link) {\n      if (\"false\" === link.getAttribute(\"data-navigo\") || \"_blank\" === link.getAttribute(\"target\")) {\n        if (link.hasListenerAttached) {\n          link.removeEventListener(\"click\", link.navigoHandler);\n        }\n\n        return;\n      }\n\n      if (!link.hasListenerAttached) {\n        link.hasListenerAttached = true;\n\n        link.navigoHandler = function (e) {\n          if ((e.ctrlKey || e.metaKey) && e.target.tagName.toLowerCase() === \"a\") {\n            return false;\n          }\n\n          var location = link.getAttribute(\"href\");\n\n          if (typeof location === \"undefined\" || location === null) {\n            return false;\n          } // handling absolute paths\n\n\n          if (location.match(/^(http|https)/) && typeof URL !== \"undefined\") {\n            try {\n              var u = new URL(location);\n              location = u.pathname + u.search;\n            } catch (err) {}\n          }\n\n          var options = parseNavigateOptions(link.getAttribute(\"data-navigo-options\"));\n\n          if (!destroyed) {\n            e.preventDefault();\n            e.stopPropagation();\n            self.navigate(clean(location), options);\n          }\n        };\n\n        link.addEventListener(\"click\", link.navigoHandler);\n      }\n    });\n    return self;\n  }\n\n  function findLinks() {\n    if (isWindowAvailable) {\n      return [].slice.call(document.querySelectorAll(DEFAULT_RESOLVE_OPTIONS.linksSelector || DEFAULT_LINK_SELECTOR));\n    }\n\n    return [];\n  }\n\n  function link(path) {\n    return \"/\" + root + \"/\" + clean(path);\n  }\n\n  function setGenericHooks(hooks) {\n    genericHooks = hooks;\n    return this;\n  }\n\n  function lastResolved() {\n    return current;\n  }\n\n  function generate(name, data, options) {\n    var route = routes.find(function (r) {\n      return r.name === name;\n    });\n    var result = null;\n\n    if (route) {\n      result = route.path;\n\n      if (data) {\n        for (var key in data) {\n          result = result.replace(\":\" + key, data[key]);\n        }\n      }\n\n      result = !result.match(/^\\//) ? \"/\" + result : result;\n    }\n\n    if (result && options && !options.includeRoot) {\n      result = result.replace(new RegExp(\"^/\" + root), \"\");\n    }\n\n    return result;\n  }\n\n  function getLinkPath(link) {\n    return link.getAttribute(\"href\");\n  }\n\n  function pathToMatchObject(path) {\n    var _extractGETParameters = extractGETParameters(clean(path)),\n        url = _extractGETParameters[0],\n        queryString = _extractGETParameters[1];\n\n    var params = queryString === \"\" ? null : parseQuery(queryString);\n    var hashString = extractHashFromURL(path);\n    var route = createRoute(url, function () {}, [genericHooks], url);\n    return {\n      url: url,\n      queryString: queryString,\n      hashString: hashString,\n      route: route,\n      data: null,\n      params: params\n    };\n  }\n\n  function getCurrentLocation() {\n    return pathToMatchObject(clean(getCurrentEnvURL(root)).replace(new RegExp(\"^\" + root), \"\"));\n  }\n\n  function directMatchWithRegisteredRoutes(path) {\n    var context = {\n      instance: self,\n      currentLocationPath: path,\n      to: path,\n      navigateOptions: {},\n      resolveOptions: DEFAULT_RESOLVE_OPTIONS\n    };\n    matchPathToRegisteredRoutes(context, function () {});\n    return context.matches ? context.matches : false;\n  }\n\n  function directMatchWithLocation(path, currentLocation, annotatePathWithRoot) {\n    if (typeof currentLocation !== \"undefined\" && (typeof annotatePathWithRoot === \"undefined\" || annotatePathWithRoot)) {\n      currentLocation = composePathWithRoot(currentLocation);\n    }\n\n    var context = {\n      instance: self,\n      to: currentLocation,\n      currentLocationPath: currentLocation\n    };\n    setLocationPath(context, function () {});\n\n    if (typeof path === \"string\") {\n      path = typeof annotatePathWithRoot === \"undefined\" || annotatePathWithRoot ? composePathWithRoot(path) : path;\n    }\n\n    var match = matchRoute(context, {\n      name: String(path),\n      path: path,\n      handler: function handler() {},\n      hooks: {}\n    });\n    return match ? match : false;\n  }\n\n  function addHook(type, route, func) {\n    if (typeof route === \"string\") {\n      route = getRoute(route);\n    }\n\n    if (route) {\n      if (!route.hooks[type]) route.hooks[type] = [];\n      route.hooks[type].push(func);\n      return function () {\n        route.hooks[type] = route.hooks[type].filter(function (f) {\n          return f !== func;\n        });\n      };\n    } else {\n      console.warn(\"Route doesn't exists: \" + route);\n    }\n\n    return function () {};\n  }\n\n  function getRoute(nameOrHandler) {\n    if (typeof nameOrHandler === \"string\") {\n      return routes.find(function (r) {\n        return r.name === composePathWithRoot(nameOrHandler);\n      });\n    }\n\n    return routes.find(function (r) {\n      return r.handler === nameOrHandler;\n    });\n  }\n\n  function __markAsClean(context) {\n    context.instance.__dirty = false;\n\n    if (context.instance.__waiting.length > 0) {\n      context.instance.__waiting.shift()();\n    }\n  }\n\n  this.root = root;\n  this.routes = routes;\n  this.destroyed = destroyed;\n  this.current = current;\n  this.__freezeListening = false;\n  this.__waiting = [];\n  this.__dirty = false;\n  this.__markAsClean = __markAsClean;\n  this.on = on;\n  this.off = off;\n  this.resolve = resolve;\n  this.navigate = navigate;\n  this.navigateByName = navigateByName;\n  this.destroy = destroy;\n  this.notFound = notFound;\n  this.updatePageLinks = updatePageLinks;\n  this.link = link;\n  this.hooks = setGenericHooks;\n\n  this.extractGETParameters = function (url) {\n    return extractGETParameters(_checkForAHash(url));\n  };\n\n  this.lastResolved = lastResolved;\n  this.generate = generate;\n  this.getLinkPath = getLinkPath;\n  this.match = directMatchWithRegisteredRoutes;\n  this.matchLocation = directMatchWithLocation;\n  this.getCurrentLocation = getCurrentLocation;\n  this.addBeforeHook = addHook.bind(this, \"before\");\n  this.addAfterHook = addHook.bind(this, \"after\");\n  this.addAlreadyHook = addHook.bind(this, \"already\");\n  this.addLeaveHook = addHook.bind(this, \"leave\");\n  this.getRoute = getRoute;\n  this._pathToMatchObject = pathToMatchObject;\n  this._clean = clean;\n  this._checkForAHash = _checkForAHash;\n\n  this._setCurrent = function (c) {\n    return current = self.current = c;\n  };\n\n  listen.call(this);\n  updatePageLinks.call(this);\n}","import { renderDefaultPage } from \"../pages/courthive/default\";\nimport Navigo from \"navigo\";\n\nexport function router() {\n  const routerRoot = window.location.host.startsWith(\"localhost\")\n    ? \"/\"\n    : process.env.PUBLIC_URL ?? \"/\";\n\n  const useHash = true;\n  const router = new Navigo(useHash ? \"/\" : `/${routerRoot}`, {\n    hash: useHash,\n  });\n  router.on(`/default`, () => renderDefaultPage(false));\n\n  router.notFound(() => {\n    router.navigate(\"/default\");\n  });\n  router.resolve();\n}\n","import { init } from './transition/init.ts';\nimport { router } from './router/router';\n\ninit();\nrouter();\n"],"names":["_hasLocalStorageSupport","_readCookie","name","nameEQ","ca","i","c","_writeCookie","value","days","expiration","date","browserStorage","isJSON","str","showModal","text","data","modalText","c2c","modal","firstAndLast","parts","display","getOpponents","match","format","sides","e","teamName","side","attemptJSONparse","formatDate","separator","d","month","day","year","generateRange","start","end","_","k","findUpClass","el","class_name","umo","defaultPointParser","formats","type","code","description","tiebreak","hasDecider","threshold","minDiff","children","decidingChild","hasType","hasCode","index","object","parent_object","child","common","so","fx","action","episode","set","points","point","point_history","counters","score","map","team","counter","force","beyondDoubleThreshold","last_child","descendent","last_first_service","next_first_service","min_diff","countersAtValue","deciding_child_required","total_children","new_child","source_format","copyAttributes","source","target","attributes","attribute","addPoint","server","points_to_game","has_game_point","points_to_set","values","last_point","last_points","attempt","change","p","f","result","player","points_to_player","added","rejected","indices","numbersArray","past_threshold","value_difference","winner","v","m","progression","adProgression","noAdProgression","key","point_value","count","undo","undo_actions","undone","common_episode","last_child_complete","params","perspective","loser","pts","deciding_game","score_difference","deciding_game_format_required","games_to_set","player_score","opponent_score","last_game","player_games_to_set","points_needed","formatScore","p0score","p1score","t0score","t1score","last_game_score","tiebreak_score","game","deciding_point","scoreboard","opponent_points","opponent_point","teams","score_object","winning_team","serving_team","parseCode","parseScore","upper_code","modifier","last_score","combinedTotal","a","b","last_values","mf","sf","gf","plural","fo","format_type","players","has_decider","number_of_players","addPoint_events","undo_events","reset_events","metadata","stat_points","last_episode","filtered_stats","accessors","order","changeOrder","birth","playerId","hand","seed","rank","age","entry","ioc","draw_position","wtn","utr","id","definition","tuid","start_date","tour","surface","in_out","draw","draw_size","round","level","muid","gender","court","start_time","end_time","duration","status","umpire","official_score","first_service","calcTiebreakService","submitted","counterpart","sameOrder","o","notXinY","x","y","n","no_format_change","new_teams","serviceToOpponent","opponents","sameTeam","s","number","calcNext","last_position","pos","next_position","last_service","pub","setServiceOrder","existing_order","new_order","addEvent","add_event","undoEvent","undo_event","resetEvent","reset_event","clearEvents","parser","service","history","set_filter","calculatedStats","episodes","server_team","team_winner","team_loser","addStat","grouping","group","stat","stats","calculated_stats","reduceComponents","components","component","component_team","numeratorDenominator","stat_obj","numerator","denominator","displayPct","pct","stat_calcs","current","max_consecutive","consecutive","diff","point_counts","total_points","teams_counters","required_counters","team_stats","mo","ch_version","charts","app","settings","env","c1","c2","c3","buttons","options","device","default_players","clearActionEvents","updatePositions","left_side","right_side","updateMatchArchive","player_names","p1","p2","element","match_id","match_archive","match_object","restoreAppState","app_settings","em","app_state","updateAppState","setOrientation","formatChangePossible","displayPointHistory","games","groupGames","html","gameEntry","matchDuration","phFrame","point_episodes","game_counter","current_game","game_score","servergame","pointEntry","evenodd","point_score","player_initials","shot_by","point_hand","point_result","point_description","rally","timestamps","seconds","HHMMSS","sec_num","hours","minutes","closeModal","updateScore","sets_counter","games_counter","field","sets","max_games","loadDetails","detail","target_id","match_details","tid","tournament","stateChangeEvent","updateState","visibleButtons","div","status_message","statusMessage","swapServer","resetButtons","server_side","receiver_side","server_mode","server_fault","server_ace","server_let","receiver_mode","receiver_ufe","receiver_winner","receiver_forced","game_number","swapSides","setCourtSide","changeTextColor","changeClassDisplay","classes","obj","className","checkPlayerName","keypress","player_hand","changePlayerName","player_name","update","editMatchDetails","matchDetails","detailContent","exportImage","recycleImage","modalExport","selector","match_data","header","save","copy","modaltext","util","newclass","re","SwipeList","opt","swipeLeft","swipeRight","instances","instance","moveX","moveY","moveStart","leftpx","rightpx","button","btn","abtn","img","event","inst","touches","nowX","nowY","defineActionEvents","resetStyles","resetButton","UUID","lut","d0","d1","d2","d3","loadMatch","view","viewManager","json","mdFormat","displayMatchArchive","active","item","newMatch","archiveEntry","ma_elem","_b","_a","deleteMatch","current_match_id","archive_id","resetMatch","force_format","months","display_date","display_players","match_score","match_format","displayFormats","format_types","formatEntry","matchFormatList","ascending$1","bisector","compare","ascendingComparator","lo","hi","mid","ascending","ascendingBisect","bisectRight","sequence","stop","step","range","e10","e5","e2","ticks","reverse","tickIncrement","power","error","tickStep","step0","step1","slice","identity$2","top","right","bottom","left","epsilon","translateX","translateY","scale","center","offset","entering","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","transform","context","identity","spacing","range0","range1","position","selection","path","tick","tickExit","tickEnter","line","axisBottom","axisLeft","noop","dispatch","t","Dispatch","parseTypenames","typenames","types","typename","callback","T","get","that","args","xhtml","namespaces","namespace","prefix","creatorInherit","document","uri","creatorFixed","fullname","creator","none","selection_select","select","groups","subgroups","j","subgroup","node","subnode","Selection","empty","selectorAll","selection_selectAll","parents","matcher","vendorMatches","matcher$1","selection_filter","sparse","selection_enter","EnterNode","parent","datum","next","constant$3","keyPrefix","bindIndex","enter","exit","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","keyValue","selection_data","bind","constant","enterGroup","updateGroup","exitGroup","i0","i1","previous","selection_exit","selection_merge","groups0","groups1","m0","m1","merges","group0","group1","merge","selection_order","selection_sort","compareNode","sortgroups","sortgroup","selection_call","selection_nodes","nodes","selection_node","selection_size","size","selection_empty","selection_each","attrRemove","attrRemoveNS","attrConstant","attrConstantNS","attrFunction","attrFunctionNS","selection_attr","defaultView","styleRemove","styleConstant","priority","styleFunction","selection_style","styleValue","propertyRemove","propertyConstant","propertyFunction","selection_property","classArray","string","classList","ClassList","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","selection_classed","textRemove","textConstant","textFunction","selection_text","htmlRemove","htmlConstant","htmlFunction","selection_html","raise","selection_raise","lower","selection_lower","selection_append","create","constantNull","selection_insert","before","remove","selection_remove","selection_cloneShallow","selection_cloneDeep","selection_clone","deep","selection_datum","filterEvents","filterContextListener","listener","contextListener","related","event1","onRemove","on","onAdd","capture","wrap","selection_on","dispatchEvent","window","dispatchConstant","dispatchFunction","selection_dispatch","root","nextId","Local","selectAll","define","constructor","factory","prototype","extend","Color","darker","brighter","reI","reN","reP","reHex3","reHex6","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","color","Rgb","rgbn","rgba","hsla","r","g","rgbConvert","rgb","opacity","h","l","Hsl","hslConvert","min","max","hsl","m2","hsl2rgb","deg2rad","rad2deg","Kn","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","rgb2xyz","xyz2lab","z","lab","lab2xyz","xyz2rgb","hclConvert","hcl","A","B","C","D","E","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","cubehelix","cosh","sinh","constant$2","linear","exponential","hue","gamma","nogamma","interpolateRgb","rgbGamma","colorRgb","array$1","nb","na","reinterpolate","reA","reB","zero","one","interpolateString","bi","am","bm","bs","q","interpolateValue","array","interpolateRound","degrees","decompose","scaleX","scaleY","skewX","cssNode","cssRoot","cssView","svgNode","parseCss","parseSvg","interpolateTransform","parse","pxComma","pxParen","degParen","pop","translate","xa","ya","xb","yb","rotate","interpolateTransformCss","interpolateTransformSvg","colorHcl","hcl$1","cubehelixGamma","colorCubehelix","cubehelixLong","frame","timeout","interval","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","setFrame","now","clearNow","Timer","timer","delay","time","sleep","timerFlush","wake","nap","poke","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedule","timing","schedules","init","self","tween","interrupt","selection_interrupt","tweenRemove","tween0","tween1","tweenFunction","transition_tween","tweenValue","transition","interpolate","interpolateNumber","value1","value00","interpolate0","value0","value10","transition_attr","attrTweenNS","attrTween","transition_attrTween","delayFunction","delayConstant","transition_delay","durationFunction","durationConstant","transition_duration","easeConstant","transition_ease","transition_filter","Transition","transition_merge","onFunction","on0","on1","sit","transition_on","removeFunction","transition_remove","transition_select","transition_selectAll","inherit","transition_selection","style","styleRemoveEnd","transition_style","styleTween","transition_styleTween","transition_text","transition_transition","id0","id1","newId","selection_prototype","cubicInOut","exponent","custom","polyIn","polyOut","polyInOut","overshoot","backIn","backOut","backInOut","tau","amplitude","period","elasticIn","elasticOut","elasticInOut","defaultTiming","easeCubicInOut","selection_transition","pi","tauEpsilon","Path","x1","y1","x2","y2","x0","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","a0","a1","ccw","dx","dy","cw","da","w","Map","property","keys","entries","Set","proto","EOL","EOF","QUOTE","NEWLINE","RETURN","objectConverter","columns","customConverter","row","inferColumns","rows","columnSet","column","dsv","delimiter","reFormat","DELIMITER","convert","parseRows","N","I","eof","eol","token","formatValue","formatRows","formatRow","tree_add","add","tree","leaf","xm","ym","xp","yp","addAll","xz","yz","tree_cover","tree_data","tree_extent","Quad","tree_find","radius","x3","y3","quads","tree_remove","retainer","removeAll","tree_root","tree_size","tree_visit","tree_visitAfter","tree_x","tree_y","Quadtree","leaf_copy","treeProto","tree_addAll","tree_removeAll","formatDecimal","coefficient","formatGroup","thousands","width","length","formatNumerals","numerals","formatDefault","out","prefixExponent","formatPrefixAuto","formatRounded","formatTypes","formatSpecifier","specifier","FormatSpecifier","fill","align","sign","symbol","comma","precision","prefixes","formatLocale$1","locale","currency","decimal","percent","newFormat","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","padding","formatPrefix","defaultLocale","formatLocale","precisionFixed","precisionPrefix","precisionRound","adder","Adder","temp","bv","av","rotationIdentity","lambda","phi","TransformStream","equirectangularRaw","sum","node_count","node_each","node_eachBefore","node_eachAfter","node_sum","node_sort","node_path","ancestor","leastCommonAncestor","aNodes","bNodes","node_ancestors","node_descendants","node_leaves","leaves","node_links","links","hierarchy","Node","valued","childs","defaultChildren","computeHeight","node_copy","copyData","height","treemapDice","treemapSlice","squarifyRatio","ratio","nodeValue","sumValue","minValue","maxValue","newRatio","minRatio","alpha","beta","squarify","resquarify","noabort","Queue","abort","results","maybeNotify","defaultSource","sourceRandomUniform","randomUniform","normal","sourceRandomNormal","randomNormal","mu","sigma","sourceRandomLogNormal","randomLogNormal","irwinHall","sourceRandomIrwinHall","randomIrwinHall","sourceRandomBates","randomBates","sourceRandomExponential","randomExponential","implicit","ordinal","domain","unknown","band","ordinalRange","bandwidth","paddingInner","paddingOuter","rescale","pointish","constant$1","unit","deinterpolateLinear","deinterpolateClamp","deinterpolate","reinterpolateClamp","bimap","r0","r1","polymap","bisect","continuous","clamp","piecewise","output","input","linearish","newInterval","floori","offseti","test","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","second","minute","hour","weekday","sunday","monday","tuesday","wednesday","thursday","friday","saturday","utcMinute","utcHour","utcDay","utcWeekday","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcMonth","utcYear","localDate","utcDate","newYear","locale_dateTime","locale_date","locale_time","locale_periods","locale_weekdays","locale_shortWeekdays","locale_months","locale_shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseYear","parseFullYear","parseZone","parseLiteralPercent","pad","pads","newParse","newDate","parseSpecifier","week","timeMonday","timeDay","numberRe","percentRe","requoteRe","requote","timeYear","timeSunday","timeThursday","dow","utcFormat","utcParse","isoSpecifier","formatIsoNative","parseIsoNative","colors","interpolateCubehelixLong","ramp","Linear","curveLinear","pointX","pointY","defined","curve","defined0","buffer","noop$1","Basis","Bundle","bundle","Cardinal","tension","cardinal","CardinalClosed","CardinalOpen","CatmullRom","x23","y23","catmullRom","CatmullRomClosed","CatmullRomOpen","slope3","h0","h1","s0","s1","slope2","MonotoneX","RedBlackTree","RedBlackNode","after","grandpa","uncle","RedBlackFirst","RedBlackRotateLeft","RedBlackRotateRight","sibling","red","createEdge","v0","v1","edge","edges","setEdgeEnd","cells","createBorderEdge","vertex","clipEdge","ax","ay","bx","by","connectEdge","lx","ly","rx","ry","fy","fm","fb","clipEdges","createCell","site","cellHalfedgeAngle","cell","va","vb","cellHalfedgeStart","cellHalfedgeEnd","sortCellHalfedges","halfedges","clipCells","nCells","iCell","iHalfedge","nHalfedges","startX","startY","endX","endY","cover","dc","v00","v01","v11","v10","circlePool","firstCircle","Circle","attachCircle","arc","lArc","rArc","lSite","cSite","rSite","cx","cy","epsilon2","ha","hc","circle","circles","detachCircle","beachPool","Beach","createBeach","beach","detachBeach","beaches","removeBeach","disappearing","nArcs","iArc","addBeach","directrix","dxl","dxr","leftBreakPoint","rightBreakPoint","newArc","hb","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","triangleArea","lexicographic","Diagram","sites","extent","polygon","triangles","e1","vx","vy","v2","Transform","location","strokeSlider","show","stroke_slider","slideRight","slideLeft","hideSlide","d3.range","d3.selectAll","supportsPassive","opts","behaviors","handleTouchStart","handleTouchMove","swipeTouchEnd","pressAndHoldEnd","preventDrag","preventDoubleTap","evt","last_touch","xDown","yDown","xDiff","yDiff","timeDown","touch_target","xUp","yUp","findAncestor","cls","timeDiff","touchManager","simpleChart","dom_parent","d3.select","screen_width","screen_height","min_points","svg","margin","d3.scaleLinear","d3.line","chart","maxY","d3.axisBottom","d3.axisLeft","drawLines","appendCircles","lineData","targetclass","updateStats","setNumber","statselectors","stripModifiers","statView","left_display","right_display","numerators","statclass","table","left_results","right_results","stroke","statLines","addCharts","player_points","changeDisplay","new_view","views","activate","menuMatchArchive","menuMatchFormat","menuChangeServer","noAd","view_keys","gameFish","fish_width","fish_height","coords","last_coords","images","default_colors","events","fishFrame","bars","fish","dims","multiplier","max_rally","vert","fish_offset","fish_length","midpoint","sw","rw","cell_size","offset_divisor","cell_offset","cell_length","diag","grid_data","grid_labels","grid_side","label","gscoreT","gridcells","lineWidth","gridCT","gamecells","gameCT","zX","zY","circleRadius","oScale","lScale","d3.scaleBand","rally_bars","rallyTstart","rallyT","rallyCalc","set_score","sscoreT","ssb","ssbT","serves","first_serve","serve_outcomes","sX","sY","colorShot","service_box","sBoxT","returns","rX","rY","colorReturn","findOffset","cL","rO","rL","sO","sL","zO","zL","keyWalk","valuesObject","optionsObject","vKeys","oKeys","oo","vo","functions","color3s","momentumChart","fish_school","momentumFrame","all_games","cellSize","score_lines","new_coords","showImages","hideImages","midline","scoreLines","score_text","scoreText","scores","scoreT","maxDiff","max_diff","cumulative","gameTree","applyMax","arr","applyMin","canvas","transition_time","point_connector","selectView","counterCalcs","tree_width","tree_height","point_lines","point_min","point_max","gradients","get_id","point_stops","calcStops","lines","ulines","under_lines","point_circles","colorShade","getHexColor","point_text","labels","label_text","selectors","clearView","_data","selected","previous_episode","calcPosition","winners","errors","winner_pct","u_pct","c_start","c_dist","r_start","r_dist","shadeColor2","R","G","shadeRGBColor","colorStr","ptsMatch","pts_sets","pts_charts","ptsChart","true_height","colores","max_width_points","matchObject","set_data","game_data","ptsHover","set_winner","resize","range_start","pts_max","pts_start","longest_rally","displayScore","xScale","calcWidth","pointScale","yScale","set_box","boxWidth","game_boundaries","game_boxes","lineGen","pts_lines","bp_data","bp_wrappers","breakpoints","add_index","points_index","barsX","bX","point_bars","lastName","split","legend","win_pct","err_pct","rally_pct","dl","vKey","sKeys","osKeys","sKey","set_object","fKeys","eKeys","fKey","configureViz","pcolors","showGame","showGameFish","closeGameFish","gFish","vizUpdate","direction","orientationEvent","setWindow","windowEvent","reason","message","version","setInitialState","provider","getJwtTokenStorageKey","pulseCircle","pulse_circles","stroke_width","delay_multiplier","color_range","margins","d3.interpolateHcl","colorFill","d3.scalePoint","broadcastToggle","repeat","d3.active","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","withNativeBlob","withNativeArrayBuffer","isView","encodePacket","supportsBinary","encodeBlobAsBase64","fileReader","content","toArray","TEXT_ENCODER","encodePacketToBinary","packet","encoded","chars","lookup","decode","base64","bufferLength","len","encoded1","encoded2","encoded3","encoded4","arraybuffer","bytes","decodePacket","encodedPacket","binaryType","mapBinary","decodeBase64Packet","decoded","SEPARATOR","encodePayload","packets","encodedPackets","decodePayload","encodedPayload","decodedPacket","createPacketEncoderStream","controller","payloadLength","TEXT_DECODER","totalLength","chunks","acc","chunk","concatChunks","createPacketDecoderStream","maxPayload","state","expectedLength","isBinary","headerArray","protocol","Emitter","mixin","fn","callbacks","cb","globalThisShim","pick","attr","NATIVE_SET_TIMEOUT","globalThis","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","BASE64_OVERHEAD","byteLength","utf8Length","encode","qs","qry","pairs","pair","TransportError","Transport","details","onPause","schema","query","hostname","encodedQuery","alphabet","prev","num","yeast","hasCORS","XHR","xdomain","hasXHR2","XMLHttpRequest","Polling","isSSL","port","forceBase64","pause","total","close","Request","req","xhrStatus","xhr","err","fromError","unloadHandler","terminationEvent","nextTick","setTimeoutFn","WebSocket","usingBrowserWebSocket","defaultBinaryType","isReactNative","WS","protocols","closeEvent","ev","lastPacket","WT","stream","decoderStream","reader","encoderStream","read","done","transports","src","pathNames","queryKey","regx","$0","$1","$2","Socket","transport","failed","onTransportOpen","msg","cleanup","freezeTransport","onerror","onTransportClose","onclose","onupgrade","to","payloadSize","cleanupAndClose","waitForUpgrade","upgrades","filteredUpgrades","url","loc","host","toString","withNativeFile","hasBinary","toJSON","deconstructPacket","buffers","packetData","pack","_deconstructPacket","placeholder","newData","reconstructPacket","_reconstructPacket","RESERVED_EVENTS","PacketType","Encoder","replacer","deconstruction","isObject","Decoder","reviver","isBinaryEvent","BinaryReconstructor","buf","payload","binData","io","nsp","ack","isTransportWritable","withErr","resolve","reject","arg1","arg2","responseArgs","listeners","sent","pid","subDestroy","compress","Backoff","ms","rand","deviation","jitter","Manager","_parser","Engine","socket","openSubDestroy","onError","errorSub","nsps","cache","parsed","sameNamespace","newConnection","getAuthorization","coms","connectSocket","connectionString","connectionOptions","connect","comsConnect","comsDisconnect","comsError","sendHistory","receiveMatchUp","exeption","disconnectSocket","endBroadcast","auth_match","surfaces","inout","broadcasting","startBroadcast","pc","sendKey","broadcastStatus","InvalidTokenError","b64DecodeUnicode","base64UrlDecode","jwtDecode","part","validateToken","decodedToken","dateNow","JWT_TOKEN_STORAGE_NAME","logOut","logIn","thisArg","getPrototypeOf","kindOf","thing","kindOfTest","typeOfTest","isArray","isUndefined","isBuffer","val","isFunction","isArrayBuffer","isArrayBufferView","isString","isNumber","isBoolean","isPlainObject","isDate","isFile","isBlob","isFileList","isStream","isFormData","kind","isURLSearchParams","trim","forEach","allOwnKeys","findKey","_key","_global","isContextDefined","caseless","assignValue","targetKey","stripBOM","inherits","superConstructor","props","descriptors","toFlatObject","sourceObj","destObj","filter","propFilter","prop","merged","endsWith","searchString","lastIndex","isTypedArray","TypedArray","forEachEntry","iterator","matchAll","regExp","matches","isHTMLForm","toCamelCase","hasOwnProperty","isRegExp","reduceDescriptors","reducer","reducedDescriptors","descriptor","ret","freezeMethods","toObjectSet","arrayOrString","toFiniteNumber","defaultValue","ALPHA","DIGIT","ALPHABET","generateString","isSpecCompliantForm","toJSONObject","stack","visit","reducedValue","isAsyncFn","isThenable","utils$1","AxiosError","config","request","response","utils","customProps","axiosError","httpAdapter","isVisitable","removeBrackets","renderKey","dots","isFlatArray","predicates","toFormData","formData","option","metaTokens","visitor","defaultVisitor","indexes","useBlob","convertValue","exposedHelpers","build","charMap","AxiosURLSearchParams","encoder","_encode","buildURL","serializeFn","serializedParams","hashmarkIndex","InterceptorManager","fulfilled","InterceptorManager$1","transitionalDefaults","URLSearchParams$1","FormData$1","Blob$1","platform$1","URLSearchParams","FormData","Blob","hasBrowserEnv","hasStandardBrowserEnv","product","hasStandardBrowserWebWorkerEnv","platform","toURLEncodedForm","helpers","parsePropPath","arrayToObject","formDataToJSON","buildPath","isNumericKey","isLast","stringifySafely","rawValue","defaults","headers","contentType","hasJSONContentType","isObjectPayload","_FormData","transitional","forcedJSONParsing","JSONRequested","strictJSONParsing","method","defaults$1","ignoreDuplicateOf","parseHeaders","rawHeaders","$internals","normalizeHeader","normalizeValue","parseTokens","tokens","tokensRE","isValidHeaderName","matchHeaderValue","isHeaderNameFilter","formatHeader","char","buildAccessors","accessorName","methodName","arg3","AxiosHeaders","valueOrRewrite","rewrite","setHeader","_value","_header","_rewrite","lHeader","setHeaders","deleted","deleteHeader","normalized","targets","asStrings","first","computed","defineAccessor","mapped","headerValue","AxiosHeaders$1","transformData","fns","isCancel","CanceledError","settle","validateStatus","cookies","expires","secure","cookie","isAbsoluteURL","combineURLs","baseURL","relativeURL","buildFullPath","requestedURL","isURLSameOrigin","msie","urlParsingNode","originURL","resolveURL","href","requestURL","parseProtocol","speedometer","samplesCount","head","tail","firstSampleTS","chunkLength","startedAt","bytesCount","passed","progressEventReducer","isDownloadStream","bytesNotified","_speedometer","loaded","progressBytes","rate","inRange","isXHRAdapterSupported","xhrAdapter","requestData","requestHeaders","responseType","withXSRFToken","onCanceled","username","password","fullPath","onloadend","responseHeaders","timeoutErrorMessage","xsrfValue","cancel","knownAdapters","renderReason","isResolvedHandle","adapter","adapters","nameOrAdapter","rejectedReasons","reasons","throwIfCancellationRequested","dispatchRequest","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","VERSION","validators","deprecatedWarnings","validator","formatMessage","desc","assertOptions","allowUnknown","Axios","instanceConfig","configOrUrl","paramsSerializer","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","promise","chain","newConfig","onFulfilled","onRejected","generateHTTPMethod","isForm","Axios$1","CancelToken","executor","resolvePromise","onfulfilled","_resolve","CancelToken$1","spread","isAxiosError","HttpStatusCode","HttpStatusCode$1","createInstance","defaultConfig","axios","promises","axios$1","axiosInstance","removeAuthorization","addAuthorization","baseApi","systemLogin","email","submitCredentials","res","setDev","updateTournamentDetails","updateMatchDetails","updateDetails","touchTimer","registeredFunctions","intersection","evnt","mouse","tapHandler","processEvnt","lastTap","stopPropagation","matchedClasses","thisTap","callFunction","pointerEvent","holdAction","touchleave","isTouch","isTouchTimer","curRootClass","addtouchclass","removetouchclass","eventManager","broadcastScore","match_meta","match_message","sendScoreUpdate","next_update","last_timeout","last_update","update_window","wait_time","checkMatchEnd","strokeAction","last_action","updatePlayer","updatePlayerDetails","rankElement","wtnElement","utrElement","teamElement","idElement","changeFormat","selectionContainer","format_name","DOUBLE_FAULT","toggles","classAction","playerRole","slider_side","changeValue","rallyMode","actions","player_side","sound","styleButton","player_position","checkStartTime","point_location","getPointLocation","what","p0location","p1location","exportMatch","download","textToWrite","fileNameToSaveAs","textFileAsBlob","downloadLink","toggleChart","visible","emailblackImage","modalShare","json_data","shareResult","email_message","emailOption","clipboardOption","sendHistoryOption","editPoint","epSGP","point_winner","point_loser","changePointWinner","changePointPlayer","changeResultOptions","editPointDisplay","pointPlayer","pointResult","pointWinner","updatePoint","editPlayer","editPlayerDisplay","playerName","targetElement","playerRank","playerWTN","playerUTR","pointsImage","modalHelp","quick_start","quick","helptext","modalInfo","enterKey","key_entry","keyAction","submit","submitKey","viewGameFish","gameIndex","viewEditPoint","pointIndex","viewStats","viewMatchFormat","viewGameTree","viewMomentum","viewPointHistory","matchArchive","outcomeEntry","mainMenu","undoAction","redoAction","changeServer","swapAction","registerEvents","module","this","__webpack_modules__","__unused_webpack_module","__webpack_exports__","__webpack_require__","clipboard","tiny_emitter","tiny_emitter_default","listen","listen_default","src_select","select_default","command","ClipboardActionCut","selectedText","actions_cut","createFakeElement","isRTL","fakeElement","yPosition","fakeCopyAction","ClipboardActionCopy","actions_copy","_typeof","ClipboardActionDefault","_options$action","container","actions_default","clipboard_typeof","_classCallCheck","Constructor","_defineProperties","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","call","_assertThisInitialized","getAttributeValue","Clipboard","_Emitter","_super","trigger","_this","_this2","support","DOCUMENT_NODE_TYPE","closest","__unused_webpack_exports","_delegate","useCapture","listenerFn","delegate","elements","exports","is","listenNode","listenNodeList","listenSelector","nodeList","isReadOnly","ctx","evtArr","evts","liveEvents","__webpack_module_cache__","moduleId","getter","queryString","vars","checkUserUUID","defineEntryEvents","optionValue","iocCodes","loadCurrent","catchTab","playername","hold_targets","chLogo","renderDefaultPage","PARAMETER_REGEXP","REPLACE_VARIABLE_REGEXP","WILDCARD_REGEXP","REPLACE_WILDCARD","NOT_SURE_REGEXP","REPLACE_NOT_SURE","START_BY_SLASH_REGEXP","MATCH_REGEXP_FLAGS","getCurrentEnvURL","fallback","windowAvailable","clean","extractHashFromURL","regExpResultToParams","extractGETParameters","tmp","parseQuery","matchRoute","route","_extractGETParameters","GETParams","paramNames","pattern","full","regexp","pushStateAvailable","undefinedOrTrue","parseNavigateOptions","resolveOptions","accumulateHooks","hooks","Q","funcs","idx","moveForward","condition","two","setLocationPath","matchPathToRegisteredRoutes","checkForDeprecationMethods","checkForForceOp","isWindowAvailable","isPushStateAvailable","updateBrowserURL","isItUsingHash","checkForLeaveHook","oldMatch","leaveLoopDone","runHook","newLocationVSOldMatch","someOfTheLastOnesMatch","shouldStop","checkForBeforeHook","callHandler","checkForAfterHook","checkForAlreadyHook","checkForNotFoundHandler","notFoundRoute","hashString","notFoundMatch","errorOut","flushCurrent","foundLifecycle","notFoundLifeCycle","_ref","notFoundHandled","_extends","processMatches","nextMatch","waitingList","DEFAULT_LINK_SELECTOR","Navigo","appRoute","DEFAULT_RESOLVE_OPTIONS","routes","destroyed","genericHooks","_checkForAHash","composePathWithRoot","createRoute","handler","_path$p","_handler","_hooks","navigate","navigateOptions","_ref2","navigateByName","generate","off","destroy","notFound","updatePageLinks","findLinks","link","u","setGenericHooks","lastResolved","getLinkPath","pathToMatchObject","getCurrentLocation","directMatchWithRegisteredRoutes","directMatchWithLocation","currentLocation","annotatePathWithRoot","addHook","func","getRoute","nameOrHandler","__markAsClean","define_process_env_default","router"],"mappings":"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AI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,WAAY,MAAOA,EAAI,MAAM,EAAG,IAAKA,EAAI,MAAM,CAAE,EACvD,CAAE,GAAI,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","x_google_ignoreList":[18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,296,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,368,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392]}